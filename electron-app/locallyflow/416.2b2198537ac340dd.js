(self.webpackChunklocallyflow=self.webpackChunklocallyflow||[]).push([[416],{416:(y,w,r)=>{"use strict";r.r(w),r.d(w,{FlowsModule:()=>Ru});var i={};r.r(i),r.d(i,{forceCenter:()=>ia,forceCollide:()=>Or,forceLink:()=>Rr,forceManyBody:()=>zr,forceRadial:()=>La,forceSimulation:()=>jr,forceX:()=>ka,forceY:()=>Pa});var p={};r.r(p),r.d(p,{dispatch:()=>ln});var c={};r.r(c),r.d(c,{interval:()=>Fa,now:()=>be,timeout:()=>pn,timer:()=>Be,timerFlush:()=>Zn});var d=r(6367),u=r(177),t=r(3953);let h=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-header"]],standalone:!0,features:[t.aNF],decls:12,vars:1,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-gray-100","hover:text-white",3,"routerLink"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3,"Listado de flujos"),t.k0s(),t.j41(4,"div",3)(5,"a",4),t.EFF(6,"Flujos"),t.k0s(),t.j41(7,"span"),t.EFF(8," - Listado"),t.k0s()()(),t.j41(9,"div",5)(10,"button",6),t.EFF(11," Crear nuevo Flujo "),t.k0s()()()),2&o&&(t.R7$(10),t.Y8G("routerLink","../item"))},dependencies:[u.MD,d.iI,d.Wk],encapsulation:2})}return e})(),a=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-flow-item"]],standalone:!0,features:[t.aNF],decls:17,vars:0,consts:[[1,"flex","w-full","shadow-md","rounded-lg","gap-2","p-3","flex-col","md:w-72","cursor-pointer","bg-background","hover:bg-card"],[1,"text-xs","text-muted-foreground"],[1,"border-dashed","border-border"],[1,"flex","flex-row","items-center","justify-between"],[1,"text-lg","text-foreground"],[1,"flex","gap-2","justify-center","items-center","md:justify-start","md:items-start"],[1,"focus-visible:ring-ring","inline-flex","h-8","items-center","justify-start","whitespace-nowrap","rounded-md","border","border-primary","bg-background","px-3","text-xs","font-medium","text-primary","shadow-sm","transition-colors","focus-visible:outline-none","focus-visible:ring-1","disabled:pointer-events-none","disabled:opacity-50"],[1,"focus-visible:ring-ring","inline-flex","h-8","items-center","justify-start","whitespace-nowrap","rounded-md","border","border-border","bg-background","px-3","text-xs","font-medium","text-muted-foreground","shadow-sm","transition-colors","focus-visible:outline-none","focus-visible:ring-1","disabled:pointer-events-none","disabled:opacity-50"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"span",1),t.EFF(2,"#1"),t.k0s(),t.nrm(3,"hr",2),t.j41(4,"div",3)(5,"span",4),t.EFF(6,"Flujo de Compra"),t.k0s()(),t.j41(7,"span",1),t.EFF(8,"Flujo de prueba demostrando un proceso de compra, es el por defecto corriendo en el chatbot"),t.k0s(),t.nrm(9,"hr",2),t.j41(10,"div",5)(11,"div",6),t.EFF(12," Whatsapp "),t.k0s(),t.j41(13,"div",7),t.EFF(14," Instagram "),t.k0s(),t.j41(15,"div",7),t.EFF(16," Facebook "),t.k0s()()())},dependencies:[u.MD],encapsulation:2})}return e})(),f=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-flow"]],standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"mb-4","flex","flex-row","justify-evenly","gap-2","flex-wrap","w-full"],[3,"routerLink"]],template:function(o,m){1&o&&(t.j41(0,"div",0),t.nrm(1,"app-flow-item",1),t.k0s()),2&o&&(t.R7$(),t.Y8G("routerLink","../item"))},dependencies:[u.MD,a,d.iI,d.Wk],encapsulation:2})}return e})();var g=r(4600),l=r(6134);let v=(()=>{class e{constructor(){this.forms=[]}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-modal-beta"]],inputs:{forms:"forms",data:"data"},standalone:!0,features:[t.aNF],decls:5,vars:1,consts:[[1,"flex","flex-col","items-center","justify-start","w-full"],[1,"flex","justify-center","items-center","w-full"],["src","assets/icons/heroicons/outline/information-circle.svg",3,"svgClass"],[1,"text-foreground"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"svg-icon",2),t.k0s(),t.j41(3,"span",3),t.EFF(4,"MVP, por lo que actualmente se tiene solo un flujo funcionando"),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("svgClass","h-20 w-20 text-red-600"))},dependencies:[u.MD,l.DM],encapsulation:2})}return e})();function x(e,s){}let E=(()=>{class e{constructor(){this.onShowItem=!1,this.modalService=(0,t.WQX)(g.B)}ngOnInit(){this.modalService.open(v,{title:"Alerta",size:"sm",forms:null,data:null,icon:"assets/icons/heroicons/outline/information-circle.svg",actions:[]})}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list"]],standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[3,"classList"],["dcWrapper",""]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",0),t.nrm(2,"app-list-header")(3,"app-list-flow"),t.k0s(),t.DNE(4,x,0,0,"ng-template",1),t.k0s()),2&o&&(t.Y8G("classList",m.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),t.R7$(),t.Y8G("classList",m.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"))},dependencies:[u.MD,h,f],encapsulation:2})}return e})(),C=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-item-header"]],standalone:!0,features:[t.aNF],decls:14,vars:1,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],[1,"hover:text-primary",3,"routerLink"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-red-600","px-4","py-2.5","text-xs","font-medium","text-gray-100","hover:text-white"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-gray-100","hover:text-white"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3,"Detalles de Flujo"),t.k0s(),t.j41(4,"div",3)(5,"a",4),t.EFF(6,"Flow"),t.k0s(),t.j41(7,"span"),t.EFF(8," - item"),t.k0s()()(),t.j41(9,"div",5)(10,"button",6),t.EFF(11," Eliminar "),t.k0s(),t.j41(12,"button",7),t.EFF(13," Guardar Cambios "),t.k0s()()()),2&o&&(t.R7$(5),t.Y8G("routerLink","../list"))},dependencies:[u.MD,d.Wk],encapsulation:2})}return e})(),A=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-flow-detail"]],standalone:!0,features:[t.aNF],decls:43,vars:6,consts:[[1,"flex","flex-col","w-full"],[1,"flex","py-2","flex-col","w-full"],[1,"text-xl","text-foreground","text-bold"],[1,"px-2","flex-col","flex","w-full","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text",1,"w-full"],[1,"w-full",3,"resize"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col","w-full","gap-4"],[1,"flex","flex-wrap","gap-2"],[1,"focus-visible:ring-ring","inline-flex","h-8","items-center","justify-start","whitespace-nowrap","rounded-md","border","border-primary","bg-background","px-3","text-xs","font-medium","text-primary","shadow-sm","transition-colors","focus-visible:outline-none","focus-visible:ring-1","disabled:pointer-events-none","disabled:opacity-50"],[1,"capitalize"],[1,"focus-visible:ring-ring","inline-flex","h-8","items-center","justify-start","whitespace-nowrap","rounded-md","border","border-muted","bg-background","px-3","text-xs","font-medium","text-muted","shadow-sm","transition-colors","focus-visible:outline-none","focus-visible:ring-1","disabled:pointer-events-none","disabled:opacity-50"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3,"Detalles"),t.k0s(),t.j41(4,"div",3)(5,"span",4),t.EFF(6,"Nombre"),t.k0s(),t.nrm(7,"input",5),t.j41(8,"span",4),t.EFF(9,"Descripcion"),t.k0s(),t.j41(10,"textarea",6),t.bIt("resize",function(){return!1}),t.k0s(),t.j41(11,"span",4),t.EFF(12,"Palabra de soporte"),t.k0s(),t.nrm(13,"input",5),t.k0s()(),t.nrm(14,"hr",7),t.j41(15,"div",8)(16,"span",2),t.EFF(17,"Aplicaciones"),t.k0s(),t.j41(18,"div",9)(19,"div",10)(20,"p",11),t.EFF(21),t.k0s()(),t.j41(22,"div",12)(23,"p",11),t.EFF(24),t.k0s()(),t.j41(25,"div",12)(26,"p",11),t.EFF(27),t.k0s()(),t.j41(28,"div",12)(29,"p",11),t.EFF(30),t.k0s()()()(),t.nrm(31,"hr",7),t.j41(32,"div",8)(33,"span",2),t.EFF(34,"Eventos"),t.k0s(),t.j41(35,"div",9)(36,"div",10)(37,"p",11),t.EFF(38),t.k0s()(),t.j41(39,"div",10)(40,"p",11),t.EFF(41),t.k0s()()()(),t.nrm(42,"hr",7),t.k0s()),2&o&&(t.R7$(21),t.JRh("Whatsapp"),t.R7$(3),t.JRh("Instagram"),t.R7$(3),t.JRh("Facebook"),t.R7$(3),t.JRh("Custom"),t.R7$(8),t.JRh("Soporte"),t.R7$(3),t.JRh("Venta"))},dependencies:[u.MD],encapsulation:2})}return e})();var M=r(1635),S=r(9969);function N(){}function F(e){return null==e?N:function(){return this.querySelector(e)}}function G(){return[]}function $(e){return null==e?G:function(){return this.querySelectorAll(e)}}function P(e){return function(){return this.matches(e)}}function O(e){return function(s){return s.matches(e)}}var D=Array.prototype.find;function H(){return this.firstElementChild}var B=Array.prototype.filter;function Q(){return Array.from(this.children)}function ot(e){return new Array(e.length)}function dt(e,s){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=s}function J(e,s,n,o,m,b){for(var T,_=0,k=s.length,R=b.length;_<R;++_)(T=s[_])?(T.__data__=b[_],o[_]=T):n[_]=new dt(e,b[_]);for(;_<k;++_)(T=s[_])&&(m[_]=T)}function et(e,s,n,o,m,b,_){var T,k,it,R=new Map,V=s.length,X=b.length,W=new Array(V);for(T=0;T<V;++T)(k=s[T])&&(W[T]=it=_.call(k,k.__data__,T,s)+"",R.has(it)?m[T]=k:R.set(it,k));for(T=0;T<X;++T)it=_.call(e,b[T],T,b)+"",(k=R.get(it))?(o[T]=k,k.__data__=b[T],R.delete(it)):n[T]=new dt(e,b[T]);for(T=0;T<V;++T)(k=s[T])&&R.get(W[T])===k&&(m[T]=k)}function at(e){return e.__data__}function ft(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function vt(e,s){return e<s?-1:e>s?1:e>=s?0:NaN}dt.prototype={constructor:dt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,s){return this._parent.insertBefore(e,s)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var kt="http://www.w3.org/1999/xhtml";const Mt={svg:"http://www.w3.org/2000/svg",xhtml:kt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ut(e){var s=e+="",n=s.indexOf(":");return n>=0&&"xmlns"!==(s=e.slice(0,n))&&(e=e.slice(n+1)),Mt.hasOwnProperty(s)?{space:Mt[s],local:e}:e}function ae(e){return function(){this.removeAttribute(e)}}function on(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Se(e,s){return function(){this.setAttribute(e,s)}}function Qt(e,s){return function(){this.setAttributeNS(e.space,e.local,s)}}function Ie(e,s){return function(){var n=s.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Le(e,s){return function(){var n=s.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ge(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bt(e){return function(){this.style.removeProperty(e)}}function $t(e,s,n){return function(){this.style.setProperty(e,s,n)}}function qr(e,s,n){return function(){var o=s.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function ue(e,s){return e.style.getPropertyValue(s)||ge(e).getComputedStyle(e,null).getPropertyValue(s)}function ei(e){return function(){delete this[e]}}function ni(e,s){return function(){this[e]=s}}function ri(e,s){return function(){var n=s.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function In(e){return e.trim().split(/^|\s+/)}function un(e){return e.classList||new Ln(e)}function Ln(e){this._node=e,this._names=In(e.getAttribute("class")||"")}function kn(e,s){for(var n=un(e),o=-1,m=s.length;++o<m;)n.add(s[o])}function Pn(e,s){for(var n=un(e),o=-1,m=s.length;++o<m;)n.remove(s[o])}function si(e){return function(){kn(this,e)}}function oi(e){return function(){Pn(this,e)}}function ai(e,s){return function(){(s.apply(this,arguments)?kn:Pn)(this,e)}}function hi(){this.textContent=""}function ci(e){return function(){this.textContent=e}}function fi(e){return function(){var s=e.apply(this,arguments);this.textContent=s??""}}function di(){this.innerHTML=""}function pi(e){return function(){this.innerHTML=e}}function gi(e){return function(){var s=e.apply(this,arguments);this.innerHTML=s??""}}function mi(){this.nextSibling&&this.parentNode.appendChild(this)}function xi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bi(e){return function(){var s=this.ownerDocument,n=this.namespaceURI;return n===kt&&s.documentElement.namespaceURI===kt?s.createElement(e):s.createElementNS(n,e)}}function Ei(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function On(e){var s=Ut(e);return(s.local?Ei:bi)(s)}function _i(){return null}function Mi(){var e=this.parentNode;e&&e.removeChild(this)}function Ni(){var e=this.cloneNode(!1),s=this.parentNode;return s?s.insertBefore(e,this.nextSibling):e}function Si(){var e=this.cloneNode(!0),s=this.parentNode;return s?s.insertBefore(e,this.nextSibling):e}function Oi(e){return function(){var s=this.__on;if(s){for(var b,n=0,o=-1,m=s.length;n<m;++n)b=s[n],e.type&&b.type!==e.type||b.name!==e.name?s[++o]=b:this.removeEventListener(b.type,b.listener,b.options);++o?s.length=o:delete this.__on}}}function Fi(e,s,n){return function(){var m,o=this.__on,b=function ki(e){return function(s){e.call(this,s,this.__data__)}}(s);if(o)for(var _=0,T=o.length;_<T;++_)if((m=o[_]).type===e.type&&m.name===e.name)return this.removeEventListener(m.type,m.listener,m.options),this.addEventListener(m.type,m.listener=b,m.options=n),void(m.value=s);this.addEventListener(e.type,b,n),m={type:e.type,name:e.name,value:s,listener:b,options:n},o?o.push(m):this.__on=[m]}}function Fn(e,s,n){var o=ge(e),m=o.CustomEvent;"function"==typeof m?m=new m(s,n):(m=o.document.createEvent("Event"),n?(m.initEvent(s,n.bubbles,n.cancelable),m.detail=n.detail):m.initEvent(s,!1,!1)),e.dispatchEvent(m)}function Gi(e,s){return function(){return Fn(this,e,s)}}function Bi(e,s){return function(){return Fn(this,e,s.apply(this,arguments))}}Ln.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var s=this._names.indexOf(e);s>=0&&(this._names.splice(s,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Dn=[null];function It(e,s){this._groups=e,this._parents=s}function Gn(){return new It([[document.documentElement]],Dn)}It.prototype=Gn.prototype={constructor:It,select:function j(e){"function"!=typeof e&&(e=F(e));for(var s=this._groups,n=s.length,o=new Array(n),m=0;m<n;++m)for(var k,R,b=s[m],_=b.length,T=o[m]=new Array(_),V=0;V<_;++V)(k=b[V])&&(R=e.call(k,k.__data__,V,b))&&("__data__"in k&&(R.__data__=k.__data__),T[V]=R);return new It(o,this._parents)},selectAll:function L(e){e="function"==typeof e?function I(e){return function(){return function Y(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):$(e);for(var s=this._groups,n=s.length,o=[],m=[],b=0;b<n;++b)for(var k,_=s[b],T=_.length,R=0;R<T;++R)(k=_[R])&&(o.push(e.call(k,k.__data__,R,_)),m.push(k));return new It(o,m)},selectChild:function z(e){return this.select(null==e?H:function U(e){return function(){return D.call(this.children,e)}}("function"==typeof e?e:O(e)))},selectChildren:function rt(e){return this.selectAll(null==e?Q:function Z(e){return function(){return B.call(this.children,e)}}("function"==typeof e?e:O(e)))},filter:function tt(e){"function"!=typeof e&&(e=P(e));for(var s=this._groups,n=s.length,o=new Array(n),m=0;m<n;++m)for(var k,b=s[m],_=b.length,T=o[m]=[],R=0;R<_;++R)(k=b[R])&&e.call(k,k.__data__,R,b)&&T.push(k);return new It(o,this._parents)},data:function ct(e,s){if(!arguments.length)return Array.from(this,at);var n=s?et:J,o=this._parents,m=this._groups;"function"!=typeof e&&(e=function K(e){return function(){return e}}(e));for(var b=m.length,_=new Array(b),T=new Array(b),k=new Array(b),R=0;R<b;++R){var V=o[R],X=m[R],W=X.length,it=ft(e.call(V,V&&V.__data__,R,o)),q=it.length,nt=T[R]=new Array(q),st=_[R]=new Array(q);n(V,X,nt,st,k[R]=new Array(W),it,s);for(var xt,bt,pt=0,lt=0;pt<q;++pt)if(xt=nt[pt]){for(pt>=lt&&(lt=pt+1);!(bt=st[lt])&&++lt<q;);xt._next=bt||null}}return(_=new It(_,o))._enter=T,_._exit=k,_},enter:function ut(){return new It(this._enter||this._groups.map(ot),this._parents)},exit:function gt(){return new It(this._exit||this._groups.map(ot),this._parents)},join:function yt(e,s,n){var o=this.enter(),m=this,b=this.exit();return"function"==typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=s&&(m=s(m))&&(m=m.selection()),null==n?b.remove():n(b),o&&m?o.merge(m).order():m},merge:function Ot(e){for(var s=e.selection?e.selection():e,n=this._groups,o=s._groups,m=n.length,_=Math.min(m,o.length),T=new Array(m),k=0;k<_;++k)for(var it,R=n[k],V=o[k],X=R.length,W=T[k]=new Array(X),q=0;q<X;++q)(it=R[q]||V[q])&&(W[q]=it);for(;k<m;++k)T[k]=n[k];return new It(T,this._parents)},selection:function zi(){return this},order:function wt(){for(var e=this._groups,s=-1,n=e.length;++s<n;)for(var _,o=e[s],m=o.length-1,b=o[m];--m>=0;)(_=o[m])&&(b&&4^_.compareDocumentPosition(b)&&b.parentNode.insertBefore(_,b),b=_);return this},sort:function Ct(e){function s(X,W){return X&&W?e(X.__data__,W.__data__):!X-!W}e||(e=vt);for(var n=this._groups,o=n.length,m=new Array(o),b=0;b<o;++b){for(var R,_=n[b],T=_.length,k=m[b]=new Array(T),V=0;V<T;++V)(R=_[V])&&(k[V]=R);k.sort(s)}return new It(m,this._parents).order()},call:function zt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function mt(){return Array.from(this)},node:function Wt(){for(var e=this._groups,s=0,n=e.length;s<n;++s)for(var o=e[s],m=0,b=o.length;m<b;++m){var _=o[m];if(_)return _}return null},size:function Kt(){let e=0;for(const s of this)++e;return e},empty:function sn(){return!this.node()},each:function oe(e){for(var s=this._groups,n=0,o=s.length;n<o;++n)for(var T,m=s[n],b=0,_=m.length;b<_;++b)(T=m[b])&&e.call(T,T.__data__,b,m);return this},attr:function an(e,s){var n=Ut(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==s?n.local?on:ae:"function"==typeof s?n.local?Le:Ie:n.local?Qt:Se)(n,s))},style:function ti(e,s,n){return arguments.length>1?this.each((null==s?Bt:"function"==typeof s?qr:$t)(e,s,n??"")):ue(this.node(),e)},property:function ii(e,s){return arguments.length>1?this.each((null==s?ei:"function"==typeof s?ri:ni)(e,s)):this.node()[e]},classed:function ui(e,s){var n=In(e+"");if(arguments.length<2){for(var o=un(this.node()),m=-1,b=n.length;++m<b;)if(!o.contains(n[m]))return!1;return!0}return this.each(("function"==typeof s?ai:s?si:oi)(n,s))},text:function li(e){return arguments.length?this.each(null==e?hi:("function"==typeof e?fi:ci)(e)):this.node().textContent},html:function vi(e){return arguments.length?this.each(null==e?di:("function"==typeof e?gi:pi)(e)):this.node().innerHTML},raise:function yi(){return this.each(mi)},lower:function wi(){return this.each(xi)},append:function Ci(e){var s="function"==typeof e?e:On(e);return this.select(function(){return this.appendChild(s.apply(this,arguments))})},insert:function Ti(e,s){var n="function"==typeof e?e:On(e),o=null==s?_i:"function"==typeof s?s:F(s);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function Ai(){return this.each(Mi)},clone:function Ii(e){return this.select(e?Si:Ni)},datum:function Li(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function Di(e,s,n){var m,_,o=function Pi(e){return e.trim().split(/^|\s+/).map(function(s){var n="",o=s.indexOf(".");return o>=0&&(n=s.slice(o+1),s=s.slice(0,o)),{type:s,name:n}})}(e+""),b=o.length;if(!(arguments.length<2)){for(T=s?Fi:Oi,m=0;m<b;++m)this.each(T(o[m],s,n));return this}var T=this.node().__on;if(T)for(var V,k=0,R=T.length;k<R;++k)for(m=0,V=T[k];m<b;++m)if((_=o[m]).type===V.type&&_.name===V.name)return V.value},dispatch:function Ri(e,s){return this.each(("function"==typeof s?Bi:Gi)(e,s))},[Symbol.iterator]:function*ji(){for(var e=this._groups,s=0,n=e.length;s<n;++s)for(var _,o=e[s],m=0,b=o.length;m<b;++m)(_=o[m])&&(yield _)}};const ve=Gn;function Bn(e){return"string"==typeof e?new It([[document.querySelector(e)]],[document.documentElement]):new It([[e]],Dn)}function Rn(e,s,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+s)/6,(e._y0+4*e._y1+n)/6)}function ke(e){this._context=e}function jn(e,s){this._basis=new ke(e),this._beta=s}ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rn(this,e,s)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=s}},jn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,s=this._y,n=e.length-1;if(n>0)for(var k,o=e[0],m=s[0],b=e[n]-o,_=s[n]-m,T=-1;++T<=n;)this._basis.point(this._beta*e[T]+(1-this._beta)*(o+(k=T/n)*b),this._beta*s[T]+(1-this._beta)*(m+k*_));this._x=this._y=null,this._basis.lineEnd()},point:function(e,s){this._x.push(+e),this._y.push(+s)}};const Ui=function e(s){function n(o){return 1===s?new ke(o):new jn(o,s)}return n.beta=function(o){return e(+o)},n}(.85);var hn=Math.PI,cn=2*hn,ee=1e-6,$i=cn-ee;function fn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zn(){return new fn}fn.prototype=zn.prototype={constructor:fn,moveTo:function(e,s){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+s)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,s){this._+="L"+(this._x1=+e)+","+(this._y1=+s)},quadraticCurveTo:function(e,s,n,o){this._+="Q"+ +e+","+ +s+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(e,s,n,o,m,b){this._+="C"+ +e+","+ +s+","+ +n+","+ +o+","+(this._x1=+m)+","+(this._y1=+b)},arcTo:function(e,s,n,o,m){var b=this._x1,_=this._y1,T=(n=+n)-(e=+e),k=(o=+o)-(s=+s),R=b-e,V=_-s,X=R*R+V*V;if((m=+m)<0)throw new Error("negative radius: "+m);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=s);else if(X>ee)if(Math.abs(V*T-k*R)>ee&&m){var W=n-b,it=o-_,q=T*T+k*k,nt=W*W+it*it,st=Math.sqrt(q),ht=Math.sqrt(X),pt=m*Math.tan((hn-Math.acos((q+X-nt)/(2*st*ht)))/2),lt=pt/ht,xt=pt/st;Math.abs(lt-1)>ee&&(this._+="L"+(e+lt*R)+","+(s+lt*V)),this._+="A"+m+","+m+",0,0,"+ +(V*W>R*it)+","+(this._x1=e+xt*T)+","+(this._y1=s+xt*k)}else this._+="L"+(this._x1=e)+","+(this._y1=s)},arc:function(e,s,n,o,m,b){e=+e,s=+s,b=!!b;var _=(n=+n)*Math.cos(o),T=n*Math.sin(o),k=e+_,R=s+T,V=1^b,X=b?o-m:m-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+k+","+R:(Math.abs(this._x1-k)>ee||Math.abs(this._y1-R)>ee)&&(this._+="L"+k+","+R),n&&(X<0&&(X=X%cn+cn),X>$i?this._+="A"+n+","+n+",0,1,"+V+","+(e-_)+","+(s-T)+"A"+n+","+n+",0,1,"+V+","+(this._x1=k)+","+(this._y1=R):X>ee&&(this._+="A"+n+","+n+",0,"+ +(X>=hn)+","+V+","+(this._x1=e+n*Math.cos(m))+","+(this._y1=s+n*Math.sin(m))))},rect:function(e,s,n,o){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+s)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};const Vi=zn;function Pe(e){return function(){return e}}function Un(e){this._context=e}function Yi(e){return new Un(e)}function Hi(e){return e[0]}function Xi(e){return e[1]}function $n(){var e=Hi,s=Xi,n=Pe(!0),o=null,m=Yi,b=null;function _(T){var k,V,W,R=T.length,X=!1;for(null==o&&(b=m(W=Vi())),k=0;k<=R;++k)!(k<R&&n(V=T[k],k,T))===X&&((X=!X)?b.lineStart():b.lineEnd()),X&&b.point(+e(V,k,T),+s(V,k,T));if(W)return b=null,W+""||null}return _.x=function(T){return arguments.length?(e="function"==typeof T?T:Pe(+T),_):e},_.y=function(T){return arguments.length?(s="function"==typeof T?T:Pe(+T),_):s},_.defined=function(T){return arguments.length?(n="function"==typeof T?T:Pe(!!T),_):n},_.curve=function(T){return arguments.length?(m=T,null!=o&&(b=m(o)),_):m},_.context=function(T){return arguments.length?(null==T?o=b=null:b=m(o=T),_):o},_}Un.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:this._context.lineTo(e,s)}}};var Vn=Math.PI;function Hn(e){return(1-Math.cos(Vn*e))/2}var Wi={value:function(){}};function Xn(){for(var o,e=0,s=arguments.length,n={};e<s;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Oe(n)}function Oe(e){this._=e}function Qi(e,s){for(var m,n=0,o=e.length;n<o;++n)if((m=e[n]).name===s)return m.value}function Wn(e,s,n){for(var o=0,m=e.length;o<m;++o)if(e[o].name===s){e[o]=Wi,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:s,value:n}),e}Oe.prototype=Xn.prototype={constructor:Oe,on:function(e,s){var m,n=this._,o=function Ki(e,s){return e.trim().split(/^|\s+/).map(function(n){var o="",m=n.indexOf(".");if(m>=0&&(o=n.slice(m+1),n=n.slice(0,m)),n&&!s.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}(e+"",n),b=-1,_=o.length;if(!(arguments.length<2)){if(null!=s&&"function"!=typeof s)throw new Error("invalid callback: "+s);for(;++b<_;)if(m=(e=o[b]).type)n[m]=Wn(n[m],e.name,s);else if(null==s)for(m in n)n[m]=Wn(n[m],e.name,null);return this}for(;++b<_;)if((m=(e=o[b]).type)&&(m=Qi(n[m],e.name)))return m},copy:function(){var e={},s=this._;for(var n in s)e[n]=s[n].slice();return new Oe(e)},call:function(e,s){if((m=arguments.length-2)>0)for(var m,b,n=new Array(m),o=0;o<m;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,m=(b=this._[e]).length;o<m;++o)b[o].value.apply(s,n)},apply:function(e,s,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],m=0,b=o.length;m<b;++m)o[m].value.apply(s,n)}};const ln=Xn;var Fe,xe,he=0,me=0,ye=0,Kn=1e3,De=0,ne=0,Ge=0,we="object"==typeof performance&&performance.now?performance:Date,Qn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function be(){return ne||(Qn(Zi),ne=we.now()+Ge)}function Zi(){ne=0}function Ee(){this._call=this._time=this._next=null}function Be(e,s,n){var o=new Ee;return o.restart(e,s,n),o}function Zn(){be(),++he;for(var s,e=Fe;e;)(s=ne-e._time)>=0&&e._call.call(null,s),e=e._next;--he}function Jn(){ne=(De=we.now())+Ge,he=me=0;try{Zn()}finally{he=0,function qi(){for(var e,n,s=Fe,o=1/0;s;)s._call?(o>s._time&&(o=s._time),e=s,s=s._next):(n=s._next,s._next=null,s=e?e._next=n:Fe=n);xe=e,dn(o)}(),ne=0}}function Ji(){var e=we.now(),s=e-De;s>Kn&&(Ge-=s,De=e)}function dn(e){he||(me&&(me=clearTimeout(me)),e-ne>24?(e<1/0&&(me=setTimeout(Jn,e-we.now()-Ge)),ye&&(ye=clearInterval(ye))):(ye||(De=we.now(),ye=setInterval(Ji,Kn)),he=1,Qn(Jn)))}function pn(e,s,n){var o=new Ee;return o.restart(function(m){o.stop(),e(m+s)},s=null==s?0:+s,n),o}Ee.prototype=Be.prototype={constructor:Ee,restart:function(e,s,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?be():+n)+(null==s?0:+s),!this._next&&xe!==this&&(xe?xe._next=this:Fe=this,xe=this),this._call=e,this._time=n,dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,dn())}};var ts=ln("start","end","cancel","interrupt"),es=[],qn=0,Re=3;function ze(e,s,n,o,m,b){var _=e.__transition;if(_){if(n in _)return}else e.__transition={};!function ns(e,s,n){var m,o=e.__transition;function _(R){var V,X,W,it;if(1!==n.state)return k();for(V in o)if((it=o[V]).name===n.name){if(it.state===Re)return pn(_);4===it.state?(it.state=6,it.timer.stop(),it.on.call("interrupt",e,e.__data__,it.index,it.group),delete o[V]):+V<s&&(it.state=6,it.timer.stop(),it.on.call("cancel",e,e.__data__,it.index,it.group),delete o[V])}if(pn(function(){n.state===Re&&(n.state=4,n.timer.restart(T,n.delay,n.time),T(R))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=Re,m=new Array(W=n.tween.length),V=0,X=-1;V<W;++V)(it=n.tween[V].value.call(e,e.__data__,n.index,n.group))&&(m[++X]=it);m.length=X+1}}function T(R){for(var V=R<n.duration?n.ease.call(null,R/n.duration):(n.timer.restart(k),n.state=5,1),X=-1,W=m.length;++X<W;)m[X].call(e,V);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),k())}function k(){for(var R in n.state=6,n.timer.stop(),delete o[s],o)return;delete e.__transition}o[s]=n,n.timer=Be(function b(R){n.state=1,n.timer.restart(_,n.delay,n.time),n.delay<=R&&_(R-n.delay)},0,n.time)}(e,n,{name:s,index:o,group:m,on:ts,tween:es,time:b.time,delay:b.delay,duration:b.duration,ease:b.ease,timer:null,state:qn})}function mn(e,s){var n=Ft(e,s);if(n.state>qn)throw new Error("too late; already scheduled");return n}function Rt(e,s){var n=Ft(e,s);if(n.state>Re)throw new Error("too late; already running");return n}function Ft(e,s){var n=e.__transition;if(!n||!(n=n[s]))throw new Error("transition not found");return n}function Zt(e,s){return e=+e,s=+s,function(n){return e*(1-n)+s*n}}var Ue,nr=180/Math.PI,yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rr(e,s,n,o,m,b){var _,T,k;return(_=Math.sqrt(e*e+s*s))&&(e/=_,s/=_),(k=e*n+s*o)&&(n-=e*k,o-=s*k),(T=Math.sqrt(n*n+o*o))&&(n/=T,o/=T,k/=T),e*o<s*n&&(e=-e,s=-s,k=-k,_=-_),{translateX:m,translateY:b,rotate:Math.atan2(s,e)*nr,skewX:Math.atan(k)*nr,scaleX:_,scaleY:T}}function ir(e,s,n,o){function m(R){return R.length?R.pop()+" ":""}return function(R,V){var X=[],W=[];return R=e(R),V=e(V),function b(R,V,X,W,it,q){if(R!==X||V!==W){var nt=it.push("translate(",null,s,null,n);q.push({i:nt-4,x:Zt(R,X)},{i:nt-2,x:Zt(V,W)})}else(X||W)&&it.push("translate("+X+s+W+n)}(R.translateX,R.translateY,V.translateX,V.translateY,X,W),function _(R,V,X,W){R!==V?(R-V>180?V+=360:V-R>180&&(R+=360),W.push({i:X.push(m(X)+"rotate(",null,o)-2,x:Zt(R,V)})):V&&X.push(m(X)+"rotate("+V+o)}(R.rotate,V.rotate,X,W),function T(R,V,X,W){R!==V?W.push({i:X.push(m(X)+"skewX(",null,o)-2,x:Zt(R,V)}):V&&X.push(m(X)+"skewX("+V+o)}(R.skewX,V.skewX,X,W),function k(R,V,X,W,it,q){if(R!==X||V!==W){var nt=it.push(m(it)+"scale(",null,",",null,")");q.push({i:nt-4,x:Zt(R,X)},{i:nt-2,x:Zt(V,W)})}else(1!==X||1!==W)&&it.push(m(it)+"scale("+X+","+W+")")}(R.scaleX,R.scaleY,V.scaleX,V.scaleY,X,W),R=V=null,function(it){for(var st,q=-1,nt=W.length;++q<nt;)X[(st=W[q]).i]=st.x(it);return X.join("")}}}var as=ir(function ss(e){const s=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return s.isIdentity?yn:rr(s.a,s.b,s.c,s.d,s.e,s.f)},"px, ","px)","deg)"),us=ir(function os(e){return null!=e&&(Ue||(Ue=document.createElementNS("http://www.w3.org/2000/svg","g")),Ue.setAttribute("transform",e),e=Ue.transform.baseVal.consolidate())?rr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):yn},", ",")",")");function hs(e,s){var n,o;return function(){var m=Rt(this,e),b=m.tween;if(b!==n)for(var _=0,T=(o=n=b).length;_<T;++_)if(o[_].name===s){(o=o.slice()).splice(_,1);break}m.tween=o}}function cs(e,s,n){var o,m;if("function"!=typeof n)throw new Error;return function(){var b=Rt(this,e),_=b.tween;if(_!==o){m=(o=_).slice();for(var T={name:s,value:n},k=0,R=m.length;k<R;++k)if(m[k].name===s){m[k]=T;break}k===R&&m.push(T)}b.tween=m}}function xn(e,s,n){var o=e._id;return e.each(function(){var m=Rt(this,o);(m.value||(m.value={}))[s]=n.apply(this,arguments)}),function(m){return Ft(m,o).value[s]}}function wn(e,s,n){e.prototype=s.prototype=n,n.constructor=e}function sr(e,s){var n=Object.create(e.prototype);for(var o in s)n[o]=s[o];return n}function Ce(){}var $e=1/.7,ce="\\s*([+-]?\\d+)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ls=/^#([0-9a-f]{3,8})$/,ds=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),ps=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),gs=new RegExp(`^rgba\\(${ce},${ce},${ce},${Te}\\)$`),vs=new RegExp(`^rgba\\(${jt},${jt},${jt},${Te}\\)$`),ms=new RegExp(`^hsl\\(${Te},${jt},${jt}\\)$`),ys=new RegExp(`^hsla\\(${Te},${jt},${jt},${Te}\\)$`),or={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ar(){return this.rgb().formatHex()}function ur(){return this.rgb().formatRgb()}function Me(e){var s,n;return e=(e+"").trim().toLowerCase(),(s=ls.exec(e))?(n=s[1].length,s=parseInt(s[1],16),6===n?hr(s):3===n?new St(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===n?Ve(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===n?Ve(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=ds.exec(e))?new St(s[1],s[2],s[3],1):(s=ps.exec(e))?new St(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=gs.exec(e))?Ve(s[1],s[2],s[3],s[4]):(s=vs.exec(e))?Ve(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=ms.exec(e))?lr(s[1],s[2]/100,s[3]/100,1):(s=ys.exec(e))?lr(s[1],s[2]/100,s[3]/100,s[4]):or.hasOwnProperty(e)?hr(or[e]):"transparent"===e?new St(NaN,NaN,NaN,0):null}function hr(e){return new St(e>>16&255,e>>8&255,255&e,1)}function Ve(e,s,n,o){return o<=0&&(e=s=n=NaN),new St(e,s,n,o)}function Ye(e,s,n,o){return 1===arguments.length?function bs(e){return e instanceof Ce||(e=Me(e)),e?new St((e=e.rgb()).r,e.g,e.b,e.opacity):new St}(e):new St(e,s,n,o??1)}function St(e,s,n,o){this.r=+e,this.g=+s,this.b=+n,this.opacity=+o}function cr(){return`#${ie(this.r)}${ie(this.g)}${ie(this.b)}`}function fr(){const e=He(this.opacity);return`${1===e?"rgb(":"rgba("}${re(this.r)}, ${re(this.g)}, ${re(this.b)}${1===e?")":`, ${e})`}`}function He(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function re(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ie(e){return((e=re(e))<16?"0":"")+e.toString(16)}function lr(e,s,n,o){return o<=0?e=s=n=NaN:n<=0||n>=1?e=s=NaN:s<=0&&(e=NaN),new Dt(e,s,n,o)}function dr(e){if(e instanceof Dt)return new Dt(e.h,e.s,e.l,e.opacity);if(e instanceof Ce||(e=Me(e)),!e)return new Dt;if(e instanceof Dt)return e;var s=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,m=Math.min(s,n,o),b=Math.max(s,n,o),_=NaN,T=b-m,k=(b+m)/2;return T?(_=s===b?(n-o)/T+6*(n<o):n===b?(o-s)/T+2:(s-n)/T+4,T/=k<.5?b+m:2-b-m,_*=60):T=k>0&&k<1?0:_,new Dt(_,T,k,e.opacity)}function Dt(e,s,n,o){this.h=+e,this.s=+s,this.l=+n,this.opacity=+o}function pr(e){return(e=(e||0)%360)<0?e+360:e}function Xe(e){return Math.max(0,Math.min(1,e||0))}function bn(e,s,n){return 255*(e<60?s+(n-s)*e/60:e<180?n:e<240?s+(n-s)*(240-e)/60:s)}function gr(e,s,n,o,m){var b=e*e,_=b*e;return((1-3*e+3*b-_)*s+(4-6*b+3*_)*n+(1+3*e+3*b-3*_)*o+_*m)/6}wn(Ce,Me,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ar,formatHex:ar,formatHex8:function xs(){return this.rgb().formatHex8()},formatHsl:function ws(){return dr(this).formatHsl()},formatRgb:ur,toString:ur}),wn(St,Ye,sr(Ce,{brighter(e){return e=null==e?$e:Math.pow($e,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new St(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new St(re(this.r),re(this.g),re(this.b),He(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cr,formatHex:cr,formatHex8:function Es(){return`#${ie(this.r)}${ie(this.g)}${ie(this.b)}${ie(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fr,toString:fr})),wn(Dt,function Cs(e,s,n,o){return 1===arguments.length?dr(e):new Dt(e,s,n,o??1)},sr(Ce,{brighter(e){return e=null==e?$e:Math.pow($e,e),new Dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*s,m=2*n-o;return new St(bn(e>=240?e-240:e+120,m,o),bn(e,m,o),bn(e<120?e+240:e-120,m,o),this.opacity)},clamp(){return new Dt(pr(this.h),Xe(this.s),Xe(this.l),He(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=He(this.opacity);return`${1===e?"hsl(":"hsla("}${pr(this.h)}, ${100*Xe(this.s)}%, ${100*Xe(this.l)}%${1===e?")":`, ${e})`}`}}));const vr=e=>()=>e;function yr(e,s){var n=s-e;return n?function mr(e,s){return function(n){return e+n*s}}(e,n):vr(isNaN(e)?s:e)}const xr=function e(s){var n=function As(e){return 1==(e=+e)?yr:function(s,n){return n-s?function Ms(e,s,n){return e=Math.pow(e,n),s=Math.pow(s,n)-e,n=1/n,function(o){return Math.pow(e+o*s,n)}}(s,n,e):vr(isNaN(s)?n:s)}}(s);function o(m,b){var _=n((m=Ye(m)).r,(b=Ye(b)).r),T=n(m.g,b.g),k=n(m.b,b.b),R=yr(m.opacity,b.opacity);return function(V){return m.r=_(V),m.g=T(V),m.b=k(V),m.opacity=R(V),m+""}}return o.gamma=e,o}(1);function wr(e){return function(s){var _,T,n=s.length,o=new Array(n),m=new Array(n),b=new Array(n);for(_=0;_<n;++_)T=Ye(s[_]),o[_]=T.r||0,m[_]=T.g||0,b[_]=T.b||0;return o=e(o),m=e(m),b=e(b),T.opacity=1,function(k){return T.r=o(k),T.g=m(k),T.b=b(k),T+""}}}wr(function _s(e){var s=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,s-1):Math.floor(n*s),m=e[o],b=e[o+1];return gr((n-o/s)*s,o>0?e[o-1]:2*m-b,m,b,o<s-1?e[o+2]:2*b-m)}}),wr(function Ts(e){var s=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*s);return gr((n-o/s)*s,e[(o+s-1)%s],e[o%s],e[(o+1)%s],e[(o+2)%s])}});var En=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cn=new RegExp(En.source,"g");function Is(e,s){var o,m,b,n=En.lastIndex=Cn.lastIndex=0,_=-1,T=[],k=[];for(e+="",s+="";(o=En.exec(e))&&(m=Cn.exec(s));)(b=m.index)>n&&(b=s.slice(n,b),T[_]?T[_]+=b:T[++_]=b),(o=o[0])===(m=m[0])?T[_]?T[_]+=m:T[++_]=m:(T[++_]=null,k.push({i:_,x:Zt(o,m)})),n=Cn.lastIndex;return n<s.length&&(b=s.slice(n),T[_]?T[_]+=b:T[++_]=b),T.length<2?k[0]?function Ss(e){return function(s){return e(s)+""}}(k[0].x):function Ns(e){return function(){return e}}(s):(s=k.length,function(R){for(var X,V=0;V<s;++V)T[(X=k[V]).i]=X.x(R);return T.join("")})}function br(e,s){var n;return("number"==typeof s?Zt:s instanceof Me?xr:(n=Me(s))?(s=n,xr):Is)(e,s)}function Ls(e){return function(){this.removeAttribute(e)}}function ks(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ps(e,s,n){var o,b,m=n+"";return function(){var _=this.getAttribute(e);return _===m?null:_===o?b:b=s(o=_,n)}}function Os(e,s,n){var o,b,m=n+"";return function(){var _=this.getAttributeNS(e.space,e.local);return _===m?null:_===o?b:b=s(o=_,n)}}function Fs(e,s,n){var o,m,b;return function(){var _,k,T=n(this);return null==T?void this.removeAttribute(e):(_=this.getAttribute(e))===(k=T+"")?null:_===o&&k===m?b:(m=k,b=s(o=_,T))}}function Ds(e,s,n){var o,m,b;return function(){var _,k,T=n(this);return null==T?void this.removeAttributeNS(e.space,e.local):(_=this.getAttributeNS(e.space,e.local))===(k=T+"")?null:_===o&&k===m?b:(m=k,b=s(o=_,T))}}function js(e,s){var n,o;function m(){var b=s.apply(this,arguments);return b!==o&&(n=(o=b)&&function Rs(e,s){return function(n){this.setAttributeNS(e.space,e.local,s.call(this,n))}}(e,b)),n}return m._value=s,m}function zs(e,s){var n,o;function m(){var b=s.apply(this,arguments);return b!==o&&(n=(o=b)&&function Bs(e,s){return function(n){this.setAttribute(e,s.call(this,n))}}(e,b)),n}return m._value=s,m}function $s(e,s){return function(){mn(this,e).delay=+s.apply(this,arguments)}}function Vs(e,s){return s=+s,function(){mn(this,e).delay=s}}function Hs(e,s){return function(){Rt(this,e).duration=+s.apply(this,arguments)}}function Xs(e,s){return s=+s,function(){Rt(this,e).duration=s}}var uo=ve.prototype.constructor;function Er(e){return function(){this.style.removeProperty(e)}}var Ao=0;function Vt(e,s,n,o){this._groups=e,this._parents=s,this._name=n,this._id=o}function Cr(){return++Ao}var Yt=ve.prototype;Vt.prototype=function No(e){return ve().transition(e)}.prototype={constructor:Vt,select:function oo(e){var s=this._name,n=this._id;"function"!=typeof e&&(e=F(e));for(var o=this._groups,m=o.length,b=new Array(m),_=0;_<m;++_)for(var V,X,T=o[_],k=T.length,R=b[_]=new Array(k),W=0;W<k;++W)(V=T[W])&&(X=e.call(V,V.__data__,W,T))&&("__data__"in V&&(X.__data__=V.__data__),R[W]=X,ze(R[W],s,n,W,R,Ft(V,n)));return new Vt(b,this._parents,s,n)},selectAll:function ao(e){var s=this._name,n=this._id;"function"!=typeof e&&(e=$(e));for(var o=this._groups,m=o.length,b=[],_=[],T=0;T<m;++T)for(var V,k=o[T],R=k.length,X=0;X<R;++X)if(V=k[X]){for(var it,W=e.call(V,V.__data__,X,k),q=Ft(V,n),nt=0,st=W.length;nt<st;++nt)(it=W[nt])&&ze(it,s,n,nt,W,q);b.push(W),_.push(V)}return new Vt(b,_,s,n)},selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:function qs(e){"function"!=typeof e&&(e=P(e));for(var s=this._groups,n=s.length,o=new Array(n),m=0;m<n;++m)for(var k,b=s[m],_=b.length,T=o[m]=[],R=0;R<_;++R)(k=b[R])&&e.call(k,k.__data__,R,b)&&T.push(k);return new Vt(o,this._parents,this._name,this._id)},merge:function to(e){if(e._id!==this._id)throw new Error;for(var s=this._groups,n=e._groups,o=s.length,b=Math.min(o,n.length),_=new Array(o),T=0;T<b;++T)for(var W,k=s[T],R=n[T],V=k.length,X=_[T]=new Array(V),it=0;it<V;++it)(W=k[it]||R[it])&&(X[it]=W);for(;T<o;++T)_[T]=s[T];return new Vt(_,this._parents,this._name,this._id)},selection:function ho(){return new uo(this._groups,this._parents)},transition:function To(){for(var e=this._name,s=this._id,n=Cr(),o=this._groups,m=o.length,b=0;b<m;++b)for(var k,_=o[b],T=_.length,R=0;R<T;++R)if(k=_[R]){var V=Ft(k,s);ze(k,e,n,R,_,{time:V.time+V.delay+V.duration,delay:0,duration:V.duration,ease:V.ease})}return new Vt(o,this._parents,e,n)},call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:function ro(e,s){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(e):this.each(function no(e,s,n){var o,m,b=function eo(e){return(e+"").trim().split(/^|\s+/).every(function(s){var n=s.indexOf(".");return n>=0&&(s=s.slice(0,n)),!s||"start"===s})}(s)?mn:Rt;return function(){var _=b(this,e),T=_.on;T!==o&&(m=(o=T).copy()).on(s,n),_.on=m}}(n,e,s))},attr:function Gs(e,s){var n=Ut(e),o="transform"===n?us:br;return this.attrTween(e,"function"==typeof s?(n.local?Ds:Fs)(n,o,xn(this,"attr."+e,s)):null==s?(n.local?ks:Ls)(n):(n.local?Os:Ps)(n,o,s))},attrTween:function Us(e,s){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==s)return this.tween(n,null);if("function"!=typeof s)throw new Error;var o=Ut(e);return this.tween(n,(o.local?js:zs)(o,s))},style:function go(e,s,n){var o="transform"==(e+="")?as:br;return null==s?this.styleTween(e,function co(e,s){var n,o,m;return function(){var b=ue(this,e),_=(this.style.removeProperty(e),ue(this,e));return b===_?null:b===n&&_===o?m:m=s(n=b,o=_)}}(e,o)).on("end.style."+e,Er(e)):"function"==typeof s?this.styleTween(e,function lo(e,s,n){var o,m,b;return function(){var _=ue(this,e),T=n(this),k=T+"";return null==T&&(this.style.removeProperty(e),k=T=ue(this,e)),_===k?null:_===o&&k===m?b:(m=k,b=s(o=_,T))}}(e,o,xn(this,"style."+e,s))).each(function po(e,s){var n,o,m,T,b="style."+s,_="end."+b;return function(){var k=Rt(this,e),R=k.on,V=null==k.value[b]?T||(T=Er(s)):void 0;(R!==n||m!==V)&&(o=(n=R).copy()).on(_,m=V),k.on=o}}(this._id,e)):this.styleTween(e,function fo(e,s,n){var o,b,m=n+"";return function(){var _=ue(this,e);return _===m?null:_===o?b:b=s(o=_,n)}}(e,o,s),n).on("end.style."+e,null)},styleTween:function yo(e,s,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==s)return this.tween(o,null);if("function"!=typeof s)throw new Error;return this.tween(o,function mo(e,s,n){var o,m;function b(){var _=s.apply(this,arguments);return _!==m&&(o=(m=_)&&function vo(e,s,n){return function(o){this.style.setProperty(e,s.call(this,o),n)}}(e,_,n)),o}return b._value=s,b}(e,s,n??""))},text:function bo(e){return this.tween("text","function"==typeof e?function wo(e){return function(){var s=e(this);this.textContent=s??""}}(xn(this,"text",e)):function xo(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function _o(e){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!=typeof e)throw new Error;return this.tween(s,function Co(e){var s,n;function o(){var m=e.apply(this,arguments);return m!==n&&(s=(n=m)&&function Eo(e){return function(s){this.textContent=e.call(this,s)}}(m)),s}return o._value=e,o}(e))},remove:function so(){return this.on("end.remove",function io(e){return function(){var s=this.parentNode;for(var n in this.__transition)if(+n!==e)return;s&&s.removeChild(this)}}(this._id))},tween:function fs(e,s){var n=this._id;if(e+="",arguments.length<2){for(var _,o=Ft(this.node(),n).tween,m=0,b=o.length;m<b;++m)if((_=o[m]).name===e)return _.value;return null}return this.each((null==s?hs:cs)(n,e,s))},delay:function Ys(e){var s=this._id;return arguments.length?this.each(("function"==typeof e?$s:Vs)(s,e)):Ft(this.node(),s).delay},duration:function Ws(e){var s=this._id;return arguments.length?this.each(("function"==typeof e?Hs:Xs)(s,e)):Ft(this.node(),s).duration},ease:function Qs(e){var s=this._id;return arguments.length?this.each(function Ks(e,s){if("function"!=typeof s)throw new Error;return function(){Rt(this,e).ease=s}}(s,e)):Ft(this.node(),s).ease},easeVarying:function Js(e){if("function"!=typeof e)throw new Error;return this.each(function Zs(e,s){return function(){var n=s.apply(this,arguments);if("function"!=typeof n)throw new Error;Rt(this,e).ease=n}}(this._id,e))},end:function Mo(){var e,s,n=this,o=n._id,m=n.size();return new Promise(function(b,_){var T={value:_},k={value:function(){0==--m&&b()}};n.each(function(){var R=Rt(this,o),V=R.on;V!==e&&((s=(e=V).copy())._.cancel.push(T),s._.interrupt.push(T),s._.end.push(k)),R.on=s}),0===m&&b()})},[Symbol.iterator]:Yt[Symbol.iterator]};var Io={time:null,delay:0,duration:250,ease:function So(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Lo(e,s){for(var n;!(n=e.__transition)||!(n=n[s]);)if(!(e=e.parentNode))throw new Error(`transition ${s} not found`);return n}ve.prototype.interrupt=function is(e){return this.each(function(){!function rs(e,s){var o,m,_,n=e.__transition,b=!0;if(n){for(_ in s=null==s?null:s+"",n)(o=n[_]).name===s?(m=o.state>2&&o.state<5,o.state=6,o.timer.stop(),o.on.call(m?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[_]):b=!1;b&&delete e.__transition}}(this,e)})},ve.prototype.transition=function ko(e){var s,n;e instanceof Vt?(s=e._id,e=e._name):(s=Cr(),(n=Io).time=be(),e=null==e?null:e+"");for(var o=this._groups,m=o.length,b=0;b<m;++b)for(var k,_=o[b],T=_.length,R=0;R<T;++R)(k=_[R])&&ze(k,e,s,R,_,n||Lo(k,s));return new Vt(o,this._parents,e,s)};var _n=r(1413),Tn=r(8359),_r=r(1985),Tr=r(7673),Po=r(3726),We=r(6977),Oo=r(1594);class Fo extends Tn.yU{constructor(s,n){super()}schedule(s,n=0){return this}}const Ke={setInterval(e,s,...n){const{delegate:o}=Ke;return o?.setInterval?o.setInterval(e,s,...n):setInterval(e,s,...n)},clearInterval(e){const{delegate:s}=Ke;return(s?.clearInterval||clearInterval)(e)},delegate:void 0};var Do=r(7908);const Mr={now:()=>(Mr.delegate||Date).now(),delegate:void 0};class Ae{constructor(s,n=Ae.now){this.schedulerActionCtor=s,this.now=n}schedule(s,n=0,o){return new this.schedulerActionCtor(this,s).schedule(o,n)}}Ae.now=Mr.now;const Ro=new class Bo extends Ae{constructor(s,n=Ae.now){super(s,n),this.actions=[],this._active=!1}flush(s){const{actions:n}=this;if(this._active)return void n.push(s);let o;this._active=!0;do{if(o=s.execute(s.state,s.delay))break}while(s=n.shift());if(this._active=!1,o){for(;s=n.shift();)s.unsubscribe();throw o}}}(class Go extends Fo{constructor(s,n){super(s,n),this.scheduler=s,this.work=n,this.pending=!1}schedule(s,n=0){var o;if(this.closed)return this;this.state=s;const m=this.id,b=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(b,m,n)),this.pending=!0,this.delay=n,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(b,this.id,n),this}requestAsyncId(s,n,o=0){return Ke.setInterval(s.flush.bind(s,this),o)}recycleAsyncId(s,n,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return n;null!=n&&Ke.clearInterval(n)}execute(s,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(s,n);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,n){let m,o=!1;try{this.work(s)}catch(b){o=!0,m=b||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:s,scheduler:n}=this,{actions:o}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Do.o)(o,this),null!=s&&(this.id=this.recycleAsyncId(n,s,null)),this.delay=null,super.unsubscribe()}}});var jo=r(9974),zo=r(4360);function Ne(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];var o=function(X,W){return{a:X.a*W.a+X.c*W.b,c:X.a*W.c+X.c*W.d,e:X.a*W.e+X.c*W.f+X.e,b:X.b*W.a+X.d*W.b,d:X.b*W.c+X.d*W.d,f:X.b*W.e+X.d*W.f+X.f}};switch((s=Array.isArray(s[0])?s[0]:s).length){case 0:throw new Error("no matrices provided");case 1:return s[0];case 2:return o(s[0],s[1]);default:var b=function ea(e){return Array.isArray(e)?e:Array.from(e)}(s),_=b[0],T=b[1],k=b.slice(2),R=o(_,T);return Ne.apply(void 0,[R].concat(function ta(e){if(Array.isArray(e)){for(var s=0,n=Array(e.length);s<e.length;s++)n[s]=e[s];return n}return Array.from(e)}(k)))}}function Sr(e){return{a:1,c:0,e,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function ra(e,s){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(s).domain(e)}return this}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;const Ir=Symbol("implicit");function Lr(){var e=new Map,s=[],n=[],o=Ir;function m(b){var _=b+"",T=e.get(_);if(!T){if(o!==Ir)return o;e.set(_,T=s.push(b))}return n[(T-1)%n.length]}return m.domain=function(b){if(!arguments.length)return s.slice();s=[],e=new Map;for(const _ of b){const T=_+"";e.has(T)||e.set(T,s.push(_))}return m},m.range=function(b){return arguments.length?(n=Array.from(b),m):n.slice()},m.unknown=function(b){return arguments.length?(o=b,m):o},m.copy=function(){return Lr(s,n).unknown(o)},ra.apply(m,arguments),m}var le=r(9881);function ia(e,s){var n;function o(){var m,_,b=n.length,T=0,k=0;for(m=0;m<b;++m)T+=(_=n[m]).x,k+=_.y;for(T=T/b-e,k=k/b-s,m=0;m<b;++m)(_=n[m]).x-=T,_.y-=k}return null==e&&(e=0),null==s&&(s=0),o.initialize=function(m){n=m},o.x=function(m){return arguments.length?(e=+m,o):e},o.y=function(m){return arguments.length?(s=+m,o):s},o}function Et(e){return function(){return e}}function Jt(){return 1e-6*(Math.random()-.5)}function kr(e,s,n,o){if(isNaN(s)||isNaN(n))return e;var m,X,W,it,q,nt,st,ht,pt,b=e._root,_={data:o},T=e._x0,k=e._y0,R=e._x1,V=e._y1;if(!b)return e._root=_,e;for(;b.length;)if((nt=s>=(X=(T+R)/2))?T=X:R=X,(st=n>=(W=(k+V)/2))?k=W:V=W,m=b,!(b=b[ht=st<<1|nt]))return m[ht]=_,e;if(it=+e._x.call(null,b.data),q=+e._y.call(null,b.data),s===it&&n===q)return _.next=b,m?m[ht]=_:e._root=_,e;do{m=m?m[ht]=new Array(4):e._root=new Array(4),(nt=s>=(X=(T+R)/2))?T=X:R=X,(st=n>=(W=(k+V)/2))?k=W:V=W}while((ht=st<<1|nt)==(pt=(q>=W)<<1|it>=X));return m[pt]=b,m[ht]=_,e}function At(e,s,n,o,m){this.node=e,this.x0=s,this.y0=n,this.x1=o,this.y1=m}function ma(e){return e[0]}function xa(e){return e[1]}function Mn(e,s,n){var o=new An(s??ma,n??xa,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function An(e,s,n,o,m,b){this._x=e,this._y=s,this._x0=n,this._y0=o,this._x1=m,this._y1=b,this._root=void 0}function Pr(e){for(var s={data:e.data},n=s;e=e.next;)n=n.next={data:e.data};return s}var Nt=Mn.prototype=An.prototype;function ba(e){return e.x+e.vx}function Ea(e){return e.y+e.vy}function Or(e){var s,n,o=1,m=1;function b(){for(var k,V,X,W,it,q,nt,R=s.length,st=0;st<m;++st)for(V=Mn(s,ba,Ea).visitAfter(_),k=0;k<R;++k)nt=(q=n[(X=s[k]).index])*q,W=X.x+X.vx,it=X.y+X.vy,V.visit(ht);function ht(pt,lt,xt,bt,Lt){var _t=pt.data,Gt=pt.r,Tt=q+Gt;if(!_t)return lt>W+Tt||bt<W-Tt||xt>it+Tt||Lt<it-Tt;if(_t.index>X.index){var qt=W-_t.x-_t.vx,te=it-_t.y-_t.vy,Xt=qt*qt+te*te;Xt<Tt*Tt&&(0===qt&&(Xt+=(qt=Jt())*qt),0===te&&(Xt+=(te=Jt())*te),Xt=(Tt-(Xt=Math.sqrt(Xt)))/Xt*o,X.vx+=(qt*=Xt)*(Tt=(Gt*=Gt)/(nt+Gt)),X.vy+=(te*=Xt)*Tt,_t.vx-=qt*(Tt=1-Tt),_t.vy-=te*Tt)}}}function _(k){if(k.data)return k.r=n[k.data.index];for(var R=k.r=0;R<4;++R)k[R]&&k[R].r>k.r&&(k.r=k[R].r)}function T(){if(s){var k,V,R=s.length;for(n=new Array(R),k=0;k<R;++k)n[(V=s[k]).index]=+e(V,k,s)}}return"function"!=typeof e&&(e=Et(null==e?1:+e)),b.initialize=function(k){s=k,T()},b.iterations=function(k){return arguments.length?(m=+k,b):m},b.strength=function(k){return arguments.length?(o=+k,b):o},b.radius=function(k){return arguments.length?(e="function"==typeof k?k:Et(+k),T(),b):e},b}Nt.copy=function(){var n,o,e=new An(this._x,this._y,this._x0,this._y0,this._x1,this._y1),s=this._root;if(!s)return e;if(!s.length)return e._root=Pr(s),e;for(n=[{source:s,target:e._root=new Array(4)}];s=n.pop();)for(var m=0;m<4;++m)(o=s.source[m])&&(o.length?n.push({source:o,target:s.target[m]=new Array(4)}):s.target[m]=Pr(o));return e},Nt.add=function sa(e){var s=+this._x.call(null,e),n=+this._y.call(null,e);return kr(this.cover(s,n),s,n,e)},Nt.addAll=function oa(e){var s,n,m,b,o=e.length,_=new Array(o),T=new Array(o),k=1/0,R=1/0,V=-1/0,X=-1/0;for(n=0;n<o;++n)isNaN(m=+this._x.call(null,s=e[n]))||isNaN(b=+this._y.call(null,s))||(_[n]=m,T[n]=b,m<k&&(k=m),m>V&&(V=m),b<R&&(R=b),b>X&&(X=b));if(k>V||R>X)return this;for(this.cover(k,R).cover(V,X),n=0;n<o;++n)kr(this,_[n],T[n],e[n]);return this},Nt.cover=function aa(e,s){if(isNaN(e=+e)||isNaN(s=+s))return this;var n=this._x0,o=this._y0,m=this._x1,b=this._y1;if(isNaN(n))m=(n=Math.floor(e))+1,b=(o=Math.floor(s))+1;else{for(var k,R,_=m-n,T=this._root;n>e||e>=m||o>s||s>=b;)switch(R=(s<o)<<1|e<n,k=new Array(4),k[R]=T,T=k,_*=2,R){case 0:m=n+_,b=o+_;break;case 1:n=m-_,b=o+_;break;case 2:m=n+_,o=b-_;break;case 3:n=m-_,o=b-_}this._root&&this._root.length&&(this._root=T)}return this._x0=n,this._y0=o,this._x1=m,this._y1=b,this},Nt.data=function ua(){var e=[];return this.visit(function(s){if(!s.length)do{e.push(s.data)}while(s=s.next)}),e},Nt.extent=function ha(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Nt.find=function ca(e,s,n){var o,_,T,k,R,q,nt,m=this._x0,b=this._y0,V=this._x1,X=this._y1,W=[],it=this._root;for(it&&W.push(new At(it,m,b,V,X)),null==n?n=1/0:(m=e-n,b=s-n,V=e+n,X=s+n,n*=n);q=W.pop();)if(!(!(it=q.node)||(_=q.x0)>V||(T=q.y0)>X||(k=q.x1)<m||(R=q.y1)<b))if(it.length){var st=(_+k)/2,ht=(T+R)/2;W.push(new At(it[3],st,ht,k,R),new At(it[2],_,ht,st,R),new At(it[1],st,T,k,ht),new At(it[0],_,T,st,ht)),(nt=(s>=ht)<<1|e>=st)&&(q=W[W.length-1],W[W.length-1]=W[W.length-1-nt],W[W.length-1-nt]=q)}else{var pt=e-+this._x.call(null,it.data),lt=s-+this._y.call(null,it.data),xt=pt*pt+lt*lt;if(xt<n){var bt=Math.sqrt(n=xt);m=e-bt,b=s-bt,V=e+bt,X=s+bt,o=it.data}}return o},Nt.remove=function fa(e){if(isNaN(V=+this._x.call(null,e))||isNaN(X=+this._y.call(null,e)))return this;var s,o,m,b,V,X,W,it,q,nt,st,ht,n=this._root,_=this._x0,T=this._y0,k=this._x1,R=this._y1;if(!n)return this;if(n.length)for(;;){if((q=V>=(W=(_+k)/2))?_=W:k=W,(nt=X>=(it=(T+R)/2))?T=it:R=it,s=n,!(n=n[st=nt<<1|q]))return this;if(!n.length)break;(s[st+1&3]||s[st+2&3]||s[st+3&3])&&(o=s,ht=st)}for(;n.data!==e;)if(m=n,!(n=n.next))return this;return(b=n.next)&&delete n.next,m?(b?m.next=b:delete m.next,this):s?(b?s[st]=b:delete s[st],(n=s[0]||s[1]||s[2]||s[3])&&n===(s[3]||s[2]||s[1]||s[0])&&!n.length&&(o?o[ht]=n:this._root=n),this):(this._root=b,this)},Nt.removeAll=function la(e){for(var s=0,n=e.length;s<n;++s)this.remove(e[s]);return this},Nt.root=function da(){return this._root},Nt.size=function pa(){var e=0;return this.visit(function(s){if(!s.length)do{++e}while(s=s.next)}),e},Nt.visit=function ga(e){var n,m,b,_,T,k,s=[],o=this._root;for(o&&s.push(new At(o,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!e(o=n.node,b=n.x0,_=n.y0,T=n.x1,k=n.y1)&&o.length){var R=(b+T)/2,V=(_+k)/2;(m=o[3])&&s.push(new At(m,R,V,T,k)),(m=o[2])&&s.push(new At(m,b,V,R,k)),(m=o[1])&&s.push(new At(m,R,_,T,V)),(m=o[0])&&s.push(new At(m,b,_,R,V))}return this},Nt.visitAfter=function va(e){var o,s=[],n=[];for(this._root&&s.push(new At(this._root,this._x0,this._y0,this._x1,this._y1));o=s.pop();){var m=o.node;if(m.length){var b,_=o.x0,T=o.y0,k=o.x1,R=o.y1,V=(_+k)/2,X=(T+R)/2;(b=m[0])&&s.push(new At(b,_,T,V,X)),(b=m[1])&&s.push(new At(b,V,T,k,X)),(b=m[2])&&s.push(new At(b,_,X,V,R)),(b=m[3])&&s.push(new At(b,V,X,k,R))}n.push(o)}for(;o=n.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this},Nt.x=function ya(e){return arguments.length?(this._x=e,this):this._x},Nt.y=function wa(e){return arguments.length?(this._y=e,this):this._y};var Pt="$";function Qe(){}function Fr(e,s){var n=new Qe;if(e instanceof Qe)e.each(function(T,k){n.set(k,T)});else if(Array.isArray(e)){var b,o=-1,m=e.length;if(null==s)for(;++o<m;)n.set(o,e[o]);else for(;++o<m;)n.set(s(b=e[o],o,e),b)}else if(e)for(var _ in e)n.set(_,e[_]);return n}Qe.prototype=Fr.prototype={constructor:Qe,has:function(e){return Pt+e in this},get:function(e){return this[Pt+e]},set:function(e,s){return this[Pt+e]=s,this},remove:function(e){var s=Pt+e;return s in this&&delete this[s]},clear:function(){for(var e in this)e[0]===Pt&&delete this[e]},keys:function(){var e=[];for(var s in this)s[0]===Pt&&e.push(s.slice(1));return e},values:function(){var e=[];for(var s in this)s[0]===Pt&&e.push(this[s]);return e},entries:function(){var e=[];for(var s in this)s[0]===Pt&&e.push({key:s.slice(1),value:this[s]});return e},size:function(){var e=0;for(var s in this)s[0]===Pt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Pt)return!1;return!0},each:function(e){for(var s in this)s[0]===Pt&&e(this[s],s.slice(1),this)}};const Nn=Fr;function Ze(){}var se=Nn.prototype;function Ma(e){return e.index}function Br(e,s){var n=e.get(s);if(!n)throw new Error("missing: "+s);return n}function Rr(e){var o,b,_,T,k,s=Ma,n=function V(nt){return 1/Math.min(T[nt.source.index],T[nt.target.index])},m=Et(30),R=1;function X(nt){for(var st=0,ht=e.length;st<R;++st)for(var lt,xt,bt,Lt,_t,Gt,Tt,pt=0;pt<ht;++pt)Lt=(bt=(lt=e[pt]).target).x+bt.vx-(xt=lt.source).x-xt.vx||Jt(),_t=bt.y+bt.vy-xt.y-xt.vy||Jt(),_t*=Gt=((Gt=Math.sqrt(Lt*Lt+_t*_t))-b[pt])/Gt*nt*o[pt],bt.vx-=(Lt*=Gt)*(Tt=k[pt]),bt.vy-=_t*Tt,xt.vx+=Lt*(Tt=1-Tt),xt.vy+=_t*Tt}function W(){if(_){var nt,lt,st=_.length,ht=e.length,pt=Nn(_,s);for(nt=0,T=new Array(st);nt<ht;++nt)(lt=e[nt]).index=nt,"object"!=typeof lt.source&&(lt.source=Br(pt,lt.source)),"object"!=typeof lt.target&&(lt.target=Br(pt,lt.target)),T[lt.source.index]=(T[lt.source.index]||0)+1,T[lt.target.index]=(T[lt.target.index]||0)+1;for(nt=0,k=new Array(ht);nt<ht;++nt)k[nt]=T[(lt=e[nt]).source.index]/(T[lt.source.index]+T[lt.target.index]);o=new Array(ht),it(),b=new Array(ht),q()}}function it(){if(_)for(var nt=0,st=e.length;nt<st;++nt)o[nt]=+n(e[nt],nt,e)}function q(){if(_)for(var nt=0,st=e.length;nt<st;++nt)b[nt]=+m(e[nt],nt,e)}return null==e&&(e=[]),X.initialize=function(nt){_=nt,W()},X.links=function(nt){return arguments.length?(e=nt,W(),X):e},X.id=function(nt){return arguments.length?(s=nt,X):s},X.iterations=function(nt){return arguments.length?(R=+nt,X):R},X.strength=function(nt){return arguments.length?(n="function"==typeof nt?nt:Et(+nt),it(),X):n},X.distance=function(nt){return arguments.length?(m="function"==typeof nt?nt:Et(+nt),q(),X):m},X}function Aa(e){return e.x}function Na(e){return e.y}Ze.prototype=function Ta(e,s){var n=new Ze;if(e instanceof Ze)e.each(function(b){n.add(b)});else if(e){var o=-1,m=e.length;if(null==s)for(;++o<m;)n.add(e[o]);else for(;++o<m;)n.add(s(e[o],o,e))}return n}.prototype={constructor:Ze,has:se.has,add:function(e){return this[Pt+(e+="")]=e,this},remove:se.remove,clear:se.clear,values:se.keys,size:se.size,empty:se.empty,each:se.each};var Sa=10,Ia=Math.PI*(3-Math.sqrt(5));function jr(e){var s,n=1,o=.001,m=1-Math.pow(o,1/300),b=0,_=.6,T=Nn(),k=Be(V),R=ln("tick","end");function V(){X(),R.call("tick",s),n<o&&(k.stop(),R.call("end",s))}function X(q){var nt,ht,st=e.length;void 0===q&&(q=1);for(var pt=0;pt<q;++pt)for(n+=(b-n)*m,T.each(function(lt){lt(n)}),nt=0;nt<st;++nt)null==(ht=e[nt]).fx?ht.x+=ht.vx*=_:(ht.x=ht.fx,ht.vx=0),null==ht.fy?ht.y+=ht.vy*=_:(ht.y=ht.fy,ht.vy=0);return s}function W(){for(var st,q=0,nt=e.length;q<nt;++q){if((st=e[q]).index=q,null!=st.fx&&(st.x=st.fx),null!=st.fy&&(st.y=st.fy),isNaN(st.x)||isNaN(st.y)){var ht=Sa*Math.sqrt(q),pt=q*Ia;st.x=ht*Math.cos(pt),st.y=ht*Math.sin(pt)}(isNaN(st.vx)||isNaN(st.vy))&&(st.vx=st.vy=0)}}function it(q){return q.initialize&&q.initialize(e),q}return null==e&&(e=[]),W(),s={tick:X,restart:function(){return k.restart(V),s},stop:function(){return k.stop(),s},nodes:function(q){return arguments.length?(e=q,W(),T.each(it),s):e},alpha:function(q){return arguments.length?(n=+q,s):n},alphaMin:function(q){return arguments.length?(o=+q,s):o},alphaDecay:function(q){return arguments.length?(m=+q,s):+m},alphaTarget:function(q){return arguments.length?(b=+q,s):b},velocityDecay:function(q){return arguments.length?(_=1-q,s):1-_},force:function(q,nt){return arguments.length>1?(null==nt?T.remove(q):T.set(q,it(nt)),s):T.get(q)},find:function(q,nt,st){var lt,xt,bt,Lt,_t,ht=0,pt=e.length;for(null==st?st=1/0:st*=st,ht=0;ht<pt;++ht)(bt=(lt=q-(Lt=e[ht]).x)*lt+(xt=nt-Lt.y)*xt)<st&&(_t=Lt,st=bt);return _t},on:function(q,nt){return arguments.length>1?(R.on(q,nt),s):R.on(q)}}}function zr(){var e,s,n,m,o=Et(-30),b=1,_=1/0,T=.81;function k(W){var it,q=e.length,nt=Mn(e,Aa,Na).visitAfter(V);for(n=W,it=0;it<q;++it)s=e[it],nt.visit(X)}function R(){if(e){var W,q,it=e.length;for(m=new Array(it),W=0;W<it;++W)m[(q=e[W]).index]=+o(q,W,e)}}function V(W){var q,nt,ht,pt,lt,it=0,st=0;if(W.length){for(ht=pt=lt=0;lt<4;++lt)(q=W[lt])&&(nt=Math.abs(q.value))&&(it+=q.value,st+=nt,ht+=nt*q.x,pt+=nt*q.y);W.x=ht/st,W.y=pt/st}else{(q=W).x=q.data.x,q.y=q.data.y;do{it+=m[q.data.index]}while(q=q.next)}W.value=it}function X(W,it,q,nt){if(!W.value)return!0;var st=W.x-s.x,ht=W.y-s.y,pt=nt-it,lt=st*st+ht*ht;if(pt*pt/T<lt)return lt<_&&(0===st&&(lt+=(st=Jt())*st),0===ht&&(lt+=(ht=Jt())*ht),lt<b&&(lt=Math.sqrt(b*lt)),s.vx+=st*W.value*n/lt,s.vy+=ht*W.value*n/lt),!0;if(!(W.length||lt>=_)){(W.data!==s||W.next)&&(0===st&&(lt+=(st=Jt())*st),0===ht&&(lt+=(ht=Jt())*ht),lt<b&&(lt=Math.sqrt(b*lt)));do{W.data!==s&&(s.vx+=st*(pt=m[W.data.index]*n/lt),s.vy+=ht*pt)}while(W=W.next)}}return k.initialize=function(W){e=W,R()},k.strength=function(W){return arguments.length?(o="function"==typeof W?W:Et(+W),R(),k):o},k.distanceMin=function(W){return arguments.length?(b=W*W,k):Math.sqrt(b)},k.distanceMax=function(W){return arguments.length?(_=W*W,k):Math.sqrt(_)},k.theta=function(W){return arguments.length?(T=W*W,k):Math.sqrt(T)},k}function La(e,s,n){var o,b,_,m=Et(.1);function T(R){for(var V=0,X=o.length;V<X;++V){var W=o[V],it=W.x-s||1e-6,q=W.y-n||1e-6,nt=Math.sqrt(it*it+q*q),st=(_[V]-nt)*b[V]*R/nt;W.vx+=it*st,W.vy+=q*st}}function k(){if(o){var R,V=o.length;for(b=new Array(V),_=new Array(V),R=0;R<V;++R)_[R]=+e(o[R],R,o),b[R]=isNaN(_[R])?0:+m(o[R],R,o)}}return"function"!=typeof e&&(e=Et(+e)),null==s&&(s=0),null==n&&(n=0),T.initialize=function(R){o=R,k()},T.strength=function(R){return arguments.length?(m="function"==typeof R?R:Et(+R),k(),T):m},T.radius=function(R){return arguments.length?(e="function"==typeof R?R:Et(+R),k(),T):e},T.x=function(R){return arguments.length?(s=+R,T):s},T.y=function(R){return arguments.length?(n=+R,T):n},T}function ka(e){var n,o,m,s=Et(.1);function b(T){for(var V,k=0,R=n.length;k<R;++k)(V=n[k]).vx+=(m[k]-V.x)*o[k]*T}function _(){if(n){var T,k=n.length;for(o=new Array(k),m=new Array(k),T=0;T<k;++T)o[T]=isNaN(m[T]=+e(n[T],T,n))?0:+s(n[T],T,n)}}return"function"!=typeof e&&(e=Et(null==e?0:+e)),b.initialize=function(T){n=T,_()},b.strength=function(T){return arguments.length?(s="function"==typeof T?T:Et(+T),_(),b):s},b.x=function(T){return arguments.length?(e="function"==typeof T?T:Et(+T),_(),b):e},b}function Pa(e){var n,o,m,s=Et(.1);function b(T){for(var V,k=0,R=n.length;k<R;++k)(V=n[k]).vy+=(m[k]-V.y)*o[k]*T}function _(){if(n){var T,k=n.length;for(o=new Array(k),m=new Array(k),T=0;T<k;++T)o[T]=isNaN(m[T]=+e(n[T],T,n))?0:+s(n[T],T,n)}}return"function"!=typeof e&&(e=Et(null==e?0:+e)),b.initialize=function(T){n=T,_()},b.strength=function(T){return arguments.length?(s="function"==typeof T?T:Et(+T),_(),b):s},b.y=function(T){return arguments.length?(e="function"==typeof T?T:Et(+T),_(),b):e},b}var Oa=r(6728);function Fa(e,s,n){var o=new Ee,m=s;return null==s?(o.restart(e,s,n),o):(s=+s,n=null==n?be():+n,o.restart(function b(_){_+=m,o.restart(b,m+=s,n),e(_)},s,n),o)}const Da=["linkTemplate"],Ga=["nodeTemplate"],Ba=["clusterTemplate"],Ra=["defsTemplate"],ja=["miniMapNodeTemplate"],za=["nodeElement"],Ua=["linkElement"],$a=["*"],de=e=>({$implicit:e});function Va(e,s){if(1&e&&(t.qSk(),t.eu8(0,18)),2&e){const n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.defsTemplate)}}function Ya(e,s){if(1&e&&(t.qSk(),t.nrm(0,"path",19)),2&e){const n=s.$implicit;t.BMQ("d",n.textPath)("id",n.id)}}function Ha(e,s){if(1&e&&(t.qSk(),t.eu8(0,23)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.clusterTemplate)("ngTemplateOutletContext",t.eq3(2,de,n))}}function Xa(e,s){if(1&e&&(t.qSk(),t.j41(0,"g",24),t.nrm(1,"rect"),t.j41(2,"text",25),t.EFF(3),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(),t.BMQ("width",n.dimension.width)("height",n.dimension.height)("fill",null==n.data?null:n.data.color),t.R7$(),t.BMQ("x",10)("y",n.dimension.height/2),t.R7$(),t.SpI(" ",n.label," ")}}function Wa(e,s){if(1&e){const n=t.RV6();t.qSk(),t.j41(0,"g",20,0),t.bIt("click",function(){const m=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.onClick(m))}),t.DNE(2,Ha,1,4,"ng-container",21)(3,Xa,4,6,"g",22),t.k0s()}if(2&e){const n=s.$implicit,o=t.XpG(2);t.AVh("old-node",o.animate&&o.oldClusters.has(n.id)),t.Y8G("id",n.id),t.BMQ("transform",n.transform),t.R7$(2),t.Y8G("ngIf",o.clusterTemplate&&!n.hidden),t.R7$(),t.Y8G("ngIf",!o.clusterTemplate)}}function Ka(e,s){if(1&e&&(t.qSk(),t.eu8(0,23)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.nodeTemplate)("ngTemplateOutletContext",t.eq3(2,de,n))}}function Qa(e,s){if(1&e&&(t.qSk(),t.j41(0,"g",28),t.nrm(1,"rect"),t.j41(2,"text",25),t.EFF(3),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(),t.BMQ("width",n.dimension.width)("height",n.dimension.height)("fill",null==n.data?null:n.data.color),t.R7$(),t.BMQ("x",10)("y",n.dimension.height/2),t.R7$(),t.SpI(" ",n.label," ")}}function Za(e,s){if(1&e){const n=t.RV6();t.qSk(),t.j41(0,"g",26,1),t.bIt("click",function(){const m=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.onClick(m))})("mousedown",function(m){const b=t.eBV(n).$implicit,_=t.XpG(2);return t.Njj(_.onNodeMouseDown(m,b))}),t.DNE(2,Ka,1,4,"ng-container",21)(3,Qa,4,6,"g",27),t.k0s()}if(2&e){const n=s.$implicit,o=t.XpG(2);t.AVh("old-node",o.animate&&o.oldCompoundNodes.has(n.id)),t.Y8G("id",n.id),t.BMQ("transform",n.transform),t.R7$(2),t.Y8G("ngIf",o.nodeTemplate&&!n.hidden),t.R7$(),t.Y8G("ngIf",!o.nodeTemplate)}}function Ja(e,s){if(1&e&&(t.qSk(),t.eu8(0,23)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.linkTemplate)("ngTemplateOutletContext",t.eq3(2,de,n))}}function qa(e,s){if(1&e&&(t.qSk(),t.nrm(0,"path",31)),2&e){const n=t.XpG().$implicit;t.BMQ("d",n.line)}}function tu(e,s){if(1&e&&(t.qSk(),t.j41(0,"g",29,2),t.DNE(2,Ja,1,4,"ng-container",21)(3,qa,1,1,"path",30),t.k0s()),2&e){const n=s.$implicit,o=t.XpG(2);t.Y8G("id",n.id),t.R7$(2),t.Y8G("ngIf",o.linkTemplate),t.R7$(),t.Y8G("ngIf",!o.linkTemplate)}}function eu(e,s){if(1&e&&(t.qSk(),t.eu8(0,23)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.nodeTemplate)("ngTemplateOutletContext",t.eq3(2,de,n))}}function nu(e,s){if(1&e&&(t.qSk(),t.nrm(0,"circle",33)),2&e){const n=t.XpG().$implicit;t.BMQ("cx",n.dimension.width/2)("cy",n.dimension.height/2)("fill",null==n.data?null:n.data.color)}}function ru(e,s){if(1&e){const n=t.RV6();t.qSk(),t.j41(0,"g",26,1),t.bIt("click",function(){const m=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.onClick(m))})("mousedown",function(m){const b=t.eBV(n).$implicit,_=t.XpG(2);return t.Njj(_.onNodeMouseDown(m,b))}),t.DNE(2,eu,1,4,"ng-container",21)(3,nu,1,3,"circle",32),t.k0s()}if(2&e){const n=s.$implicit,o=t.XpG(2);t.AVh("old-node",o.animate&&o.oldNodes.has(n.id)),t.Y8G("id",n.id),t.BMQ("transform",n.transform),t.R7$(2),t.Y8G("ngIf",o.nodeTemplate&&!n.hidden),t.R7$(),t.Y8G("ngIf",!o.nodeTemplate)}}function iu(e,s){if(1&e){const n=t.RV6();t.qSk(),t.j41(0,"g",7),t.bIt("touchstart",function(m){t.eBV(n);const b=t.XpG();return t.Njj(b.onTouchStart(m))})("touchend",function(m){t.eBV(n);const b=t.XpG();return t.Njj(b.onTouchEnd(m))}),t.j41(1,"defs"),t.DNE(2,Va,1,1,"ng-container",8)(3,Ya,1,2,"path",9),t.k0s(),t.j41(4,"rect",10),t.bIt("mousedown",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.isPanning=!0)}),t.k0s(),t.SdG(5),t.j41(6,"g",11),t.DNE(7,Wa,4,6,"g",12),t.k0s(),t.j41(8,"g",13),t.DNE(9,Za,4,6,"g",14),t.k0s(),t.j41(10,"g",15),t.DNE(11,tu,4,3,"g",16),t.k0s(),t.j41(12,"g",17),t.DNE(13,ru,4,6,"g",14),t.k0s()()}if(2&e){const n=t.XpG();t.BMQ("transform",n.transform),t.R7$(2),t.Y8G("ngIf",n.defsTemplate),t.R7$(),t.Y8G("ngForOf",n.graph.edges),t.R7$(),t.BMQ("width",100*n.dims.width)("height",100*n.dims.height)("transform","translate("+50*(-n.dims.width||0)+","+50*(-n.dims.height||0)+")"),t.R7$(3),t.Y8G("ngForOf",n.graph.clusters)("ngForTrackBy",n.trackNodeBy),t.R7$(2),t.Y8G("ngForOf",n.graph.compoundNodes)("ngForTrackBy",n.trackNodeBy),t.R7$(2),t.Y8G("ngForOf",n.graph.edges)("ngForTrackBy",n.trackLinkBy),t.R7$(2),t.Y8G("ngForOf",n.graph.nodes)("ngForTrackBy",n.trackNodeBy)}}function su(e,s){if(1&e&&(t.qSk(),t.eu8(0,23)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.miniMapNodeTemplate)("ngTemplateOutletContext",t.eq3(2,de,n))}}function ou(e,s){if(1&e&&(t.qSk(),t.eu8(0,23)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.nodeTemplate)("ngTemplateOutletContext",t.eq3(2,de,n))}}function au(e,s){if(1&e&&(t.qSk(),t.nrm(0,"circle",33)),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.BMQ("cx",n.dimension.width/2/o.minimapScaleCoefficient)("cy",n.dimension.height/2/o.minimapScaleCoefficient)("fill",null==n.data?null:n.data.color)}}function uu(e,s){if(1&e&&(t.qSk(),t.j41(0,"g",39,1),t.DNE(2,su,1,4,"ng-container",21)(3,ou,1,4,"ng-container",21)(4,au,1,3,"circle",32),t.k0s()),2&e){const n=s.$implicit,o=t.XpG(2);t.AVh("old-node",o.animate&&o.oldNodes.has(n.id)),t.Y8G("id",n.id),t.BMQ("transform",n.transform),t.R7$(2),t.Y8G("ngIf",o.miniMapNodeTemplate),t.R7$(),t.Y8G("ngIf",!o.miniMapNodeTemplate&&o.nodeTemplate),t.R7$(),t.Y8G("ngIf",!o.nodeTemplate&&!o.miniMapNodeTemplate)}}function hu(e,s){if(1&e){const n=t.RV6();t.qSk(),t.j41(0,"g",34)(1,"rect",35),t.bIt("mousedown",function(m){t.eBV(n);const b=t.XpG();return t.Njj(b.onMinimapPanTo(m))}),t.k0s(),t.j41(2,"g")(3,"g",36),t.DNE(4,uu,5,7,"g",37),t.k0s(),t.j41(5,"rect",38),t.bIt("mousedown",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.onMinimapDragMouseDown())}),t.k0s()()()}if(2&e){const n=t.XpG();t.BMQ("transform",n.minimapTransform)("clip-path","url(#"+n.minimapClipPathId+")"),t.R7$(),t.BMQ("width",n.graphDims.width/n.minimapScaleCoefficient)("height",n.graphDims.height/n.minimapScaleCoefficient),t.R7$(),t.xc7("transform","translate("+-n.minimapOffsetX/n.minimapScaleCoefficient+"px,"+-n.minimapOffsetY/n.minimapScaleCoefficient+"px)"),t.R7$(),t.xc7("transform","scale("+1/n.minimapScaleCoefficient+")"),t.R7$(),t.Y8G("ngForOf",n.graph.nodes)("ngForTrackBy",n.trackNodeBy),t.R7$(),t.AVh("panning",n.isMinimapPanning),t.BMQ("transform","translate("+n.panOffsetX/n.zoomLevel/-n.minimapScaleCoefficient+","+n.panOffsetY/n.zoomLevel/-n.minimapScaleCoefficient+")")("width",n.width/n.minimapScaleCoefficient/n.zoomLevel)("height",n.height/n.minimapScaleCoefficient/n.zoomLevel)}}const Ur={};function Ht(){let e=("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);return e=`a${e}`,Ur[e]?Ht():(Ur[e]=!0,e)}var Je=function(e){return e.Both="both",e.Horizontal="horizontal",e.Vertical="vertical",e}(Je||{}),qe=function(e){return e.UpperLeft="UpperLeft",e.UpperRight="UpperRight",e}(qe||{});function cu(e,s,n){n=n||{};let o,m,b,_=null,T=0;function k(){T=!1===n.leading?0:+new Date,_=null,b=e.apply(o,m)}return function(...R){const V=+new Date;!T&&!1===n.leading&&(T=V);const X=s-(V-T);return o=this,m=R,X<=0?(clearTimeout(_),_=null,T=V,b=e.apply(o,m)):!_&&!1!==n.trailing&&(_=setTimeout(k,X)),b}}function fu(e,s){return function(o,m,b){return{configurable:!0,enumerable:b.enumerable,get:function(){return Object.defineProperty(this,m,{configurable:!0,enumerable:b.enumerable,value:cu(b.value,e,s)}),this[m]}}}}const $r=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class lu{constructor(s,n,o){"string"==typeof s&&(s=$r.find(m=>m.name===s)),this.colorDomain=s.domain,this.domain=n,this.customColors=o,this.scale=this.generateColorScheme(s,this.domain)}generateColorScheme(s,n){return"string"==typeof s&&(s=$r.find(o=>o.name===s)),Lr().range(s.domain).domain(n)}getColor(s){if(null==s)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(s);const n=s.toString();let o;return this.customColors&&this.customColors.length>0&&(o=this.customColors.find(m=>m.name.toLowerCase()===n.toLowerCase())),o?o.value:this.scale(s)}}let pu=(()=>{class e{constructor(n,o){this.element=n,this.zone=o,this.visible=new t.bkB,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const n=()=>{if(!this.element)return;const{offsetHeight:o,offsetWidth:m}=this.element.nativeElement;o&&m?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}}return e.\u0275fac=function(n){return new(n||e)(t.rXU(t.aKT),t.rXU(t.SKi))},e.\u0275dir=t.FsC({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();var tn=function(e){return e.LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",e}(tn||{});class Yr{constructor(){this.defaultSettings={orientation:tn.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(s){this.createDagreGraph(s),le.layout(this.dagreGraph),s.edgeLabels=this.dagreGraph._edgeLabels;for(const n in this.dagreGraph._nodes){const o=this.dagreGraph._nodes[n],m=s.nodes.find(b=>b.id===o.id);m.position={x:o.x,y:o.y},m.dimension={width:o.width,height:o.height}}for(const n of s.edges)this.updateEdge(s,n);return s}updateEdge(s,n){const o=s.nodes.find(q=>q.id===n.source),m=s.nodes.find(q=>q.id===n.target),b="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",_="y"===b?"x":"y",T="y"===b?"height":"width",k=o.position[b]<=m.position[b]?-1:1,R={[_]:o.position[_],[b]:o.position[b]-k*(o.dimension[T]/2)},V={[_]:m.position[_],[b]:m.position[b]+k*(m.dimension[T]/2)},X=this.settings.curveDistance||this.defaultSettings.curveDistance;n.points=[R,{[_]:R[_],[b]:R[b]-k*X},{[_]:V[_],[b]:V[b]+k*X},V];const it=s.edgeLabels[`${n.source}\x01${n.target}\x01\0`];return it&&(it.points=n.points),s}createDagreGraph(s){const n=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new le.graphlib.Graph({compound:n.compound,multigraph:n.multigraph}),this.dagreGraph.setGraph({rankdir:n.orientation,marginx:n.marginX,marginy:n.marginY,edgesep:n.edgePadding,ranksep:n.rankPadding,nodesep:n.nodePadding,align:n.align,acyclicer:n.acyclicer,ranker:n.ranker,multigraph:n.multigraph,compound:n.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=s.nodes.map(o=>{const m=Object.assign({},o);return m.width=o.dimension.width,m.height=o.dimension.height,m.x=o.position.x,m.y=o.position.y,m}),this.dagreEdges=s.edges.map(o=>{const m=Object.assign({},o);return m.id||(m.id=Ht()),m});for(const o of this.dagreNodes)o.width||(o.width=20),o.height||(o.height=30),this.dagreGraph.setNode(o.id,o);for(const o of this.dagreEdges)n.multigraph?this.dagreGraph.setEdge(o.source,o.target,o,o.id):this.dagreGraph.setEdge(o.source,o.target);return this.dagreGraph}}function pe(e){return"string"==typeof e?{id:e,x:0,y:0}:e}function Hr(e,s){return"number"==typeof s?e[s]:s}const Xr={dagre:class vu{constructor(){this.defaultSettings={orientation:tn.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(s){this.createDagreGraph(s),le.layout(this.dagreGraph),s.edgeLabels=this.dagreGraph._edgeLabels;for(const n in this.dagreGraph._nodes){const o=this.dagreGraph._nodes[n],m=s.nodes.find(b=>b.id===o.id);m.position={x:o.x,y:o.y},m.dimension={width:o.width,height:o.height}}return s}updateEdge(s,n){const o=s.nodes.find(k=>k.id===n.source),m=s.nodes.find(k=>k.id===n.target),b=o.position.y<=m.position.y?-1:1;return n.points=[{x:o.position.x,y:o.position.y-b*(o.dimension.height/2)},{x:m.position.x,y:m.position.y+b*(m.dimension.height/2)}],s}createDagreGraph(s){const n=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new le.graphlib.Graph({compound:n.compound,multigraph:n.multigraph}),this.dagreGraph.setGraph({rankdir:n.orientation,marginx:n.marginX,marginy:n.marginY,edgesep:n.edgePadding,ranksep:n.rankPadding,nodesep:n.nodePadding,align:n.align,acyclicer:n.acyclicer,ranker:n.ranker,multigraph:n.multigraph,compound:n.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=s.nodes.map(o=>{const m=Object.assign({},o);return m.width=o.dimension.width,m.height=o.dimension.height,m.x=o.position.x,m.y=o.position.y,m}),this.dagreEdges=s.edges.map(o=>{const m=Object.assign({},o);return m.id||(m.id=Ht()),m});for(const o of this.dagreNodes)o.width||(o.width=20),o.height||(o.height=30),this.dagreGraph.setNode(o.id,o);for(const o of this.dagreEdges)n.multigraph?this.dagreGraph.setEdge(o.source,o.target,o,o.id):this.dagreGraph.setEdge(o.source,o.target);return this.dagreGraph}},dagreCluster:class mu{constructor(){this.defaultSettings={orientation:tn.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(s){this.createDagreGraph(s),le.layout(this.dagreGraph),s.edgeLabels=this.dagreGraph._edgeLabels;const n=o=>{const m=this.dagreGraph._nodes[o.id];return{...o,position:{x:m.x,y:m.y},dimension:{width:m.width,height:m.height}}};return s.clusters=(s.clusters||[]).map(n),s.nodes=s.nodes.map(n),s}updateEdge(s,n){const o=s.nodes.find(k=>k.id===n.source),m=s.nodes.find(k=>k.id===n.target),b=o.position.y<=m.position.y?-1:1;return n.points=[{x:o.position.x,y:o.position.y-b*(o.dimension.height/2)},{x:m.position.x,y:m.position.y+b*(m.dimension.height/2)}],s}createDagreGraph(s){const n=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new le.graphlib.Graph({compound:n.compound,multigraph:n.multigraph}),this.dagreGraph.setGraph({rankdir:n.orientation,marginx:n.marginX,marginy:n.marginY,edgesep:n.edgePadding,ranksep:n.rankPadding,nodesep:n.nodePadding,align:n.align,acyclicer:n.acyclicer,ranker:n.ranker,multigraph:n.multigraph,compound:n.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=s.nodes.map(o=>{const m=Object.assign({},o);return m.width=o.dimension.width,m.height=o.dimension.height,m.x=o.position.x,m.y=o.position.y,m}),this.dagreClusters=s.clusters||[],this.dagreEdges=s.edges.map(o=>{const m=Object.assign({},o);return m.id||(m.id=Ht()),m});for(const o of this.dagreNodes)this.dagreGraph.setNode(o.id,o);for(const o of this.dagreClusters)this.dagreGraph.setNode(o.id,o),o.childNodeIds.forEach(m=>{this.dagreGraph.setParent(m,o.id)});for(const o of this.dagreEdges)n.multigraph?this.dagreGraph.setEdge(o.source,o.target,o,o.id):this.dagreGraph.setEdge(o.source,o.target);return this.dagreGraph}},dagreNodesOnly:Yr,d3ForceDirected:class xu{constructor(){this.defaultSettings={force:jr().force("charge",zr().strength(-150)).force("collide",Or(5)),forceLink:Rr().id(s=>s.id).distance(()=>100)},this.settings={},this.outputGraph$=new _n.B}run(s){return this.inputGraph=s,this.d3Graph={nodes:[...this.inputGraph.nodes.map(n=>({...n}))],edges:[...this.inputGraph.edges.map(n=>({...n}))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(s,n){const o=Object.assign({},this.defaultSettings,this.settings);return o.force&&o.force.nodes(this.d3Graph.nodes).force("link",o.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(s){return this.outputGraph.nodes=this.d3Graph.nodes.map(n=>({...n,id:n.id||Ht(),position:{x:n.x,y:n.y},dimension:{width:n.dimension&&n.dimension.width||20,height:n.dimension&&n.dimension.height||20},transform:`translate(${n.x-(n.dimension&&n.dimension.width||20)/2||0}, ${n.y-(n.dimension&&n.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(n=>({...n,source:pe(n.source).id,target:pe(n.target).id,points:[{x:pe(n.source).x,y:pe(n.source).y},{x:pe(n.target).x,y:pe(n.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(s,n){this.settings.force.alphaTarget(.3).restart();const o=this.d3Graph.nodes.find(m=>m.id===s.id);o&&(this.draggingStart={x:n.x-o.x,y:n.y-o.y},o.fx=n.x-this.draggingStart.x,o.fy=n.y-this.draggingStart.y)}onDrag(s,n){if(!s)return;const o=this.d3Graph.nodes.find(m=>m.id===s.id);o&&(o.fx=n.x-this.draggingStart.x,o.fy=n.y-this.draggingStart.y)}onDragEnd(s,n){if(!s)return;const o=this.d3Graph.nodes.find(m=>m.id===s.id);o&&(this.settings.force.alphaTarget(0),o.fx=void 0,o.fy=void 0)}},colaForceDirected:class wu{constructor(){this.defaultSettings={force:(0,Oa.d3adaptor)({...p,...i,...c}).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new _n.B}run(s){return this.inputGraph=s,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(n=>({...n,width:n.dimension?n.dimension.width:20,height:n.dimension?n.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(n=>({padding:5,groups:n.childNodeIds.map(o=>this.inputGraph.clusters.findIndex(m=>m.id===o)).filter(o=>o>=0),leaves:n.childNodeIds.map(o=>this.inputGraph.nodes.findIndex(m=>m.id===o)).filter(o=>o>=0)}))],links:[...this.inputGraph.edges.map(n=>{const o=this.inputGraph.nodes.findIndex(b=>n.source===b.id),m=this.inputGraph.nodes.findIndex(b=>n.target===b.id);if(-1!==o&&-1!==m)return{...n,source:o,target:m}}).filter(n=>!!n)],groupLinks:[...this.inputGraph.edges.map(n=>{const o=this.inputGraph.nodes.findIndex(b=>n.source===b.id),m=this.inputGraph.nodes.findIndex(b=>n.target===b.id);if(!(o>=0&&m>=0))return n}).filter(n=>!!n)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(s,n){const o=Object.assign({},this.defaultSettings,this.settings);return o.force&&o.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(s){return this.outputGraph.nodes=s.nodes.map(n=>({...n,id:n.id||Ht(),position:{x:n.x,y:n.y},dimension:{width:n.dimension&&n.dimension.width||20,height:n.dimension&&n.dimension.height||20},transform:`translate(${n.x-(n.dimension&&n.dimension.width||20)/2||0}, ${n.y-(n.dimension&&n.dimension.height||20)/2||0})`})),this.outputGraph.edges=s.links.map(n=>{const o=Hr(s.nodes,n.source),m=Hr(s.nodes,n.target);return{...n,source:o.id,target:m.id,points:[o.bounds.rayIntersection(m.bounds.cx(),m.bounds.cy()),m.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy())]}}).concat(s.groupLinks.map(n=>{const o=s.nodes.find(T=>T.id===n.source),m=s.nodes.find(T=>T.id===n.target),b=o||s.groups.find(T=>T.id===n.source),_=m||s.groups.find(T=>T.id===n.target);return{...n,source:b.id,target:_.id,points:[b.bounds.rayIntersection(_.bounds.cx(),_.bounds.cy()),_.bounds.rayIntersection(b.bounds.cx(),b.bounds.cy())]}})),this.outputGraph.clusters=s.groups.map((n,o)=>({...this.inputGraph.clusters[o],dimension:{width:n.bounds?n.bounds.width():20,height:n.bounds?n.bounds.height():20},position:{x:n.bounds?n.bounds.x+n.bounds.width()/2:0,y:n.bounds?n.bounds.y+n.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(s,n){const o=this.outputGraph.nodes.findIndex(b=>b.id===s.id),m=this.internalGraph.nodes[o];m&&(this.draggingStart={x:m.x-n.x,y:m.y-n.y},m.fixed=1,this.settings.force.start())}onDrag(s,n){if(!s)return;const o=this.outputGraph.nodes.findIndex(b=>b.id===s.id),m=this.internalGraph.nodes[o];m&&(m.x=this.draggingStart.x+n.x,m.y=this.draggingStart.y+n.y)}onDragEnd(s,n){if(!s)return;const o=this.outputGraph.nodes.findIndex(b=>b.id===s.id),m=this.internalGraph.nodes[o];m&&(m.fixed=0)}}};let Wr=(()=>{class e{getLayout(n){if(Xr[n])return new Xr[n];throw new Error(`Unknown layout type '${n}'`)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac}),e})(),bu=(()=>{class e{constructor(){this.mouseWheelUp=new t.bkB,this.mouseWheelDown=new t.bkB}onMouseWheelChrome(n){this.mouseWheelFunc(n)}onMouseWheelFirefox(n){this.mouseWheelFunc(n)}onWheel(n){this.mouseWheelFunc(n)}onMouseWheelIE(n){this.mouseWheelFunc(n)}mouseWheelFunc(n){window.event&&(n=window.event);const o=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail||n.deltaY||n.deltaX)),b=n.wheelDelta?o<0:o>0;(n.wheelDelta?o>0:o<0)?this.mouseWheelUp.emit(n):b&&this.mouseWheelDown.emit(n),n.returnValue=!1,n.preventDefault&&n.preventDefault()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=t.FsC({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(n,o){1&n&&t.bIt("mousewheel",function(b){return o.onMouseWheelChrome(b)})("DOMMouseScroll",function(b){return o.onMouseWheelFirefox(b)})("wheel",function(b){return o.onWheel(b)})("onmousewheel",function(b){return o.onMouseWheelIE(b)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),e})();var en=function(e){return e.Init="init",e.Subscribe="subscribe",e.Transform="transform",e}(en||{});let Eu=(()=>{class e{constructor(n,o,m,b){this.el=n,this.zone=o,this.cd=m,this.layoutService=b,this.nodes=[],this.clusters=[],this.compoundNodes=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=Je.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=qe.UpperRight,this.scheme="cool",this.animations=!0,this.deferDisplayUntilPosition=!1,this.centerNodesOnPositionChange=!0,this.enablePreUpdateTransform=!0,this.select=new t.bkB,this.activate=new t.bkB,this.deactivate=new t.bkB,this.zoomChange=new t.bkB,this.clickHandler=new t.bkB,this.stateChange=new t.bkB,this.isMouseMoveCalled=!1,this.graphSubscription=new Tn.yU,this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.oldCompoundNodes=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.destroy$=new _n.B,this.groupResultsBy=_=>_.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(n){this.zoomTo(Number(n))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(n){this.panTo(Number(n),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(n){this.panTo(null,Number(n))}ngOnInit(){this.update$&&this.update$.pipe((0,We.Q)(this.destroy$)).subscribe(()=>{this.update()}),this.center$&&this.center$.pipe((0,We.Q)(this.destroy$)).subscribe(()=>{this.center()}),this.zoomToFit$&&this.zoomToFit$.pipe((0,We.Q)(this.destroy$)).subscribe(n=>{this.zoomToFit(n||{})}),this.panToNode$&&this.panToNode$.pipe((0,We.Q)(this.destroy$)).subscribe(n=>{this.panToNodeId(n)}),this.minimapClipPathId=`minimapClip${Ht()}`,this.stateChange.emit({state:en.Subscribe})}ngOnChanges(n){this.basicUpdate();const{layoutSettings:m}=n;this.setLayout(this.layout),m&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(n){this.initialized=!1,n||(n="dagre"),"string"==typeof n&&(this.layout=this.layoutService.getLayout(n),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(n){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=n)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy()),this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new pu(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=Ui.beta(1)),this.zone.run(()=>{this.dims=function du({width:e,height:s}){let n=e,o=s;return n=Math.max(0,n),o=Math.max(0,o),{width:Math.floor(n),height:Math.floor(o)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized||this.stateChange.emit({state:en.Init}),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new Tn.yU;const n=o=>(o.meta||(o.meta={}),o.id||(o.id=Ht()),o.dimension?o.meta.forceDimensions=void 0===o.meta.forceDimensions||o.meta.forceDimensions:(o.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},o.meta.forceDimensions=!1),o.position||(o.position={x:0,y:0},this.deferDisplayUntilPosition&&(o.hidden=!0)),o.data=o.data?o.data:{},o);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(n):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(n):[],compoundNodes:this.compoundNodes&&this.compoundNodes.length>0?[...this.compoundNodes].map(n):[],edges:this.links.length>0?[...this.links].map(o=>(o.id||(o.id=Ht()),o)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const n=this.layout.run(this.graph),o=n instanceof _r.c?n:(0,Tr.of)(n);this.graphSubscription.add(o.subscribe(m=>{this.graph=m,this.tick()})),(0!==this.graph.nodes.length||0!==this.graph.compoundNodes?.length)&&o.pipe((0,Oo.$)()).subscribe(()=>this.applyNodeDimensions())}tick(){const n=new Set;this.graph.nodes.map(_=>{_.transform=`translate(${_.position.x-(this.centerNodesOnPositionChange?_.dimension.width/2:0)||0}, ${_.position.y-(this.centerNodesOnPositionChange?_.dimension.height/2:0)||0})`,_.data||(_.data={}),_.data.color=this.colors.getColor(this.groupResultsBy(_)),this.deferDisplayUntilPosition&&(_.hidden=!1),n.add(_.id)});const o=new Set,m=new Set;(this.graph.clusters||[]).map(_=>{_.transform=`translate(${_.position.x-(this.centerNodesOnPositionChange?_.dimension.width/2:0)||0}, ${_.position.y-(this.centerNodesOnPositionChange?_.dimension.height/2:0)||0})`,_.data||(_.data={}),_.data.color=this.colors.getColor(this.groupResultsBy(_)),this.deferDisplayUntilPosition&&(_.hidden=!1),o.add(_.id)}),(this.graph.compoundNodes||[]).map(_=>{_.transform=`translate(${_.position.x-(this.centerNodesOnPositionChange?_.dimension.width/2:0)||0}, ${_.position.y-(this.centerNodesOnPositionChange?_.dimension.height/2:0)||0})`,_.data||(_.data={}),_.data.color=this.colors.getColor(this.groupResultsBy(_)),this.deferDisplayUntilPosition&&(_.hidden=!1),m.add(_.id)}),setTimeout(()=>{this.oldNodes=n,this.oldClusters=o,this.oldCompoundNodes=m},500);const b=[];for(const _ in this.graph.edgeLabels){const T=this.graph.edgeLabels[_],k=_.replace(/[^\w-]*/g,""),R=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let V=this._oldLinks.find(R?st=>`${st.source}${st.target}${st.id}`===k:st=>`${st.source}${st.target}`===k);const X=this.graph.edges.find(R?st=>`${st.source}${st.target}${st.id}`===k:st=>`${st.source}${st.target}`===k);V?V.data&&X&&X.data&&JSON.stringify(V.data)!==JSON.stringify(X.data)&&(V.data=X.data):V=X||T,V.oldLine=V.line;const W=T.points,it=this.generateLine(W),q=Object.assign({},V);q.line=it,q.points=W,this.updateMidpointOnEdge(q,W);const nt=W[Math.floor(W.length/2)];nt&&(q.textTransform=`translate(${nt.x||0},${nt.y||0})`),q.textAngle=0,q.oldLine||(q.oldLine=q.line),this.calcDominantBaseline(q),b.push(q)}this.graph.edges=b,this.graph.edges&&(this._oldLinks=this.graph.edges.map(_=>{const T=Object.assign({},_);return T.oldLine=_.line,T})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case qe.UpperLeft:return"";case qe.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let n=1/0,o=-1/0,m=1/0,b=-1/0;for(let _=0;_<this.graph.nodes.length;_++){const T=this.graph.nodes[_];n=T.position.x<n?T.position.x:n,m=T.position.y<m?T.position.y:m,o=T.position.x+T.dimension.width>o?T.position.x+T.dimension.width:o,b=T.position.y+T.dimension.height>b?T.position.y+T.dimension.height:b}n-=100,m-=100,o+=100,b+=100,this.graphDims.width=o-n,this.graphDims.height=b-m,this.minimapOffsetX=n,this.minimapOffsetY=m}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(n=>{const o=n.nativeElement,m=this.graph.nodes.find(_=>_.id===o.id);if(!m)return;let b;try{if(b=o.getBBox(),!b.width||!b.height)return}catch{return}if(m.dimension.height=this.nodeHeight?m.dimension.height&&m.meta.forceDimensions?m.dimension.height:this.nodeHeight:m.dimension.height&&m.meta.forceDimensions?m.dimension.height:b.height,this.nodeMaxHeight&&(m.dimension.height=Math.max(m.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(m.dimension.height=Math.min(m.dimension.height,this.nodeMinHeight)),this.nodeWidth)m.dimension.width=m.dimension.width&&m.meta.forceDimensions?m.dimension.width:this.nodeWidth;else if(o.getElementsByTagName("text").length){let _;try{for(const T of o.getElementsByTagName("text")){const k=T.getBBox();_?(k.width>_.width&&(_.width=k.width),k.height>_.height&&(_.height=k.height)):_=k}}catch{return}m.dimension.width=m.dimension.width&&m.meta.forceDimensions?m.dimension.width:_.width+20}else m.dimension.width=m.dimension.width&&m.meta.forceDimensions?m.dimension.width:b.width;this.nodeMaxWidth&&(m.dimension.width=Math.max(m.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(m.dimension.width=Math.min(m.dimension.width,this.nodeMinWidth))})}redrawLines(n=this.animate){this.linkElements.map(o=>{const m=this.graph.edges.find(b=>b.id===o.nativeElement.id);m&&(Bn(o.nativeElement).select(".line").attr("d",m.oldLine).transition().ease(Hn).duration(n?500:0).attr("d",m.line),Bn(this.el.nativeElement).select(`#${m.id}`).attr("d",m.oldTextPath).transition().ease(Hn).duration(n?500:0).attr("d",m.textPath),this.updateMidpointOnEdge(m,m.points))})}calcDominantBaseline(n){const o=n.points[0],m=n.points[n.points.length-1];n.oldTextPath=n.textPath,m.x<o.x?(n.dominantBaseline="text-before-edge",n.textPath=this.generateLine([...n.points].reverse())):(n.dominantBaseline="text-after-edge",n.textPath=n.line)}generateLine(n){return $n().x(m=>m.x).y(m=>m.y).curve(this.curve)(n)}onZoom(n,o){if(this.enableTrackpadSupport&&!n.ctrlKey)return void this.pan(-1*n.deltaX,-1*n.deltaY);const m=1+("in"===o?this.zoomSpeed:-this.zoomSpeed),b=this.zoomLevel*m;if(!(b<=this.minZoomLevel||b>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&n){const _=n.clientX,T=n.clientY,k=this.el.nativeElement.querySelector("svg"),R=k.querySelector("g.chart"),V=k.createSVGPoint();V.x=_,V.y=T;const X=V.matrixTransform(R.getScreenCTM().inverse());this.pan(X.x,X.y,!0),this.zoom(m),this.pan(-X.x,-X.y,!0)}else this.zoom(m)}pan(n,o,m=!1){const b=m?1:this.zoomLevel;this.transformationMatrix=Ne(this.transformationMatrix,Sr(n/b,o/b)),this.updateTransform()}panTo(n,o){null==n||isNaN(n)||null==o||isNaN(o)||(this.transformationMatrix=Ne(this.transformationMatrix,Sr((-this.panOffsetX-n*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-o*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(n){this.transformationMatrix=Ne(this.transformationMatrix,function Zo(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function Qo(e){return typeof e>"u"}(s)&&(s=e),{a:e,c:0,e:0,b:0,d:s,f:0}}(n,n)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(n){this.transformationMatrix.a=isNaN(n)?this.transformationMatrix.a:Number(n),this.transformationMatrix.d=isNaN(n)?this.transformationMatrix.d:Number(n),this.zoomChange.emit(this.zoomLevel),this.enablePreUpdateTransform&&this.updateTransform(),this.update()}onDrag(n){if(!this.draggingEnabled)return;const o=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(o,n),o.position.x+=n.movementX/this.zoomLevel,o.position.y+=n.movementY/this.zoomLevel,o.transform=`translate(${o.position.x-(this.centerNodesOnPositionChange?o.dimension.width/2:0)}, ${o.position.y-(this.centerNodesOnPositionChange?o.dimension.height/2:0)})`;for(const _ of this.graph.edges)if((_.target===o.id||_.source===o.id||_.target.id===o.id||_.source.id===o.id)&&this.layout&&"string"!=typeof this.layout){const T=this.layout.updateEdge(this.graph,_),k=T instanceof _r.c?T:(0,Tr.of)(T);this.graphSubscription.add(k.subscribe(R=>{this.graph=R,this.redrawEdge(_)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(n){const o=this.generateLine(n.points);this.calcDominantBaseline(n),n.oldLine=n.line,n.line=o}updateTransform(){this.transform=function qo(e){return function Nr(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}(e)}(function na(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(e.a*s)/s,b:Math.round(e.b*s)/s,c:Math.round(e.c*s)/s,d:Math.round(e.d*s)/s,e:Math.round(e.e*s)/s,f:Math.round(e.f*s)/s}}(this.transformationMatrix,100)),this.stateChange.emit({state:en.Transform})}onClick(n){this.select.emit(n)}onActivate(n){this.activeEntries.indexOf(n)>-1||(this.activeEntries=[n,...this.activeEntries],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n){const o=this.activeEntries.indexOf(n);this.activeEntries.splice(o,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(n=>this.groupResultsBy(n)).reduce((n,o)=>-1!==n.indexOf(o)?n:n.concat([o]),[]).sort()}trackLinkBy(n,o){return o.id}trackNodeBy(n,o){return o.id}setColors(){this.colors=new lu(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(n){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,n):this.isDragging&&this.draggingEnabled&&this.onDrag(n)}onMouseDown(n){this.isMouseMoveCalled=!1}graphClick(n){this.isMouseMoveCalled||this.clickHandler.emit(n)}onTouchStart(n){this._touchLastX=n.changedTouches[0].clientX,this._touchLastY=n.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(n){if(this.isPanning&&this.panningEnabled){const o=n.changedTouches[0].clientX,m=n.changedTouches[0].clientY,b=o-this._touchLastX,_=m-this._touchLastY;this._touchLastX=o,this._touchLastY=m,this.pan(b,_)}}onTouchEnd(n){this.isPanning=!1}onMouseUp(n){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,n)}onNodeMouseDown(n,o){this.draggingEnabled&&(this.isDragging=!0,this.draggingNode=o,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(o,n))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(n){this.panTo((n.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(n.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(n){this.updateGraphDims();let b=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);b<this.minZoomLevel&&(b=this.minZoomLevel),b>this.maxZoomLevel&&(b=this.maxZoomLevel),(!0===n?.force||b!==this.zoomLevel)&&(this.zoomLevel=b,!0!==n?.autoCenter&&this.updateTransform(),!0===n?.autoCenter&&this.center(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(n){const o=this.graph.nodes.find(m=>m.id===n);o&&this.panTo(o.position.x,o.position.y)}getCompoundNodeChildren(n){return this.nodes.filter(o=>n.includes(o.id))}panWithConstraints(n,o){let m=o.movementX,b=o.movementY;switch(this.isMinimapPanning&&(m=-this.minimapScaleCoefficient*m*this.zoomLevel,b=-this.minimapScaleCoefficient*b*this.zoomLevel),n){case Je.Horizontal:this.pan(m,0);break;case Je.Vertical:this.pan(0,b);break;default:this.pan(m,b)}}updateMidpointOnEdge(n,o){if(n&&o)if(o.length%2==1)n.midPoint=o[Math.floor(o.length/2)];else if(this.layout?.settings?.properties?.["elk.direction"])this._calcMidPointElk(n,o);else{const m=o[o.length/2],b=o[o.length/2-1];n.midPoint={x:(m.x+b.x)/2,y:(m.y+b.y)/2}}}_calcMidPointElk(n,o){let m=null,b=null,_=null,T=null;const k=this.layout.settings?.properties["elk.direction"];o.some("RIGHT"===k?V=>V.y!==o[0].y:V=>V.x!==o[0].x)?(m=o[o.length-1],b=o[o.length-2],_=o[o.length-1],T=o[o.length-2]):"RIGHT"===k?(m=o[0],b=o[o.length-1],_=o[o.length/2],T=o[o.length/2-1]):(m=o[o.length/2],b=o[o.length/2-1],_=o[0],T=o[o.length-1]),n.midPoint={x:(m.x+b.x)/2,y:(_.y+T.y)/2}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,o;const m=this.el.nativeElement;if(null!==m.parentNode){const b=m.parentNode.getBoundingClientRect();n=b.width,o=b.height}return n&&o?{width:n,height:o}:null}hasGraphDims(){return this.graphDims.width>0&&this.graphDims.height>0}hasNodeDims(){return this.graph.nodes?.every(n=>n.dimension.width>0&&n.dimension.height>0)}hasCompoundNodeDims(){return this.graph.compoundNodes?.every(n=>n.dimension.width>0&&n.dimension.height>0)}hasDims(){return this.hasGraphDims()&&this.hasNodeDims()&&this.hasCompoundNodeDims()}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const o=(0,Po.R)(window,"resize").pipe(function Uo(e,s=Ro){return(0,jo.N)((n,o)=>{let m=null,b=null,_=null;const T=()=>{if(m){m.unsubscribe(),m=null;const R=b;b=null,o.next(R)}};function k(){const R=_+e,V=s.now();if(V<R)return m=this.schedule(void 0,R-V),void o.add(m);T()}n.subscribe((0,zo._)(o,R=>{b=R,_=s.now(),m||(m=s.schedule(k,e),o.add(m))},()=>{T(),o.complete()},void 0,()=>{b=m=null}))})}(200)).subscribe(m=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=o}}return e.\u0275fac=function(n){return new(n||e)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(Wr))},e.\u0275cmp=t.VBU({type:e,selectors:[["ngx-graph"]],contentQueries:function(n,o,m){if(1&n&&(t.wni(m,Da,5),t.wni(m,Ga,5),t.wni(m,Ba,5),t.wni(m,Ra,5),t.wni(m,ja,5)),2&n){let b;t.mGM(b=t.lsd())&&(o.linkTemplate=b.first),t.mGM(b=t.lsd())&&(o.nodeTemplate=b.first),t.mGM(b=t.lsd())&&(o.clusterTemplate=b.first),t.mGM(b=t.lsd())&&(o.defsTemplate=b.first),t.mGM(b=t.lsd())&&(o.miniMapNodeTemplate=b.first)}},viewQuery:function(n,o){if(1&n&&(t.GBs(za,5),t.GBs(Ua,5)),2&n){let m;t.mGM(m=t.lsd())&&(o.nodeElements=m),t.mGM(m=t.lsd())&&(o.linkElements=m)}},hostBindings:function(n,o){1&n&&t.bIt("mousemove",function(b){return o.onMouseMove(b)},!1,t.EBC)("mousedown",function(b){return o.onMouseDown(b)},!1,t.EBC)("click",function(b){return o.graphClick(b)},!1,t.EBC)("touchmove",function(b){return o.onTouchMove(b)},!1,t.EBC)("mouseup",function(b){return o.onMouseUp(b)},!1,t.EBC)},inputs:{nodes:"nodes",clusters:"clusters",compoundNodes:"compoundNodes",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",deferDisplayUntilPosition:"deferDisplayUntilPosition",centerNodesOnPositionChange:"centerNodesOnPositionChange",enablePreUpdateTransform:"enablePreUpdateTransform",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler",stateChange:"stateChange"},features:[t.OA$],ngContentSelectors:$a,decls:6,vars:11,consts:[["clusterElement",""],["nodeElement",""],["linkElement",""],["mouseWheel","",1,"ngx-graph-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-graph"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"compound-nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"node-group",3,"click","mousedown","id"],["class","node compound-node",4,"ngIf"],[1,"node","compound-node"],[1,"link-group",3,"id"],["class","edge",4,"ngIf"],[1,"edge"],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(n,o){1&n&&(t.NAR(),t.j41(0,"div",3),t.bIt("mouseWheelUp",function(b){return o.onZoom(b,"in")})("mouseWheelDown",function(b){return o.onZoom(b,"out")}),t.qSk(),t.j41(1,"svg",4),t.DNE(2,iu,14,14,"g",5),t.j41(3,"clipPath"),t.nrm(4,"rect"),t.k0s(),t.DNE(5,hu,6,15,"g",6),t.k0s()()),2&n&&(t.xc7("width",o.width,"px"),t.Y8G("@animationState","active")("@.disabled",!o.animations),t.R7$(),t.BMQ("width",o.width)("height",o.height),t.R7$(),t.Y8G("ngIf",o.initialized&&o.graph),t.R7$(),t.BMQ("id",o.minimapClipPathId),t.R7$(),t.BMQ("width",o.graphDims.width/o.minimapScaleCoefficient)("height",o.graphDims.height/o.minimapScaleCoefficient),t.R7$(),t.Y8G("ngIf",o.showMiniMap))},dependencies:[bu,u.bT,u.T3,u.Sq],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;-moz-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .compound-node rect{opacity:.5}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,S.hZ)("animationState",[(0,S.kY)(":enter",[(0,S.iF)({opacity:0}),(0,S.i0)("500ms 100ms",(0,S.iF)({opacity:1}))])])]},changeDetection:0}),(0,M.Cg)([fu(500)],e.prototype,"updateMinimap",null),e})(),Cu=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[Wr],imports:[[u.MD]]}),e})(),_u=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[[u.MD],Cu]}),e})();var nn=r(4412);let Sn=(()=>{class e{constructor(){this.zoneDimensions$=new nn.t([0,0]),this.data$=new nn.t(null),this.dataChild$=new nn.t(null),this.dataYoutubers$=new nn.t(null)}calculateDimensions(n){const{width:o,height:m}=n.getBoundingClientRect();this.zoneDimensions$.next([o-5,m-8])}setDataFrom(n){this.data$.next({angular:{id:"first",label:"A",data:{title:"Angular \u{1f381}",text:"Inicio de conversacion"},action:{more:"Ver ruta",src:"angular",key:"childs"}}}[n])}setDataFromChild(n){this.dataChild$.next({angular:{nodes:[{id:"c1",label:"C1",data:{title:"Go ANGULAR!",img:"https://i.imgur.com/Ajzts77.png",text:"Menu del chatbot "}},{id:"c2",label:"C2",data:{title:"TS \u{1f918}",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Typescript_logo_2020.svg/1200px-Typescript_logo_2020.svg.png",text:"Comprar"},action:{more:"Ver ruta",src:"ts",key:"youtubers"}},{id:"c3",label:"C3",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Ver Carrito"}},{id:"c4",label:"C4",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Final"}},{id:"c5",label:"C5",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Consulta confirmacion"}},{id:"c6",label:"C6",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Direccion de envio"}},{id:"c7",label:"C7",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Observaciones"}},{id:"c8",label:"C8",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Verificar"}},{id:"c9",label:"C9",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Eliminar"}}],links:[{id:"a",source:"first",target:"c1",label:"is parent of"},{id:"b",source:"c1",target:"c3",label:"custom label"},{id:"d",source:"c1",target:"c2",label:"custom label"},{id:"e",source:"c1",target:"c4",label:"custom label"},{id:"f",source:"c2",target:"c5",label:"custom label"},{id:"g",source:"c5",target:"c3",label:"custom label"},{id:"h",source:"c5",target:"c6",label:"custom label"},{id:"i",source:"c6",target:"c7",label:"custom label"},{id:"j",source:"c7",target:"c8",label:"custom label"},{id:"k",source:"c8",target:"c4",label:"custom label"},{id:"l",source:"c3",target:"c1",label:"custom label"},{id:"m",source:"c5",target:"c9",label:"custom label"},{id:"n",source:"c9",target:"c1",label:"custom label"},{id:"o",source:"c5",target:"c1",label:"custom label"}]}}[n])}setDataYoutubers(n){this.dataYoutubers$.next({angular:{nodes:[{id:"c1",label:"C1",data:{title:"Go ANGULAR!",img:"https://i.imgur.com/Ajzts77.png",text:"<b>Angular</b> es un framework opensource desarrollado por Google para facilitar la creaci\xf3n y programaci\xf3n de aplicaciones web de una sola p\xe1gina, las webs SPA (Single Page Application)."}},{id:"c2",label:"C2",data:{title:"TS \u{1f918}",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Typescript_logo_2020.svg/1200px-Typescript_logo_2020.svg.png",text:"Learn one way to build applications with Angular and reuse your code and abilities to build apps for any deployment target. For web, mobile web."}},{id:"c3",label:"C3",data:{title:"Alan \u{1f918}",img:"https://cdn.iconscout.com/icon/free/png-256/javascript-2752148-2284965.png",text:"Learn one way to build applications with Angular"}}],links:[{id:"a",source:"first",target:"c1",label:"is parent of"},{id:"b",source:"c1",target:"c3",label:"custom label"},{id:"d",source:"c1",target:"c2",label:"custom label"},{id:"e",source:"c2",target:"c3",label:"first link"}]},ts:{nodes:[{id:"ts1",label:"TS1",data:{title:"Go ANGULAR!",img:"https://alan-buscaglia-portfolio.netlify.app/static/media/who_am_i_2.2b08c9ab.jpg",text:"<b>Angular</b> es un framework opensource desarrollado por Google para facilitar la creaci\xf3n y programaci\xf3n de aplicaciones web de una sola p\xe1gina, las webs SPA (Single Page Application)."}},{id:"ts2",label:"TS2",data:{title:"Go ANGULAR!",img:"https://avatars.githubusercontent.com/u/7414771?v=4",text:"<b>Angular</b> es un framework opensource desarrollado por Google para facilitar la creaci\xf3n y programaci\xf3n de aplicaciones web de una sola p\xe1gina, las webs SPA (Single Page Application)."}}],links:[{id:"t1",source:"c2",target:"ts1",label:"is parent of"},{id:"t2",source:"c2",target:"ts2",label:"is parent of"}]}}[n])}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tu=(()=>{class e{constructor(){this.flowChartService=(0,t.WQX)(Sn)}ngOnInit(){}callChilds(n,o){"youtubers"===o?this.flowChartService.setDataYoutubers(n):this.flowChartService.setDataFromChild(n)}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-flow-card-node"]],inputs:{dataIn:"dataIn"},standalone:!0,features:[t.aNF],decls:9,vars:1,consts:[[1,"wrapper-node","animate__animated","animate__bounceIn"],[1,"node-template"],[1,"w-full","cursor-pointer","bg-card","flex","flex-col","items-start","justify-center","p-2","rounded-md","hover:bg-background",2,"height","70px"],[1,"text","text-xs","text-foreground"],[1,"border-dashed","border-border","w-full"],[1,"flex","flex-row","flex-wrap","gap-1","py-1"],[1,"focus-visible:ring-ring","inline-flex","h-6","items-center","justify-start","whitespace-nowrap","rounded-md","border","border-primary","bg-background","px-3","text-xs","font-medium","text-primary","shadow-sm","transition-colors","focus-visible:outline-none","focus-visible:ring-1","disabled:pointer-events-none","disabled:opacity-50"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.EFF(4),t.k0s(),t.nrm(5,"hr",4),t.j41(6,"div",5)(7,"div",6),t.EFF(8," Inicio "),t.k0s()()()()()),2&o&&(t.R7$(4),t.JRh(null==m.dataIn||null==m.dataIn.data?null:m.dataIn.data.text))},dependencies:[u.MD]})}return e})();function rn(e,s){this._context=e,this._t=s}rn.prototype={areaStart(){this._line=0},areaEnd(){this._line=NaN},lineStart(){this._x=this._y=NaN,this._point=0},lineEnd(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:{let n,o,m,b;if(this._t<=0)n=.25*Math.abs(e-this._x),o=.25*Math.abs(s-this._y),m=this._y<s?this._y+o:this._y-o,b=this._y>s?s+o:s-o,this._context.quadraticCurveTo(this._x,this._y,this._x,m),this._context.lineTo(this._x,b),this._context.quadraticCurveTo(this._x,s,this._x+n,s),this._context.lineTo(e-n,s);else{const _=this._x*(1-this._t)+e*this._t;n=.25*Math.abs(e-_),o=.25*Math.abs(s-this._y),m=this._y<s?this._y+o:this._y-o,b=this._y>s?s+o:s-o,this._context.quadraticCurveTo(_,this._y,_,m),this._context.lineTo(_,b),this._context.quadraticCurveTo(_,s,_+n,s),this._context.lineTo(e-n,s)}break}}this._x=e,this._y=s}};const Mu=function(e){return new rn(e,1)},Au=["myChart"];function Nu(e,s){if(1&e&&(t.qSk(),t.j41(0,"g",5)(1,"foreignObject",6),t.joV(),t.j41(2,"div",7),t.nrm(3,"app-flow-card-node",8),t.k0s()()()),2&e){const n=s.$implicit;t.R7$(3),t.Y8G("dataIn",n)}}function Su(e,s){1&e&&(t.qSk(),t.j41(0,"g",9),t.nrm(1,"path",10)(2,"text",11),t.k0s())}function Iu(e,s){if(1&e&&(t.j41(0,"ngx-graph",4,0),t.DNE(2,Nu,4,1,"ng-template",null,1,t.C5r)(4,Su,3,0,"ng-template",null,2,t.C5r),t.k0s()),2&e){const n=t.XpG();t.Y8G("view",n.dimensions)("links",n.dataLink)("nodes",n.dataNode)("curve",n.curve)("layoutSettings",n.layoutSettings)}}let Kr=(()=>{class e{constructor(n,o){this.flowChartService=n,this.cd=o,this.dimensions=[0,0],this.showRender=!1,this.dataNode=[],this.dataLink=[],this.curve=Mu,this.layoutSettings={orientation:"LR"},this.layout=new Yr}ngOnInit(){this.flowChartService.zoneDimensions$.subscribe(([n,o])=>{let b=o;o<200&&(b=200),n&&o&&(this.dimensions=[n,b],this.showRender=!0,this.cd.detectChanges(),this.callAfterLoad())}),this.flowChartService.data$.subscribe(n=>{n&&(this.dataNode=[n])}),this.flowChartService.dataChild$.subscribe(n=>{n&&(this.dataNode=[...this.dataNode,...n.nodes],this.dataLink=[...this.dataLink,...n.links],this.cd.detectChanges(),this.callAfterLoad())})}callAfterLoad(){console.log("Modificaciones"),this.child.layout.updateEdge=function(n,o){const m=n.nodes.find(R=>R.id===o.source),b=n.nodes.find(R=>R.id===o.target),T={x:m.position.x-m.dimension.height/2*-1,i:!0,y:m.position.y},k={x:b.position.x-b.dimension.height/2*-1-100,i:!0,y:b.position.y};return o.points=[T,k],console.log([T,k]),n},this.child.generateLine=function(n){return $n().x(m=>{let b=0;return void 0===m.i&&(b=0),m.x+b}).y(m=>m.y).curve(this.curve)(n)}}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(Sn),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-view-flow"]],viewQuery:function(o,m){if(1&o&&t.GBs(Au,5),2&o){let b;t.mGM(b=t.lsd())&&(m.child=b.first)}},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["myChart",""],["nodeTemplate",""],["linkTemplate",""],["class","bg-background ","layout","dagreCluster",3,"view","links","nodes","curve","layoutSettings",4,"ngIf"],["layout","dagreCluster",1,"bg-background",3,"view","links","nodes","curve","layoutSettings"],[1,"node"],["width","180","height","70"],["xmlns","http://www.w3.org/1999/xhtml"],[3,"dataIn"],[1,"edge"],["stroke-width","2","marker-end","url(#arrow)",1,"line"],["text-anchor","middle",1,"edge-label"]],template:function(o,m){1&o&&t.DNE(0,Iu,6,5,"ngx-graph",3),2&o&&t.Y8G("ngIf",m.showRender)},dependencies:[u.MD,u.bT,_u,Eu,Tu]})}return e})();var Qr=r(6903);let Zr=(()=>{class e{close(){this.sidebarOrderListener?.close()}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-node-flow"]],inputs:{sidebarOrderListener:"sidebarOrderListener"},standalone:!0,features:[t.aNF],decls:52,vars:0,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"w-full","mx-auto"],[1,"flex","w-full","overflow-auto","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],["onclick","selectTab('tab1')","id","tab1-btn",1,"py-2","px-4","text-sm","font-medium","text-primary","border-b-2","border-primary","hover:border-primary","hover:text-primary","focus:outline-none","active-tab"],["onclick","selectTab('tab2')","id","tab2-btn",1,"py-2","px-4","text-sm","font-medium","text-muted-foreground","border-b-2","border-transparent","hover:border-primary","hover:text-primary","focus:outline-none"],["onclick","selectTab('tab3')","id","tab3-btn",1,"py-2","px-4","text-sm","font-medium","text-muted-foreground","border-b-2","border-transparent","hover:border-primary","hover:text-primary","focus:outline-none"],[1,"flex","py-2","flex-col","gap-2"],[1,"text-xs","text-foreground"],[1,"text-xs","text-muted-foreground"],["type","text"],[1,"w-full","bg-primary","text-white","p-2","rounded-md"],[1,"w-full","bg-red-600","text-white","p-2","rounded-md"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t.EFF(4,"Nuevo Nodo"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return m.close()}),t.EFF(6," X "),t.k0s()(),t.nrm(7,"hr",5),t.k0s(),t.j41(8,"div",6)(9,"div",7)(10,"button",8),t.EFF(11," Seleccion "),t.k0s(),t.j41(12,"button",9),t.EFF(13," Informativo "),t.k0s(),t.j41(14,"button",9),t.EFF(15," Lista Agregar "),t.k0s(),t.j41(16,"button",10),t.EFF(17," Lista Mostrar "),t.k0s(),t.j41(18,"button",10),t.EFF(19," Lista Eliminar "),t.k0s(),t.j41(20,"button",10),t.EFF(21," Seleccion "),t.k0s(),t.j41(22,"button",10),t.EFF(23," Pregunta "),t.k0s(),t.j41(24,"button",10),t.EFF(25," Fin "),t.k0s()(),t.nrm(26,"hr",5),t.j41(27,"div",11)(28,"span",12),t.EFF(29,"Seleccion"),t.k0s(),t.j41(30,"span",13),t.EFF(31,"Nodo que muestra un listado de opciones en la cual deriva a siguientes nodos"),t.k0s(),t.nrm(32,"hr",5),t.j41(33,"span",13),t.EFF(34,"Nombre de Nodo"),t.k0s(),t.nrm(35,"input",14)(36,"hr",5),t.j41(37,"span",12),t.EFF(38,"Lista de opciones"),t.k0s(),t.j41(39,"span",13),t.EFF(40,"Vacia"),t.k0s(),t.nrm(41,"hr",5),t.j41(42,"span",12),t.EFF(43,"Lista de conexiones"),t.k0s(),t.j41(44,"span",13),t.EFF(45,"Vacia"),t.k0s()(),t.nrm(46,"hr",5),t.j41(47,"div",11)(48,"button",15),t.EFF(49," Generar Cambios "),t.k0s(),t.j41(50,"button",16),t.EFF(51," Cancelar Cambios "),t.k0s()()()())},dependencies:[u.MD],encapsulation:2})}return e})(),Lu=(()=>{class e{constructor(){this.forms=[]}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-modal-beta"]],inputs:{forms:"forms",data:"data"},standalone:!0,features:[t.aNF],decls:5,vars:1,consts:[[1,"flex","flex-col","items-center","justify-start","w-full"],[1,"flex","justify-center","items-center","w-full"],["src","assets/icons/heroicons/outline/information-circle.svg",3,"svgClass"],[1,"text-foreground"]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"svg-icon",2),t.k0s(),t.j41(3,"span",3),t.EFF(4,"Desea vincular su dispositivo con el chatbot?"),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("svgClass","h-20 w-20 text-red-600"))},dependencies:[u.MD,l.DM],encapsulation:2})}return e})();var Jr=r(9490);let ku=(()=>{class e{constructor(n){this.zone=n,this.qrCodeEvent=new t.bkB,this.connectionUpdateEvent=new t.bkB,this.messageEvent=new t.bkB,this.customEvent=new t.bkB,this.sendMessageResponseEvent=new t.bkB,window.electron&&window.electron.receive("chat-event",o=>{console.log({body:o}),o.data&&this.zone.run(()=>{this.qrCodeEvent.emit(o.data)})})}sendMessage(n){window.electron&&window.electron.send("load-data",n)}requestQrWhatsapp(){window.electron&&window.electron.send("qr-load","")}sendWhatsAppMessage(n,o){window.electron&&window.electron.send("send-whatsapp-message",{jid:n,message:o})}handleResponse(n){console.log("Received response from Electron:",n)}static#t=this.\u0275fac=function(o){return new(o||e)(t.KVO(t.SKi))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pu=r(8314);const Ou=["qrQuote"];let Fu=(()=>{class e{constructor(){this.forms=[],this.cdr=(0,t.WQX)(t.gRc)}ngAfterViewInit(){const n=this.data.qr,o=this.qrQuoteCanvas?.nativeElement;console.log({dataQr:n}),o&&Pu.mo(o,n,m=>{m?console.log(m):this.cdr.detectChanges()})}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-qr-code"]],viewQuery:function(o,m){if(1&o&&t.GBs(Ou,5),2&o){let b;t.mGM(b=t.lsd())&&(m.qrQuoteCanvas=b.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[t.aNF],decls:5,vars:0,consts:[["qrQuote",""],[1,"flex","flex-col","gap-2","p-4","bg-background"],[1,"text-foreground","text-xl"]],template:function(o,m){1&o&&(t.j41(0,"div",1)(1,"span",2),t.EFF(2,"Escanea el c\xf3digo QR"),t.k0s(),t.nrm(3,"canvas",null,0),t.k0s())},dependencies:[u.MD],encapsulation:2,changeDetection:0})}return e})();function Du(e,s){}const Gu=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-warehouse"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(o,m){1&o&&t.nrm(0,"router-outlet")},dependencies:[d.n3],encapsulation:2})}return e})(),children:[{path:"list",component:E},{path:"item",component:(()=>{class e{constructor(){this.onShowItem=!1,this.activatedRouter=(0,t.WQX)(d.nX),this.flowChartService=(0,t.WQX)(Sn),this.cdr=(0,t.WQX)(t.gRc),this.id=null,this.modalService=(0,t.WQX)(g.B),this.electronService=(0,t.WQX)(ku),this.sidebarOrderListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.cdr.detectChanges();const n=this.viewFlowElementRef?.nativeElement;this.flowChartService.calculateDimensions(n),this.cdr.detectChanges()},submit:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.cdr.detectChanges();const n=this.viewFlowElementRef?.nativeElement;this.flowChartService.calculateDimensions(n),this.cdr.detectChanges()},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.cdr.detectChanges();const n=this.viewFlowElementRef?.nativeElement;this.flowChartService.calculateDimensions(n),this.cdr.detectChanges()}}}ngOnInit(){const n=this.activatedRouter.snapshot.queryParams;this.id=n.id?n.id:null,this.modalService.open(Lu,{title:"Alerta",size:"sm",forms:null,data:null,icon:"assets/icons/heroicons/outline/information-circle.svg",actions:[{action:Jr.X.Create,title:"Generar QR"}]}).subscribe({next:o=>{this.electronService.requestQrWhatsapp(),this.electronService.qrCodeEvent.subscribe(m=>{this.generateQrModal(m)})},error:o=>{},complete:()=>{}})}generateQrModal(n){this.modalService.open(Fu,{title:"Leer el qr generado",size:"sm",forms:[],data:{qr:n},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:Jr.X.Create,title:"Generar Nueva Orden"}]}).subscribe({next:o=>{},error:o=>{console.log({err:o})},complete:()=>{}})}ngAfterViewInit(){const n=this.dcWrapper.viewContainerRef;n.clear(),n.createComponent(Zr).instance.sidebarOrderListener=this.sidebarOrderListener,this.onShowItem=!0;const m=this.viewFlowElementRef?.nativeElement;this.flowChartService.calculateDimensions(m),this.flowChartService.setDataFrom("angular"),this.flowChartService.setDataFromChild("angular"),this.cdr.detectChanges()}onOrderSelected(){const n=this.dcWrapper.viewContainerRef;n.clear(),n.createComponent(Zr).instance.sidebarOrderListener=this.sidebarOrderListener,this.onShowItem=!0}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-item"]],viewQuery:function(o,m){if(1&o&&(t.GBs(Kr,5,t.aKT),t.GBs(Qr.l,5)),2&o){let b;t.mGM(b=t.lsd())&&(m.viewFlowElementRef=b.first),t.mGM(b=t.lsd())&&(m.dcWrapper=b.first)}},standalone:!0,features:[t.aNF],decls:7,vars:2,consts:[[3,"classList"],[1,"flex","flex-col","md:flex-row","gap-5","justify-between"],[1,"w-full"],[1,"w-full","bg-muted"],["dcWrapper",""]],template:function(o,m){1&o&&(t.j41(0,"div",0)(1,"div",0),t.nrm(2,"app-item-header"),t.j41(3,"div",1),t.nrm(4,"app-flow-detail",2)(5,"app-view-flow",3),t.k0s()(),t.DNE(6,Du,0,0,"ng-template",4),t.k0s()),2&o&&(t.Y8G("classList",m.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),t.R7$(),t.Y8G("classList",m.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"))},dependencies:[u.MD,C,A,Kr,Qr.l],encapsulation:2})}return e})()},{path:"",redirectTo:"list",pathMatch:"full"}]},{path:"**",redirectTo:"errors/404"}];let Bu=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[d.iI.forChild(Gu),d.iI]})}return e})(),Ru=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[Bu]})}return e})()},9881:(y,w,r)=>{y.exports={graphlib:r(1986),layout:r(7363),debug:r(7022),util:{time:r(2361).time,notime:r(2361).notime},version:r(9233)}},3833:(y,w,r)=>{"use strict";var i=r(8128),p=r(3802);y.exports={run:function c(t){var h="greedy"===t.graph().acyclicer?p(t,function a(f){return function(g){return f.edge(g).weight}}(t)):function d(t){var h=[],a={},f={};return i.forEach(t.nodes(),function g(l){i.has(f,l)||(f[l]=!0,a[l]=!0,i.forEach(t.outEdges(l),function(v){i.has(a,v.w)?h.push(v):g(v.w)}),delete a[l])}),h}(t);i.forEach(h,function(f){var g=t.edge(f);t.removeEdge(f),g.forwardName=f.name,g.reversed=!0,t.setEdge(f.w,f.v,g,i.uniqueId("rev"))})},undo:function u(t){i.forEach(t.edges(),function(h){var a=t.edge(h);if(a.reversed){t.removeEdge(h);var f=a.forwardName;delete a.reversed,delete a.forwardName,t.setEdge(h.w,h.v,a,f)}})}}},1716:(y,w,r)=>{var i=r(8128),p=r(2361);function d(u,t,h,a,f,g){var v=f[t][g-1],x=p.addDummyNode(u,"border",{width:0,height:0,rank:g,borderType:t},h);f[t][g]=x,u.setParent(x,a),v&&u.setEdge(v,x,{weight:1})}y.exports=function c(u){i.forEach(u.children(),function t(h){var a=u.children(h),f=u.node(h);if(a.length&&i.forEach(a,t),i.has(f,"minRank")){f.borderLeft=[],f.borderRight=[];for(var g=f.minRank,l=f.maxRank+1;g<l;++g)d(u,"borderLeft","_bl",h,f,g),d(u,"borderRight","_br",h,f,g)}})}},1469:(y,w,r)=>{"use strict";var i=r(8128);function d(g){i.forEach(g.nodes(),function(l){u(g.node(l))}),i.forEach(g.edges(),function(l){u(g.edge(l))})}function u(g){var l=g.width;g.width=g.height,g.height=l}function h(g){g.y=-g.y}function f(g){var l=g.x;g.x=g.y,g.y=l}y.exports={adjust:function p(g){var l=g.graph().rankdir.toLowerCase();("lr"===l||"rl"===l)&&d(g)},undo:function c(g){var l=g.graph().rankdir.toLowerCase();("bt"===l||"rl"===l)&&function t(g){i.forEach(g.nodes(),function(l){h(g.node(l))}),i.forEach(g.edges(),function(l){var v=g.edge(l);i.forEach(v.points,h),i.has(v,"y")&&h(v)})}(g),("lr"===l||"rl"===l)&&(function a(g){i.forEach(g.nodes(),function(l){f(g.node(l))}),i.forEach(g.edges(),function(l){var v=g.edge(l);i.forEach(v.points,f),i.has(v,"x")&&f(v)})}(g),d(g))}}},3676:y=>{function w(){var p={};p._next=p._prev=p,this._sentinel=p}function r(p){p._prev._next=p._next,p._next._prev=p._prev,delete p._next,delete p._prev}function i(p,c){if("_next"!==p&&"_prev"!==p)return c}y.exports=w,w.prototype.dequeue=function(){var p=this._sentinel,c=p._prev;if(c!==p)return r(c),c},w.prototype.enqueue=function(p){var c=this._sentinel;p._prev&&p._next&&r(p),p._next=c._next,c._next._prev=p,c._next=p,p._prev=c},w.prototype.toString=function(){for(var p=[],c=this._sentinel,d=c._prev;d!==c;)p.push(JSON.stringify(d,i)),d=d._prev;return"["+p.join(", ")+"]"}},7022:(y,w,r)=>{var i=r(8128),p=r(2361),c=r(1986).Graph;y.exports={debugOrdering:function d(u){var t=p.buildLayerMatrix(u),h=new c({compound:!0,multigraph:!0}).setGraph({});return i.forEach(u.nodes(),function(a){h.setNode(a,{label:a}),h.setParent(a,"layer"+u.node(a).rank)}),i.forEach(u.edges(),function(a){h.setEdge(a.v,a.w,{},a.name)}),i.forEach(t,function(a,f){h.setNode("layer"+f,{rank:"same"}),i.reduce(a,function(l,v){return h.setEdge(l,v,{style:"invis"}),v})}),h}}},1986:(y,w,r)=>{var i;try{i=r(9031)}catch{}i||(i=window.graphlib),y.exports=i},3802:(y,w,r)=>{var i=r(8128),p=r(1986).Graph,c=r(3676);y.exports=function u(g,l){if(g.nodeCount()<=1)return[];var v=function a(g,l){var v=new p,x=0,E=0;i.forEach(g.nodes(),function(M){v.setNode(M,{v:M,in:0,out:0})}),i.forEach(g.edges(),function(M){var S=v.edge(M.v,M.w)||0,N=l(M);v.setEdge(M.v,M.w,S+N),E=Math.max(E,v.node(M.v).out+=N),x=Math.max(x,v.node(M.w).in+=N)});var C=i.range(E+x+3).map(function(){return new c}),A=x+1;return i.forEach(v.nodes(),function(M){f(C,A,v.node(M))}),{graph:v,buckets:C,zeroIdx:A}}(g,l||d),x=function t(g,l,v){for(var A,x=[],E=l[l.length-1],C=l[0];g.nodeCount();){for(;A=C.dequeue();)h(g,l,v,A);for(;A=E.dequeue();)h(g,l,v,A);if(g.nodeCount())for(var M=l.length-2;M>0;--M)if(A=l[M].dequeue()){x=x.concat(h(g,l,v,A,!0));break}}return x}(v.graph,v.buckets,v.zeroIdx);return i.flatten(i.map(x,function(E){return g.outEdges(E.v,E.w)}),!0)};var d=i.constant(1);function h(g,l,v,x,E){var C=E?[]:void 0;return i.forEach(g.inEdges(x.v),function(A){var M=g.edge(A),S=g.node(A.v);E&&C.push({v:A.v,w:A.w}),S.out-=M,f(l,v,S)}),i.forEach(g.outEdges(x.v),function(A){var M=g.edge(A),N=g.node(A.w);N.in-=M,f(l,v,N)}),g.removeNode(x.v),C}function f(g,l,v){v.out?v.in?g[v.out-v.in+l].enqueue(v):g[g.length-1].enqueue(v):g[0].enqueue(v)}},7363:(y,w,r)=>{"use strict";var i=r(8128),p=r(3833),c=r(1778),d=r(1660),u=r(2361).normalizeRanks,t=r(4883),h=r(2361).removeEmptyRanks,a=r(5274),f=r(1716),g=r(1469),l=r(8902),v=r(1949),x=r(2361),E=r(1986).Graph;y.exports=function C(K,J){var et=J&&J.debugTiming?x.time:x.notime;et("layout",function(){var at=et("  buildLayoutGraph",function(){return function L(K){var J=new E({multigraph:!0,compound:!0}),et=dt(K.graph());return J.setGraph(i.merge({},N,ut(et,S),i.pick(et,F))),i.forEach(K.nodes(),function(at){var ct=dt(K.node(at));J.setNode(at,i.defaults(ut(ct,j),Y)),J.setParent(at,K.parent(at))}),i.forEach(K.edges(),function(at){var ct=dt(K.edge(at));J.setEdge(at,i.merge({},$,ut(ct,G),i.pick(ct,I)))}),J}(K)});et("  runLayout",function(){!function A(K,J){J("    makeSpaceForEdgeLabels",function(){!function P(K){var J=K.graph();J.ranksep/=2,i.forEach(K.edges(),function(et){var at=K.edge(et);at.minlen*=2,"c"!==at.labelpos.toLowerCase()&&("TB"===J.rankdir||"BT"===J.rankdir?at.width+=at.labeloffset:at.height+=at.labeloffset)})}(K)}),J("    removeSelfEdges",function(){!function rt(K){i.forEach(K.edges(),function(J){if(J.v===J.w){var et=K.node(J.v);et.selfEdges||(et.selfEdges=[]),et.selfEdges.push({e:J,label:K.edge(J)}),K.removeEdge(J)}})}(K)}),J("    acyclic",function(){p.run(K)}),J("    nestingGraph.run",function(){a.run(K)}),J("    rank",function(){d(x.asNonCompoundGraph(K))}),J("    injectEdgeLabelProxies",function(){!function O(K){i.forEach(K.edges(),function(J){var et=K.edge(J);if(et.width&&et.height){var at=K.node(J.v),ct=K.node(J.w);x.addDummyNode(K,"edge-proxy",{rank:(ct.rank-at.rank)/2+at.rank,e:J},"_ep")}})}(K)}),J("    removeEmptyRanks",function(){h(K)}),J("    nestingGraph.cleanup",function(){a.cleanup(K)}),J("    normalizeRanks",function(){u(K)}),J("    assignRankMinMax",function(){!function D(K){var J=0;i.forEach(K.nodes(),function(et){var at=K.node(et);at.borderTop&&(at.minRank=K.node(at.borderTop).rank,at.maxRank=K.node(at.borderBottom).rank,J=i.max(J,at.maxRank))}),K.graph().maxRank=J}(K)}),J("    removeEdgeLabelProxies",function(){!function U(K){i.forEach(K.nodes(),function(J){var et=K.node(J);"edge-proxy"===et.dummy&&(K.edge(et.e).labelRank=et.rank,K.removeNode(J))})}(K)}),J("    normalize.run",function(){c.run(K)}),J("    parentDummyChains",function(){t(K)}),J("    addBorderSegments",function(){f(K)}),J("    order",function(){l(K)}),J("    insertSelfEdges",function(){!function tt(K){var J=x.buildLayerMatrix(K);i.forEach(J,function(et){var at=0;i.forEach(et,function(ct,ft){var gt=K.node(ct);gt.order=ft+at,i.forEach(gt.selfEdges,function(yt){x.addDummyNode(K,"selfedge",{width:yt.label.width,height:yt.label.height,rank:gt.rank,order:ft+ ++at,e:yt.e,label:yt.label},"_se")}),delete gt.selfEdges})})}(K)}),J("    adjustCoordinateSystem",function(){g.adjust(K)}),J("    position",function(){v(K)}),J("    positionSelfEdges",function(){!function ot(K){i.forEach(K.nodes(),function(J){var et=K.node(J);if("selfedge"===et.dummy){var at=K.node(et.e.v),ct=at.x+at.width/2,ft=at.y,gt=et.x-ct,yt=at.height/2;K.setEdge(et.e,et.label),K.removeNode(J),et.label.points=[{x:ct+2*gt/3,y:ft-yt},{x:ct+5*gt/6,y:ft-yt},{x:ct+gt,y:ft},{x:ct+5*gt/6,y:ft+yt},{x:ct+2*gt/3,y:ft+yt}],et.label.x=et.x,et.label.y=et.y}})}(K)}),J("    removeBorderNodes",function(){!function Z(K){i.forEach(K.nodes(),function(J){if(K.children(J).length){var et=K.node(J),at=K.node(et.borderTop),ct=K.node(et.borderBottom),ft=K.node(i.last(et.borderLeft)),gt=K.node(i.last(et.borderRight));et.width=Math.abs(gt.x-ft.x),et.height=Math.abs(ct.y-at.y),et.x=ft.x+et.width/2,et.y=at.y+et.height/2}}),i.forEach(K.nodes(),function(J){"border"===K.node(J).dummy&&K.removeNode(J)})}(K)}),J("    normalize.undo",function(){c.undo(K)}),J("    fixupEdgeLabelCoords",function(){!function B(K){i.forEach(K.edges(),function(J){var et=K.edge(J);if(i.has(et,"x"))switch(("l"===et.labelpos||"r"===et.labelpos)&&(et.width-=et.labeloffset),et.labelpos){case"l":et.x-=et.width/2+et.labeloffset;break;case"r":et.x+=et.width/2+et.labeloffset}})}(K)}),J("    undoCoordinateSystem",function(){g.undo(K)}),J("    translateGraph",function(){!function H(K){var J=Number.POSITIVE_INFINITY,et=0,at=Number.POSITIVE_INFINITY,ct=0,ft=K.graph(),gt=ft.marginx||0,yt=ft.marginy||0;function Ot(wt){var Ct=wt.x,vt=wt.y,zt=wt.width,mt=wt.height;J=Math.min(J,Ct-zt/2),et=Math.max(et,Ct+zt/2),at=Math.min(at,vt-mt/2),ct=Math.max(ct,vt+mt/2)}i.forEach(K.nodes(),function(wt){Ot(K.node(wt))}),i.forEach(K.edges(),function(wt){var Ct=K.edge(wt);i.has(Ct,"x")&&Ot(Ct)}),J-=gt,at-=yt,i.forEach(K.nodes(),function(wt){var Ct=K.node(wt);Ct.x-=J,Ct.y-=at}),i.forEach(K.edges(),function(wt){var Ct=K.edge(wt);i.forEach(Ct.points,function(vt){vt.x-=J,vt.y-=at}),i.has(Ct,"x")&&(Ct.x-=J),i.has(Ct,"y")&&(Ct.y-=at)}),ft.width=et-J+gt,ft.height=ct-at+yt}(K)}),J("    assignNodeIntersects",function(){!function z(K){i.forEach(K.edges(),function(J){var ft,gt,et=K.edge(J),at=K.node(J.v),ct=K.node(J.w);et.points?(ft=et.points[0],gt=et.points[et.points.length-1]):(et.points=[],ft=ct,gt=at),et.points.unshift(x.intersectRect(at,ft)),et.points.push(x.intersectRect(ct,gt))})}(K)}),J("    reversePoints",function(){!function Q(K){i.forEach(K.edges(),function(J){var et=K.edge(J);et.reversed&&et.points.reverse()})}(K)}),J("    acyclic.undo",function(){p.undo(K)})}(at,et)}),et("  updateInputGraph",function(){!function M(K,J){i.forEach(K.nodes(),function(et){var at=K.node(et),ct=J.node(et);at&&(at.x=ct.x,at.y=ct.y,J.children(et).length&&(at.width=ct.width,at.height=ct.height))}),i.forEach(K.edges(),function(et){var at=K.edge(et),ct=J.edge(et);at.points=ct.points,i.has(ct,"x")&&(at.x=ct.x,at.y=ct.y)}),K.graph().width=J.graph().width,K.graph().height=J.graph().height}(K,at)})})};var S=["nodesep","edgesep","ranksep","marginx","marginy"],N={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},F=["acyclicer","ranker","rankdir","align"],j=["width","height"],Y={width:0,height:0},G=["minlen","weight","width","height","labeloffset"],$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"];function ut(K,J){return i.mapValues(i.pick(K,J),Number)}function dt(K){var J={};return i.forEach(K,function(et,at){J[at.toLowerCase()]=et}),J}},8128:(y,w,r)=>{var i;try{i={cloneDeep:r(4418),constant:r(6205),defaults:r(1931),each:r(3572),filter:r(5155),find:r(7838),flatten:r(7651),forEach:r(1091),forIn:r(4181),has:r(2789),isUndefined:r(9261),last:r(5649),map:r(339),mapValues:r(9221),max:r(5147),merge:r(3413),min:r(2665),minBy:r(9924),now:r(501),pick:r(9176),range:r(700),reduce:r(9687),sortBy:r(9136),uniqueId:r(9519),values:r(7127),zipObject:r(785)}}catch{}i||(i=window._),y.exports=i},5274:(y,w,r)=>{var i=r(8128),p=r(2361);function d(a,f,g,l,v,x,E){var C=a.children(E);if(C.length){var A=p.addBorderNode(a,"_bt"),M=p.addBorderNode(a,"_bb"),S=a.node(E);a.setParent(A,E),S.borderTop=A,a.setParent(M,E),S.borderBottom=M,i.forEach(C,function(N){d(a,f,g,l,v,x,N);var F=a.node(N),j=F.borderTop?F.borderTop:N,Y=F.borderBottom?F.borderBottom:N,G=F.borderTop?l:2*l,$=j!==Y?1:v-x[E]+1;a.setEdge(A,j,{weight:G,minlen:$,nestingEdge:!0}),a.setEdge(Y,M,{weight:G,minlen:$,nestingEdge:!0})}),a.parent(E)||a.setEdge(f,A,{weight:0,minlen:v+x[E]})}else E!==f&&a.setEdge(f,E,{weight:0,minlen:g})}y.exports={run:function c(a){var f=p.addDummyNode(a,"root",{},"_root"),g=function u(a){var f={};function g(l,v){var x=a.children(l);x&&x.length&&i.forEach(x,function(E){g(E,v+1)}),f[l]=v}return i.forEach(a.children(),function(l){g(l,1)}),f}(a),l=i.max(i.values(g))-1,v=2*l+1;a.graph().nestingRoot=f,i.forEach(a.edges(),function(E){a.edge(E).minlen*=v});var x=function t(a){return i.reduce(a.edges(),function(f,g){return f+a.edge(g).weight},0)}(a)+1;i.forEach(a.children(),function(E){d(a,f,v,x,l,g,E)}),a.graph().nodeRankFactor=v},cleanup:function h(a){var f=a.graph();a.removeNode(f.nestingRoot),delete f.nestingRoot,i.forEach(a.edges(),function(g){a.edge(g).nestingEdge&&a.removeEdge(g)})}}},1778:(y,w,r)=>{"use strict";var i=r(8128),p=r(2361);y.exports={run:function c(t){t.graph().dummyChains=[],i.forEach(t.edges(),function(h){!function d(t,h){var a=h.v,f=t.node(a).rank,g=h.w,l=t.node(g).rank,v=h.name,x=t.edge(h),E=x.labelRank;if(l!==f+1){var C,A,M;for(t.removeEdge(h),M=0,++f;f<l;++M,++f)x.points=[],C=p.addDummyNode(t,"edge",A={width:0,height:0,edgeLabel:x,edgeObj:h,rank:f},"_d"),f===E&&(A.width=x.width,A.height=x.height,A.dummy="edge-label",A.labelpos=x.labelpos),t.setEdge(a,C,{weight:x.weight},v),0===M&&t.graph().dummyChains.push(C),a=C;t.setEdge(a,g,{weight:x.weight},v)}}(t,h)})},undo:function u(t){i.forEach(t.graph().dummyChains,function(h){var g,a=t.node(h),f=a.edgeLabel;for(t.setEdge(a.edgeObj,f);a.dummy;)g=t.successors(h)[0],t.removeNode(h),f.points.push({x:a.x,y:a.y}),"edge-label"===a.dummy&&(f.x=a.x,f.y=a.y,f.width=a.width,f.height=a.height),a=t.node(h=g)})}}},8589:(y,w,r)=>{var i=r(8128);y.exports=function p(c,d,u){var h,t={};i.forEach(u,function(a){for(var g,l,f=c.parent(a);f;){if((g=c.parent(f))?(l=t[g],t[g]=f):(l=h,h=f),l&&l!==f)return void d.setEdge(l,f);f=g}})}},553:(y,w,r)=>{var i=r(8128);y.exports=function p(c,d){return i.map(d,function(u){var t=c.inEdges(u);if(t.length){var h=i.reduce(t,function(a,f){var g=c.edge(f),l=c.node(f.v);return{sum:a.sum+g.weight*l.order,weight:a.weight+g.weight}},{sum:0,weight:0});return{v:u,barycenter:h.sum/h.weight,weight:h.weight}}return{v:u}})}},2131:(y,w,r)=>{var i=r(8128),p=r(1986).Graph;y.exports=function c(u,t,h){var a=function d(u){for(var t;u.hasNode(t=i.uniqueId("_root")););return t}(u),f=new p({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(g){return u.node(g)});return i.forEach(u.nodes(),function(g){var l=u.node(g),v=u.parent(g);(l.rank===t||l.minRank<=t&&t<=l.maxRank)&&(f.setNode(g),f.setParent(g,v||a),i.forEach(u[h](g),function(x){var E=x.v===g?x.w:x.v,C=f.edge(E,g),A=i.isUndefined(C)?0:C.weight;f.setEdge(E,g,{weight:u.edge(x).weight+A})}),i.has(l,"minRank")&&f.setNode(g,{borderLeft:l.borderLeft[t],borderRight:l.borderRight[t]}))}),f}},6580:(y,w,r)=>{"use strict";var i=r(8128);function c(d,u,t){for(var h=i.zipObject(t,i.map(t,function(x,E){return E})),a=i.flatten(i.map(u,function(x){return i.sortBy(i.map(d.outEdges(x),function(E){return{pos:h[E.w],weight:d.edge(E).weight}}),"pos")}),!0),f=1;f<t.length;)f<<=1;var g=2*f-1;f-=1;var l=i.map(new Array(g),function(){return 0}),v=0;return i.forEach(a.forEach(function(x){var E=x.pos+f;l[E]+=x.weight;for(var C=0;E>0;)E%2&&(C+=l[E+1]),l[E=E-1>>1]+=x.weight;v+=x.weight*C})),v}y.exports=function p(d,u){for(var t=0,h=1;h<u.length;++h)t+=c(d,u[h-1],u[h]);return t}},8902:(y,w,r)=>{"use strict";var i=r(8128),p=r(2827),c=r(6580),d=r(7743),u=r(2131),t=r(8589),h=r(1986).Graph,a=r(2361);function g(x,E,C){return i.map(E,function(A){return u(x,A,C)})}function l(x,E){var C=new h;i.forEach(x,function(A){var M=A.graph().root,S=d(A,M,C,E);i.forEach(S.vs,function(N,F){A.node(N).order=F}),t(A,C,S.vs)})}function v(x,E){i.forEach(E,function(C){i.forEach(C,function(A,M){x.node(A).order=M})})}y.exports=function f(x){var E=a.maxRank(x),C=g(x,i.range(1,E+1),"inEdges"),A=g(x,i.range(E-1,-1,-1),"outEdges"),M=p(x);v(x,M);for(var N,S=Number.POSITIVE_INFINITY,F=0,j=0;j<4;++F,++j){l(F%2?C:A,F%4>=2),M=a.buildLayerMatrix(x);var Y=c(x,M);Y<S&&(j=0,N=i.cloneDeep(M),S=Y)}v(x,N)}},2827:(y,w,r)=>{"use strict";var i=r(8128);y.exports=function p(c){var d={},u=i.filter(c.nodes(),function(g){return!c.children(g).length}),t=i.max(i.map(u,function(g){return c.node(g).rank})),h=i.map(i.range(t+1),function(){return[]}),f=i.sortBy(u,function(g){return c.node(g).rank});return i.forEach(f,function a(g){if(!i.has(d,g)){d[g]=!0;var l=c.node(g);h[l.rank].push(g),i.forEach(c.successors(g),a)}}),h}},5260:(y,w,r)=>{"use strict";var i=r(8128);y.exports=function p(u,t){var h={};return i.forEach(u,function(f,g){var l=h[f.v]={indegree:0,in:[],out:[],vs:[f.v],i:g};i.isUndefined(f.barycenter)||(l.barycenter=f.barycenter,l.weight=f.weight)}),i.forEach(t.edges(),function(f){var g=h[f.v],l=h[f.w];!i.isUndefined(g)&&!i.isUndefined(l)&&(l.indegree++,g.out.push(h[f.w]))}),function c(u){var t=[];function h(g){return function(l){l.merged||(i.isUndefined(l.barycenter)||i.isUndefined(g.barycenter)||l.barycenter>=g.barycenter)&&function d(u,t){var h=0,a=0;u.weight&&(h+=u.barycenter*u.weight,a+=u.weight),t.weight&&(h+=t.barycenter*t.weight,a+=t.weight),u.vs=t.vs.concat(u.vs),u.barycenter=h/a,u.weight=a,u.i=Math.min(t.i,u.i),t.merged=!0}(g,l)}}function a(g){return function(l){l.in.push(g),0==--l.indegree&&u.push(l)}}for(;u.length;){var f=u.pop();t.push(f),i.forEach(f.in.reverse(),h(f)),i.forEach(f.out,a(f))}return i.map(i.filter(t,function(g){return!g.merged}),function(g){return i.pick(g,["vs","i","barycenter","weight"])})}(i.filter(h,function(f){return!f.indegree}))}},7743:(y,w,r)=>{var i=r(8128),p=r(553),c=r(5260),d=r(6980);y.exports=function u(a,f,g,l){var v=a.children(f),x=a.node(f),E=x?x.borderLeft:void 0,C=x?x.borderRight:void 0,A={};E&&(v=i.filter(v,function(Y){return Y!==E&&Y!==C}));var M=p(a,v);i.forEach(M,function(Y){if(a.children(Y.v).length){var G=u(a,Y.v,g,l);A[Y.v]=G,i.has(G,"barycenter")&&function h(a,f){i.isUndefined(a.barycenter)?(a.barycenter=f.barycenter,a.weight=f.weight):(a.barycenter=(a.barycenter*a.weight+f.barycenter*f.weight)/(a.weight+f.weight),a.weight+=f.weight)}(Y,G)}});var S=c(M,g);!function t(a,f){i.forEach(a,function(g){g.vs=i.flatten(g.vs.map(function(l){return f[l]?f[l].vs:l}),!0)})}(S,A);var N=d(S,l);if(E&&(N.vs=i.flatten([E,N.vs,C],!0),a.predecessors(E).length)){var F=a.node(a.predecessors(E)[0]),j=a.node(a.predecessors(C)[0]);i.has(N,"barycenter")||(N.barycenter=0,N.weight=0),N.barycenter=(N.barycenter*N.weight+F.order+j.order)/(N.weight+2),N.weight+=2}return N}},6980:(y,w,r)=>{var i=r(8128),p=r(2361);function d(t,h,a){for(var f;h.length&&(f=i.last(h)).i<=a;)h.pop(),t.push(f.vs),a++;return a}y.exports=function c(t,h){var a=p.partition(t,function(A){return i.has(A,"barycenter")}),f=a.lhs,g=i.sortBy(a.rhs,function(A){return-A.i}),l=[],v=0,x=0,E=0;f.sort(function u(t){return function(h,a){return h.barycenter<a.barycenter?-1:h.barycenter>a.barycenter?1:t?a.i-h.i:h.i-a.i}}(!!h)),E=d(l,g,E),i.forEach(f,function(A){E+=A.vs.length,l.push(A.vs),v+=A.barycenter*A.weight,x+=A.weight,E=d(l,g,E)});var C={vs:i.flatten(l,!0)};return x&&(C.barycenter=v/x,C.weight=x),C}},4883:(y,w,r)=>{var i=r(8128);y.exports=function p(u){var t=function d(u){var t={},h=0;return i.forEach(u.children(),function a(f){var g=h;i.forEach(u.children(f),a),t[f]={low:g,lim:h++}}),t}(u);i.forEach(u.graph().dummyChains,function(h){for(var a=u.node(h),f=a.edgeObj,g=function c(u,t,h,a){var x,E,f=[],g=[],l=Math.min(t[h].low,t[a].low),v=Math.max(t[h].lim,t[a].lim);x=h;do{x=u.parent(x),f.push(x)}while(x&&(t[x].low>l||v>t[x].lim));for(E=x,x=a;(x=u.parent(x))!==E;)g.push(x);return{path:f.concat(g.reverse()),lca:E}}(u,t,f.v,f.w),l=g.path,v=g.lca,x=0,E=l[x],C=!0;h!==f.w;){if(a=u.node(h),C){for(;(E=l[x])!==v&&u.node(E).maxRank<a.rank;)x++;E===v&&(C=!1)}if(!C){for(;x<l.length-1&&u.node(E=l[x+1]).minRank<=a.rank;)x++;E=l[x]}u.setParent(h,E),h=u.successors(h)[0]}})}},5046:(y,w,r)=>{"use strict";var i=r(8128),p=r(1986).Graph,c=r(2361);function d(S,N){var F={};return i.reduce(N,function j(Y,G){var $=0,I=0,L=Y.length,P=i.last(G);return i.forEach(G,function(O,D){var U=function t(S,N){if(S.node(N).dummy)return i.find(S.predecessors(N),function(F){return S.node(F).dummy})}(S,O),H=U?S.node(U).order:L;(U||O===P)&&(i.forEach(G.slice(I,D+1),function(z){i.forEach(S.predecessors(z),function(B){var Q=S.node(B),Z=Q.order;(Z<$||H<Z)&&(!Q.dummy||!S.node(z).dummy)&&h(F,B,z)})}),I=D+1,$=H)}),G}),F}function u(S,N){var F={};function j(G,$,I,L,P){var O;i.forEach(i.range($,I),function(D){S.node(O=G[D]).dummy&&i.forEach(S.predecessors(O),function(U){var H=S.node(U);H.dummy&&(H.order<L||H.order>P)&&h(F,U,O)})})}return i.reduce(N,function Y(G,$){var L,I=-1,P=0;return i.forEach($,function(O,D){if("border"===S.node(O).dummy){var U=S.predecessors(O);U.length&&(L=S.node(U[0]).order,j($,P,D,I,L),P=D,I=L)}j($,P,$.length,L,G.length)}),$}),F}function h(S,N,F){if(N>F){var j=N;N=F,F=j}var Y=S[N];Y||(S[N]=Y={}),Y[F]=!0}function a(S,N,F){if(N>F){var j=N;N=F,F=j}return i.has(S[N],F)}function f(S,N,F,j){var Y={},G={},$={};return i.forEach(N,function(I){i.forEach(I,function(L,P){Y[L]=L,G[L]=L,$[L]=P})}),i.forEach(N,function(I){var L=-1;i.forEach(I,function(P){var O=j(P);if(O.length)for(var D=((O=i.sortBy(O,function(B){return $[B]})).length-1)/2,U=Math.floor(D),H=Math.ceil(D);U<=H;++U){var z=O[U];G[P]===P&&L<$[z]&&!a(F,P,z)&&(G[z]=P,G[P]=Y[P]=Y[z],L=$[z])}})}),{root:Y,align:G}}function g(S,N,F,j,Y){var G={},$=function l(S,N,F,j){var Y=new p,G=S.graph(),$=function A(S,N,F){return function(j,Y,G){var P,$=j.node(Y),I=j.node(G),L=0;if(L+=$.width/2,i.has($,"labelpos"))switch($.labelpos.toLowerCase()){case"l":P=-$.width/2;break;case"r":P=$.width/2}if(P&&(L+=F?P:-P),P=0,L+=($.dummy?N:S)/2,L+=(I.dummy?N:S)/2,L+=I.width/2,i.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":P=I.width/2;break;case"r":P=-I.width/2}return P&&(L+=F?P:-P),P=0,L}}(G.nodesep,G.edgesep,j);return i.forEach(N,function(I){var L;i.forEach(I,function(P){var O=F[P];if(Y.setNode(O),L){var D=F[L],U=Y.edge(D,O);Y.setEdge(D,O,Math.max($(S,P,L),U||0))}L=P})}),Y}(S,N,F,Y),I=Y?"borderLeft":"borderRight";function L(D,U){for(var H=$.nodes(),z=H.pop(),B={};z;)B[z]?D(z):(B[z]=!0,H.push(z),H=H.concat(U(z))),z=H.pop()}return L(function P(D){G[D]=$.inEdges(D).reduce(function(U,H){return Math.max(U,G[H.v]+$.edge(H))},0)},$.predecessors.bind($)),L(function O(D){var U=$.outEdges(D).reduce(function(z,B){return Math.min(z,G[B.w]-$.edge(B))},Number.POSITIVE_INFINITY),H=S.node(D);U!==Number.POSITIVE_INFINITY&&H.borderType!==I&&(G[D]=Math.max(G[D],U))},$.successors.bind($)),i.forEach(j,function(D){G[D]=G[F[D]]}),G}function v(S,N){return i.minBy(i.values(N),function(F){var j=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY;return i.forIn(F,function(G,$){var I=function M(S,N){return S.node(N).width}(S,$)/2;j=Math.max(G+I,j),Y=Math.min(G-I,Y)}),j-Y})}function x(S,N){var F=i.values(N),j=i.min(F),Y=i.max(F);i.forEach(["u","d"],function(G){i.forEach(["l","r"],function($){var P,I=G+$,L=S[I];if(L!==N){var O=i.values(L);(P="l"===$?j-i.min(O):Y-i.max(O))&&(S[I]=i.mapValues(L,function(D){return D+P}))}})})}function E(S,N){return i.mapValues(S.ul,function(F,j){if(N)return S[N.toLowerCase()][j];var Y=i.sortBy(i.map(S,j));return(Y[1]+Y[2])/2})}y.exports={positionX:function C(S){var Y,N=c.buildLayerMatrix(S),F=i.merge(d(S,N),u(S,N)),j={};i.forEach(["u","d"],function($){Y="u"===$?N:i.values(N).reverse(),i.forEach(["l","r"],function(I){"r"===I&&(Y=i.map(Y,function(D){return i.values(D).reverse()}));var L=("u"===$?S.predecessors:S.successors).bind(S),P=f(0,Y,F,L),O=g(S,Y,P.root,P.align,"r"===I);"r"===I&&(O=i.mapValues(O,function(D){return-D})),j[$+I]=O})});var G=v(S,j);return x(j,G),E(j,S.graph().align)},findType1Conflicts:d,findType2Conflicts:u,addConflict:h,hasConflict:a,verticalAlignment:f,horizontalCompaction:g,alignCoordinates:x,findSmallestWidthAlignment:v,balance:E}},1949:(y,w,r)=>{"use strict";var i=r(8128),p=r(2361),c=r(5046).positionX;y.exports=function d(t){(function u(t){var h=p.buildLayerMatrix(t),a=t.graph().ranksep,f=0;i.forEach(h,function(g){var l=i.max(i.map(g,function(v){return t.node(v).height}));i.forEach(g,function(v){t.node(v).y=f+l/2}),f+=l+a})})(t=p.asNonCompoundGraph(t)),i.forEach(c(t),function(h,a){t.node(a).x=h})}},1360:(y,w,r)=>{"use strict";var i=r(8128),p=r(1986).Graph,c=r(6558).slack;function u(a,f){return i.forEach(a.nodes(),function g(l){i.forEach(f.nodeEdges(l),function(v){var x=v.v,E=l===x?v.w:x;!a.hasNode(E)&&!c(f,v)&&(a.setNode(E,{}),a.setEdge(l,E,{}),g(E))})}),a.nodeCount()}function t(a,f){return i.minBy(f.edges(),function(g){if(a.hasNode(g.v)!==a.hasNode(g.w))return c(f,g)})}function h(a,f,g){i.forEach(a.nodes(),function(l){f.node(l).rank+=g})}y.exports=function d(a){var v,x,f=new p({directed:!1}),g=a.nodes()[0],l=a.nodeCount();for(f.setNode(g,{});u(f,a)<l;)v=t(f,a),x=f.hasNode(v.v)?c(a,v):-c(a,v),h(f,a,x);return f}},1660:(y,w,r)=>{"use strict";var p=r(6558).longestPath,c=r(1360),d=r(4149);y.exports=function u(f){switch(f.graph().ranker){case"network-simplex":default:!function a(f){d(f)}(f);break;case"tight-tree":!function h(f){p(f),c(f)}(f);break;case"longest-path":t(f)}};var t=p},4149:(y,w,r)=>{"use strict";var i=r(8128),p=r(1360),c=r(6558).slack,d=r(6558).longestPath,u=r(1986).alg.preorder,t=r(1986).alg.postorder,h=r(2361).simplify;function a(F){F=h(F),d(F);var Y,j=p(F);for(v(j),f(j,F);Y=E(j);)A(j,F,Y,C(j,F,Y))}function f(F,j){var Y=t(F,F.nodes());Y=Y.slice(0,Y.length-1),i.forEach(Y,function(G){!function g(F,j,Y){var G=F.node(Y);F.edge(Y,G.parent).cutvalue=l(F,j,Y)}(F,j,G)})}function l(F,j,Y){var $=F.node(Y).parent,I=!0,L=j.edge(Y,$),P=0;return L||(I=!1,L=j.edge($,Y)),P=L.weight,i.forEach(j.nodeEdges(Y),function(O){var D=O.v===Y,U=D?O.w:O.v;if(U!==$){var H=D===I,z=j.edge(O).weight;if(P+=H?z:-z,function S(F,j,Y){return F.hasEdge(j,Y)}(F,Y,U)){var B=F.edge(Y,U).cutvalue;P+=H?-B:B}}}),P}function v(F,j){arguments.length<2&&(j=F.nodes()[0]),x(F,{},1,j)}function x(F,j,Y,G,$){var I=Y,L=F.node(G);return j[G]=!0,i.forEach(F.neighbors(G),function(P){i.has(j,P)||(Y=x(F,j,Y,P,G))}),L.low=I,L.lim=Y++,$?L.parent=$:delete L.parent,Y}function E(F){return i.find(F.edges(),function(j){return F.edge(j).cutvalue<0})}function C(F,j,Y){var G=Y.v,$=Y.w;j.hasEdge(G,$)||(G=Y.w,$=Y.v);var I=F.node(G),L=F.node($),P=I,O=!1;I.lim>L.lim&&(P=L,O=!0);var D=i.filter(j.edges(),function(U){return O===N(0,F.node(U.v),P)&&O!==N(0,F.node(U.w),P)});return i.minBy(D,function(U){return c(j,U)})}function A(F,j,Y,G){F.removeEdge(Y.v,Y.w),F.setEdge(G.v,G.w,{}),v(F),f(F,j),function M(F,j){var Y=i.find(F.nodes(),function($){return!j.node($).parent}),G=u(F,Y);G=G.slice(1),i.forEach(G,function($){var I=F.node($).parent,L=j.edge($,I),P=!1;L||(L=j.edge(I,$),P=!0),j.node($).rank=j.node(I).rank+(P?L.minlen:-L.minlen)})}(F,j)}function N(F,j,Y){return Y.low<=j.lim&&j.lim<=Y.lim}y.exports=a,a.initLowLimValues=v,a.initCutValues=f,a.calcCutValue=l,a.leaveEdge=E,a.enterEdge=C,a.exchangeEdges=A},6558:(y,w,r)=>{"use strict";var i=r(8128);y.exports={longestPath:function p(d){var u={};i.forEach(d.sources(),function t(h){var a=d.node(h);if(i.has(u,h))return a.rank;u[h]=!0;var f=i.min(i.map(d.outEdges(h),function(g){return t(g.w)-d.edge(g).minlen}));return(f===Number.POSITIVE_INFINITY||null==f)&&(f=0),a.rank=f})},slack:function c(d,u){return d.node(u.w).rank-d.node(u.v).rank-d.edge(u).minlen}}},2361:(y,w,r)=>{"use strict";var i=r(8128),p=r(1986).Graph;function c(M,S,N,F){var j;do{j=i.uniqueId(F)}while(M.hasNode(j));return N.dummy=S,M.setNode(j,N),j}function x(M){return i.max(i.map(M.nodes(),function(S){var N=M.node(S).rank;if(!i.isUndefined(N))return N}))}y.exports={addDummyNode:c,simplify:function d(M){var S=(new p).setGraph(M.graph());return i.forEach(M.nodes(),function(N){S.setNode(N,M.node(N))}),i.forEach(M.edges(),function(N){var F=S.edge(N.v,N.w)||{weight:0,minlen:1},j=M.edge(N);S.setEdge(N.v,N.w,{weight:F.weight+j.weight,minlen:Math.max(F.minlen,j.minlen)})}),S},asNonCompoundGraph:function u(M){var S=new p({multigraph:M.isMultigraph()}).setGraph(M.graph());return i.forEach(M.nodes(),function(N){M.children(N).length||S.setNode(N,M.node(N))}),i.forEach(M.edges(),function(N){S.setEdge(N,M.edge(N))}),S},successorWeights:function t(M){var S=i.map(M.nodes(),function(N){var F={};return i.forEach(M.outEdges(N),function(j){F[j.w]=(F[j.w]||0)+M.edge(j).weight}),F});return i.zipObject(M.nodes(),S)},predecessorWeights:function h(M){var S=i.map(M.nodes(),function(N){var F={};return i.forEach(M.inEdges(N),function(j){F[j.v]=(F[j.v]||0)+M.edge(j).weight}),F});return i.zipObject(M.nodes(),S)},intersectRect:function a(M,S){var I,L,N=M.x,F=M.y,j=S.x-N,Y=S.y-F,G=M.width/2,$=M.height/2;if(!j&&!Y)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Y)*G>Math.abs(j)*$?(Y<0&&($=-$),I=$*j/Y,L=$):(j<0&&(G=-G),I=G,L=G*Y/j),{x:N+I,y:F+L}},buildLayerMatrix:function f(M){var S=i.map(i.range(x(M)+1),function(){return[]});return i.forEach(M.nodes(),function(N){var F=M.node(N),j=F.rank;i.isUndefined(j)||(S[j][F.order]=N)}),S},normalizeRanks:function g(M){var S=i.min(i.map(M.nodes(),function(N){return M.node(N).rank}));i.forEach(M.nodes(),function(N){var F=M.node(N);i.has(F,"rank")&&(F.rank-=S)})},removeEmptyRanks:function l(M){var S=i.min(i.map(M.nodes(),function(Y){return M.node(Y).rank})),N=[];i.forEach(M.nodes(),function(Y){var G=M.node(Y).rank-S;N[G]||(N[G]=[]),N[G].push(Y)});var F=0,j=M.graph().nodeRankFactor;i.forEach(N,function(Y,G){i.isUndefined(Y)&&G%j!=0?--F:F&&i.forEach(Y,function($){M.node($).rank+=F})})},addBorderNode:function v(M,S,N,F){var j={width:0,height:0};return arguments.length>=4&&(j.rank=N,j.order=F),c(M,"border",j,S)},maxRank:x,partition:function E(M,S){var N={lhs:[],rhs:[]};return i.forEach(M,function(F){S(F)?N.lhs.push(F):N.rhs.push(F)}),N},time:function C(M,S){var N=i.now();try{return S()}finally{console.log(M+" time: "+(i.now()-N)+"ms")}},notime:function A(M,S){return S()}}},9233:y=>{y.exports="0.8.5"},243:y=>{"use strict";var w={single_source_shortest_paths:function(r,i,p){var c={},d={};d[i]=0;var t,h,a,f,g,v,u=w.PriorityQueue.make();for(u.push(i,0);!u.empty();)for(a in f=(t=u.pop()).cost,g=r[h=t.value]||{})g.hasOwnProperty(a)&&(v=f+g[a],(typeof d[a]>"u"||d[a]>v)&&(d[a]=v,u.push(a,v),c[a]=h));if(typeof p<"u"&&typeof d[p]>"u"){var C=["Could not find a path from ",i," to ",p,"."].join("");throw new Error(C)}return c},extract_shortest_path_from_predecessor_list:function(r,i){for(var p=[],c=i;c;)p.push(c),c=r[c];return p.reverse(),p},find_path:function(r,i,p){var c=w.single_source_shortest_paths(r,i,p);return w.extract_shortest_path_from_predecessor_list(c,p)},PriorityQueue:{make:function(r){var c,i=w.PriorityQueue,p={};for(c in r=r||{},i)i.hasOwnProperty(c)&&(p[c]=i[c]);return p.queue=[],p.sorter=r.sorter||i.default_sorter,p},default_sorter:function(r,i){return r.cost-i.cost},push:function(r,i){this.queue.push({value:r,cost:i}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};y.exports=w},9031:(y,w,r)=>{var i=r(3527);y.exports={Graph:i.Graph,json:r(5801),alg:r(8934),version:i.version}},4392:(y,w,r)=>{var i=r(4758);y.exports=function p(c){var t,d={},u=[];function h(a){i.has(d,a)||(d[a]=!0,t.push(a),i.each(c.successors(a),h),i.each(c.predecessors(a),h))}return i.each(c.nodes(),function(a){t=[],h(a),t.length&&u.push(t)}),u}},5661:(y,w,r)=>{var i=r(4758);function c(d,u,t,h,a,f){i.has(h,u)||(h[u]=!0,t||f.push(u),i.each(a(u),function(g){c(d,g,t,h,a,f)}),t&&f.push(u))}y.exports=function p(d,u,t){i.isArray(u)||(u=[u]);var h=(d.isDirected()?d.successors:d.neighbors).bind(d),a=[],f={};return i.each(u,function(g){if(!d.hasNode(g))throw new Error("Graph does not have node: "+g);c(d,g,"post"===t,f,h,a)}),a}},5584:(y,w,r)=>{var i=r(4606),p=r(4758);y.exports=function c(d,u,t){return p.transform(d.nodes(),function(h,a){h[a]=i(d,a,u,t)},{})}},4606:(y,w,r)=>{var i=r(4758),p=r(4172);y.exports=function d(t,h,a,f){return function u(t,h,a,f){var v,x,g={},l=new p,E=function(C){var A=C.v!==v?C.v:C.w,M=g[A],S=a(C),N=x.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+C+" Weight: "+S);N<M.distance&&(M.distance=N,M.predecessor=v,l.decrease(A,N))};for(t.nodes().forEach(function(C){var A=C===h?0:Number.POSITIVE_INFINITY;g[C]={distance:A},l.add(C,A)});l.size()>0&&(v=l.removeMin(),(x=g[v]).distance!==Number.POSITIVE_INFINITY);)f(v).forEach(E);return g}(t,String(h),a||c,f||function(g){return t.outEdges(g)})};var c=i.constant(1)},5495:(y,w,r)=>{var i=r(4758),p=r(7352);y.exports=function c(d){return i.filter(p(d),function(u){return u.length>1||1===u.length&&d.hasEdge(u[0],u[0])})}},1521:(y,w,r)=>{var i=r(4758);y.exports=function c(u,t,h){return function d(u,t,h){var a={},f=u.nodes();return f.forEach(function(g){a[g]={},a[g][g]={distance:0},f.forEach(function(l){g!==l&&(a[g][l]={distance:Number.POSITIVE_INFINITY})}),h(g).forEach(function(l){var v=l.v===g?l.w:l.v,x=t(l);a[g][v]={distance:x,predecessor:g}})}),f.forEach(function(g){var l=a[g];f.forEach(function(v){var x=a[v];f.forEach(function(E){var A=l[E],M=x[E],S=x[g].distance+A.distance;S<M.distance&&(M.distance=S,M.predecessor=A.predecessor)})})}),a}(u,t||p,h||function(a){return u.outEdges(a)})};var p=i.constant(1)},8934:(y,w,r)=>{y.exports={components:r(4392),dijkstra:r(4606),dijkstraAll:r(5584),findCycles:r(5495),floydWarshall:r(1521),isAcyclic:r(1313),postorder:r(2872),preorder:r(9599),prim:r(6640),tarjan:r(7352),topsort:r(8113)}},1313:(y,w,r)=>{var i=r(8113);y.exports=function p(c){try{i(c)}catch(d){if(d instanceof i.CycleException)return!1;throw d}return!0}},2872:(y,w,r)=>{var i=r(5661);y.exports=function p(c,d){return i(c,d,"post")}},9599:(y,w,r)=>{var i=r(5661);y.exports=function p(c,d){return i(c,d,"pre")}},6640:(y,w,r)=>{var i=r(4758),p=r(623),c=r(4172);y.exports=function d(u,t){var g,h=new p,a={},f=new c;function l(x){var E=x.v===g?x.w:x.v,C=f.priority(E);if(void 0!==C){var A=t(x);A<C&&(a[E]=g,f.decrease(E,A))}}if(0===u.nodeCount())return h;i.each(u.nodes(),function(x){f.add(x,Number.POSITIVE_INFINITY),h.setNode(x)}),f.decrease(u.nodes()[0],0);for(var v=!1;f.size()>0;){if(g=f.removeMin(),i.has(a,g))h.setEdge(g,a[g]);else{if(v)throw new Error("Input graph is not connected: "+u);v=!0}u.nodeEdges(g).forEach(l)}return h}},7352:(y,w,r)=>{var i=r(4758);y.exports=function p(c){var d=0,u=[],t={},h=[];function a(f){var g=t[f]={onStack:!0,lowlink:d,index:d++};if(u.push(f),c.successors(f).forEach(function(x){i.has(t,x)?t[x].onStack&&(g.lowlink=Math.min(g.lowlink,t[x].index)):(a(x),g.lowlink=Math.min(g.lowlink,t[x].lowlink))}),g.lowlink===g.index){var v,l=[];do{v=u.pop(),t[v].onStack=!1,l.push(v)}while(f!==v);h.push(l)}}return c.nodes().forEach(function(f){i.has(t,f)||a(f)}),h}},8113:(y,w,r)=>{var i=r(4758);function p(d){var u={},t={},h=[];if(i.each(d.sinks(),function a(f){if(i.has(t,f))throw new c;i.has(u,f)||(t[f]=!0,u[f]=!0,i.each(d.predecessors(f),a),delete t[f],h.push(f))}),i.size(u)!==d.nodeCount())throw new c;return h}function c(){}y.exports=p,p.CycleException=c,c.prototype=new Error},4172:(y,w,r)=>{var i=r(4758);function p(){this._arr=[],this._keyIndices={}}y.exports=p,p.prototype.size=function(){return this._arr.length},p.prototype.keys=function(){return this._arr.map(function(c){return c.key})},p.prototype.has=function(c){return i.has(this._keyIndices,c)},p.prototype.priority=function(c){var d=this._keyIndices[c];if(void 0!==d)return this._arr[d].priority},p.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},p.prototype.add=function(c,d){var u=this._keyIndices;if(c=String(c),!i.has(u,c)){var t=this._arr,h=t.length;return u[c]=h,t.push({key:c,priority:d}),this._decrease(h),!0}return!1},p.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var c=this._arr.pop();return delete this._keyIndices[c.key],this._heapify(0),c.key},p.prototype.decrease=function(c,d){var u=this._keyIndices[c];if(d>this._arr[u].priority)throw new Error("New priority is greater than current priority. Key: "+c+" Old: "+this._arr[u].priority+" New: "+d);this._arr[u].priority=d,this._decrease(u)},p.prototype._heapify=function(c){var d=this._arr,u=2*c,t=u+1,h=c;u<d.length&&(h=d[u].priority<d[h].priority?u:h,t<d.length&&(h=d[t].priority<d[h].priority?t:h),h!==c&&(this._swap(c,h),this._heapify(h)))},p.prototype._decrease=function(c){for(var t,d=this._arr,u=d[c].priority;0!==c&&!(d[t=c>>1].priority<u);)this._swap(c,t),c=t},p.prototype._swap=function(c,d){var u=this._arr,t=this._keyIndices,h=u[c],a=u[d];u[c]=a,u[d]=h,t[a.key]=c,t[h.key]=d}},623:(y,w,r)=>{"use strict";var i=r(4758);y.exports=u;var p="\0",c="\0",d="\x01";function u(l){this._isDirected=!i.has(l,"directed")||l.directed,this._isMultigraph=!!i.has(l,"multigraph")&&l.multigraph,this._isCompound=!!i.has(l,"compound")&&l.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[c]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function t(l,v){l[v]?l[v]++:l[v]=1}function h(l,v){--l[v]||delete l[v]}function a(l,v,x,E){var C=""+v,A=""+x;if(!l&&C>A){var M=C;C=A,A=M}return C+d+A+d+(i.isUndefined(E)?p:E)}function g(l,v){return a(l,v.v,v.w,v.name)}u.prototype._nodeCount=0,u.prototype._edgeCount=0,u.prototype.isDirected=function(){return this._isDirected},u.prototype.isMultigraph=function(){return this._isMultigraph},u.prototype.isCompound=function(){return this._isCompound},u.prototype.setGraph=function(l){return this._label=l,this},u.prototype.graph=function(){return this._label},u.prototype.setDefaultNodeLabel=function(l){return i.isFunction(l)||(l=i.constant(l)),this._defaultNodeLabelFn=l,this},u.prototype.nodeCount=function(){return this._nodeCount},u.prototype.nodes=function(){return i.keys(this._nodes)},u.prototype.sources=function(){var l=this;return i.filter(this.nodes(),function(v){return i.isEmpty(l._in[v])})},u.prototype.sinks=function(){var l=this;return i.filter(this.nodes(),function(v){return i.isEmpty(l._out[v])})},u.prototype.setNodes=function(l,v){var x=arguments,E=this;return i.each(l,function(C){x.length>1?E.setNode(C,v):E.setNode(C)}),this},u.prototype.setNode=function(l,v){return i.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=v),this):(this._nodes[l]=arguments.length>1?v:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=c,this._children[l]={},this._children[c][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},u.prototype.node=function(l){return this._nodes[l]},u.prototype.hasNode=function(l){return i.has(this._nodes,l)},u.prototype.removeNode=function(l){var v=this;if(i.has(this._nodes,l)){var x=function(E){v.removeEdge(v._edgeObjs[E])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],i.each(this.children(l),function(E){v.setParent(E)}),delete this._children[l]),i.each(i.keys(this._in[l]),x),delete this._in[l],delete this._preds[l],i.each(i.keys(this._out[l]),x),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},u.prototype.setParent=function(l,v){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(v))v=c;else{for(var x=v+="";!i.isUndefined(x);x=this.parent(x))if(x===l)throw new Error("Setting "+v+" as parent of "+l+" would create a cycle");this.setNode(v)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=v,this._children[v][l]=!0,this},u.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},u.prototype.parent=function(l){if(this._isCompound){var v=this._parent[l];if(v!==c)return v}},u.prototype.children=function(l){if(i.isUndefined(l)&&(l=c),this._isCompound){var v=this._children[l];if(v)return i.keys(v)}else{if(l===c)return this.nodes();if(this.hasNode(l))return[]}},u.prototype.predecessors=function(l){var v=this._preds[l];if(v)return i.keys(v)},u.prototype.successors=function(l){var v=this._sucs[l];if(v)return i.keys(v)},u.prototype.neighbors=function(l){var v=this.predecessors(l);if(v)return i.union(v,this.successors(l))},u.prototype.isLeaf=function(l){return 0===(this.isDirected()?this.successors(l):this.neighbors(l)).length},u.prototype.filterNodes=function(l){var v=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});v.setGraph(this.graph());var x=this;i.each(this._nodes,function(A,M){l(M)&&v.setNode(M,A)}),i.each(this._edgeObjs,function(A){v.hasNode(A.v)&&v.hasNode(A.w)&&v.setEdge(A,x.edge(A))});var E={};function C(A){var M=x.parent(A);return void 0===M||v.hasNode(M)?(E[A]=M,M):M in E?E[M]:C(M)}return this._isCompound&&i.each(v.nodes(),function(A){v.setParent(A,C(A))}),v},u.prototype.setDefaultEdgeLabel=function(l){return i.isFunction(l)||(l=i.constant(l)),this._defaultEdgeLabelFn=l,this},u.prototype.edgeCount=function(){return this._edgeCount},u.prototype.edges=function(){return i.values(this._edgeObjs)},u.prototype.setPath=function(l,v){var x=this,E=arguments;return i.reduce(l,function(C,A){return E.length>1?x.setEdge(C,A,v):x.setEdge(C,A),A}),this},u.prototype.setEdge=function(){var l,v,x,E,C=!1,A=arguments[0];"object"==typeof A&&null!==A&&"v"in A?(l=A.v,v=A.w,x=A.name,2===arguments.length&&(E=arguments[1],C=!0)):(l=A,v=arguments[1],x=arguments[3],arguments.length>2&&(E=arguments[2],C=!0)),l=""+l,v=""+v,i.isUndefined(x)||(x=""+x);var M=a(this._isDirected,l,v,x);if(i.has(this._edgeLabels,M))return C&&(this._edgeLabels[M]=E),this;if(!i.isUndefined(x)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(v),this._edgeLabels[M]=C?E:this._defaultEdgeLabelFn(l,v,x);var S=function f(l,v,x,E){var C=""+v,A=""+x;if(!l&&C>A){var M=C;C=A,A=M}var S={v:C,w:A};return E&&(S.name=E),S}(this._isDirected,l,v,x);return l=S.v,v=S.w,Object.freeze(S),this._edgeObjs[M]=S,t(this._preds[v],l),t(this._sucs[l],v),this._in[v][M]=S,this._out[l][M]=S,this._edgeCount++,this},u.prototype.edge=function(l,v,x){var E=1===arguments.length?g(this._isDirected,arguments[0]):a(this._isDirected,l,v,x);return this._edgeLabels[E]},u.prototype.hasEdge=function(l,v,x){var E=1===arguments.length?g(this._isDirected,arguments[0]):a(this._isDirected,l,v,x);return i.has(this._edgeLabels,E)},u.prototype.removeEdge=function(l,v,x){var E=1===arguments.length?g(this._isDirected,arguments[0]):a(this._isDirected,l,v,x),C=this._edgeObjs[E];return C&&(l=C.v,v=C.w,delete this._edgeLabels[E],delete this._edgeObjs[E],h(this._preds[v],l),h(this._sucs[l],v),delete this._in[v][E],delete this._out[l][E],this._edgeCount--),this},u.prototype.inEdges=function(l,v){var x=this._in[l];if(x){var E=i.values(x);return v?i.filter(E,function(C){return C.v===v}):E}},u.prototype.outEdges=function(l,v){var x=this._out[l];if(x){var E=i.values(x);return v?i.filter(E,function(C){return C.w===v}):E}},u.prototype.nodeEdges=function(l,v){var x=this.inEdges(l,v);if(x)return x.concat(this.outEdges(l,v))}},3527:(y,w,r)=>{y.exports={Graph:r(623),version:r(9703)}},5801:(y,w,r)=>{var i=r(4758),p=r(623);function d(h){return i.map(h.nodes(),function(a){var f=h.node(a),g=h.parent(a),l={v:a};return i.isUndefined(f)||(l.value=f),i.isUndefined(g)||(l.parent=g),l})}function u(h){return i.map(h.edges(),function(a){var f=h.edge(a),g={v:a.v,w:a.w};return i.isUndefined(a.name)||(g.name=a.name),i.isUndefined(f)||(g.value=f),g})}y.exports={write:function c(h){var a={options:{directed:h.isDirected(),multigraph:h.isMultigraph(),compound:h.isCompound()},nodes:d(h),edges:u(h)};return i.isUndefined(h.graph())||(a.value=i.clone(h.graph())),a},read:function t(h){var a=new p(h.options).setGraph(h.value);return i.each(h.nodes,function(f){a.setNode(f.v,f.value),f.parent&&a.setParent(f.v,f.parent)}),i.each(h.edges,function(f){a.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),a}}},4758:(y,w,r)=>{var i;try{i={clone:r(1132),constant:r(6205),each:r(3572),filter:r(5155),has:r(2789),isArray:r(9812),isEmpty:r(5488),isFunction:r(8653),isUndefined:r(9261),keys:r(2561),map:r(339),reduce:r(9687),size:r(120),transform:r(5341),union:r(8898),values:r(7127)}}catch{}i||(i=window._),y.exports=i},9703:y=>{y.exports="2.1.8"},5013:(y,w,r)=>{var c=r(4385)(r(1464),"DataView");y.exports=c},3028:(y,w,r)=>{var i=r(6399),p=r(1483),c=r(3434),d=r(5230),u=r(3718);function t(h){var a=-1,f=null==h?0:h.length;for(this.clear();++a<f;){var g=h[a];this.set(g[0],g[1])}}t.prototype.clear=i,t.prototype.delete=p,t.prototype.get=c,t.prototype.has=d,t.prototype.set=u,y.exports=t},5752:(y,w,r)=>{var i=r(3643),p=r(7103),c=r(62),d=r(1610),u=r(1090);function t(h){var a=-1,f=null==h?0:h.length;for(this.clear();++a<f;){var g=h[a];this.set(g[0],g[1])}}t.prototype.clear=i,t.prototype.delete=p,t.prototype.get=c,t.prototype.has=d,t.prototype.set=u,y.exports=t},1012:(y,w,r)=>{var c=r(4385)(r(1464),"Map");y.exports=c},752:(y,w,r)=>{var i=r(1891),p=r(2759),c=r(7766),d=r(322),u=r(7258);function t(h){var a=-1,f=null==h?0:h.length;for(this.clear();++a<f;){var g=h[a];this.set(g[0],g[1])}}t.prototype.clear=i,t.prototype.delete=p,t.prototype.get=c,t.prototype.has=d,t.prototype.set=u,y.exports=t},1339:(y,w,r)=>{var c=r(4385)(r(1464),"Promise");y.exports=c},7814:(y,w,r)=>{var c=r(4385)(r(1464),"Set");y.exports=c},342:(y,w,r)=>{var i=r(752),p=r(4643),c=r(2768);function d(u){var t=-1,h=null==u?0:u.length;for(this.__data__=new i;++t<h;)this.add(u[t])}d.prototype.add=d.prototype.push=p,d.prototype.has=c,y.exports=d},6898:(y,w,r)=>{var i=r(5752),p=r(8945),c=r(8425),d=r(5280),u=r(324),t=r(4516);function h(a){var f=this.__data__=new i(a);this.size=f.size}h.prototype.clear=p,h.prototype.delete=c,h.prototype.get=d,h.prototype.has=u,h.prototype.set=t,y.exports=h},8516:(y,w,r)=>{var i=r(1464);y.exports=i.Symbol},2737:(y,w,r)=>{var i=r(1464);y.exports=i.Uint8Array},2248:(y,w,r)=>{var c=r(4385)(r(1464),"WeakMap");y.exports=c},1458:y=>{y.exports=function w(r,i,p){switch(p.length){case 0:return r.call(i);case 1:return r.call(i,p[0]);case 2:return r.call(i,p[0],p[1]);case 3:return r.call(i,p[0],p[1],p[2])}return r.apply(i,p)}},3177:y=>{y.exports=function w(r,i){for(var p=-1,c=null==r?0:r.length;++p<c&&!1!==i(r[p],p,r););return r}},2873:y=>{y.exports=function w(r,i){for(var p=-1,c=null==r?0:r.length,d=0,u=[];++p<c;){var t=r[p];i(t,p,r)&&(u[d++]=t)}return u}},5306:(y,w,r)=>{var i=r(5300);y.exports=function p(c,d){return!(null==c||!c.length)&&i(c,d,0)>-1}},5878:y=>{y.exports=function w(r,i,p){for(var c=-1,d=null==r?0:r.length;++c<d;)if(p(i,r[c]))return!0;return!1}},8548:(y,w,r)=>{var i=r(9695),p=r(6265),c=r(9812),d=r(3151),u=r(8426),t=r(1028),a=Object.prototype.hasOwnProperty;y.exports=function f(g,l){var v=c(g),x=!v&&p(g),E=!v&&!x&&d(g),C=!v&&!x&&!E&&t(g),A=v||x||E||C,M=A?i(g.length,String):[],S=M.length;for(var N in g)(l||a.call(g,N))&&(!A||!("length"==N||E&&("offset"==N||"parent"==N)||C&&("buffer"==N||"byteLength"==N||"byteOffset"==N)||u(N,S)))&&M.push(N);return M}},2757:y=>{y.exports=function w(r,i){for(var p=-1,c=null==r?0:r.length,d=Array(c);++p<c;)d[p]=i(r[p],p,r);return d}},6319:y=>{y.exports=function w(r,i){for(var p=-1,c=i.length,d=r.length;++p<c;)r[d+p]=i[p];return r}},7325:y=>{y.exports=function w(r,i,p,c){var d=-1,u=null==r?0:r.length;for(c&&u&&(p=r[++d]);++d<u;)p=i(p,r[d],d,r);return p}},7371:y=>{y.exports=function w(r,i){for(var p=-1,c=null==r?0:r.length;++p<c;)if(i(r[p],p,r))return!0;return!1}},8916:(y,w,r)=>{var p=r(1740)("length");y.exports=p},732:(y,w,r)=>{var i=r(4399),p=r(2651);y.exports=function c(d,u,t){(void 0!==t&&!p(d[u],t)||void 0===t&&!(u in d))&&i(d,u,t)}},9220:(y,w,r)=>{var i=r(4399),p=r(2651),d=Object.prototype.hasOwnProperty;y.exports=function u(t,h,a){var f=t[h];(!d.call(t,h)||!p(f,a)||void 0===a&&!(h in t))&&i(t,h,a)}},6316:(y,w,r)=>{var i=r(2651);y.exports=function p(c,d){for(var u=c.length;u--;)if(i(c[u][0],d))return u;return-1}},8336:(y,w,r)=>{var i=r(3190),p=r(2561);y.exports=function c(d,u){return d&&i(u,p(u),d)}},6303:(y,w,r)=>{var i=r(3190),p=r(7674);y.exports=function c(d,u){return d&&i(u,p(u),d)}},4399:(y,w,r)=>{var i=r(4678);y.exports=function p(c,d,u){"__proto__"==d&&i?i(c,d,{configurable:!0,enumerable:!0,value:u,writable:!0}):c[d]=u}},5052:(y,w,r)=>{var i=r(6898),p=r(3177),c=r(9220),d=r(8336),u=r(6303),t=r(7697),h=r(5820),a=r(5308),f=r(7491),g=r(3539),l=r(9088),v=r(828),x=r(9900),E=r(9686),C=r(2870),A=r(9812),M=r(3151),S=r(6879),N=r(3278),F=r(4257),j=r(2561),Y=r(7674),L="[object Arguments]",H="[object Function]",Z="[object Object]",vt={};vt[L]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object DataView]"]=vt["[object Boolean]"]=vt["[object Date]"]=vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Map]"]=vt["[object Number]"]=vt[Z]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object Symbol]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Error]"]=vt[H]=vt["[object WeakMap]"]=!1,y.exports=function zt(mt,Wt,Kt,sn,oe,kt){var Mt,Ut=1&Wt,ae=2&Wt,on=4&Wt;if(Kt&&(Mt=oe?Kt(mt,sn,oe,kt):Kt(mt)),void 0!==Mt)return Mt;if(!N(mt))return mt;var Se=A(mt);if(Se){if(Mt=x(mt),!Ut)return h(mt,Mt)}else{var Qt=v(mt),Ie=Qt==H||"[object GeneratorFunction]"==Qt;if(M(mt))return t(mt,Ut);if(Qt==Z||Qt==L||Ie&&!oe){if(Mt=ae||Ie?{}:C(mt),!Ut)return ae?f(mt,u(Mt,mt)):a(mt,d(Mt,mt))}else{if(!vt[Qt])return oe?mt:{};Mt=E(mt,Qt,Ut)}}kt||(kt=new i);var Le=kt.get(mt);if(Le)return Le;kt.set(mt,Mt),F(mt)?mt.forEach(function(Bt){Mt.add(zt(Bt,Wt,Kt,Bt,mt,kt))}):S(mt)&&mt.forEach(function(Bt,$t){Mt.set($t,zt(Bt,Wt,Kt,$t,mt,kt))});var ge=Se?void 0:(on?ae?l:g:ae?Y:j)(mt);return p(ge||mt,function(Bt,$t){ge&&(Bt=mt[$t=Bt]),c(Mt,$t,zt(Bt,Wt,Kt,$t,mt,kt))}),Mt}},9593:(y,w,r)=>{var i=r(3278),p=Object.create;y.exports=function(){function d(){}return function(u){if(!i(u))return{};if(p)return p(u);d.prototype=u;var t=new d;return d.prototype=void 0,t}}()},868:(y,w,r)=>{var i=r(3432),c=r(5892)(i);y.exports=c},6350:(y,w,r)=>{var i=r(5153);y.exports=function p(c,d,u){for(var t=-1,h=c.length;++t<h;){var a=c[t],f=d(a);if(null!=f&&(void 0===g?f==f&&!i(f):u(f,g)))var g=f,l=a}return l}},2755:(y,w,r)=>{var i=r(868);y.exports=function p(c,d){var u=[];return i(c,function(t,h,a){d(t,h,a)&&u.push(t)}),u}},5736:y=>{y.exports=function w(r,i,p,c){for(var d=r.length,u=p+(c?1:-1);c?u--:++u<d;)if(i(r[u],u,r))return u;return-1}},3091:(y,w,r)=>{var i=r(6319),p=r(8892);y.exports=function c(d,u,t,h,a){var f=-1,g=d.length;for(t||(t=p),a||(a=[]);++f<g;){var l=d[f];u>0&&t(l)?u>1?c(l,u-1,t,h,a):i(a,l):h||(a[a.length]=l)}return a}},2898:(y,w,r)=>{var p=r(9602)();y.exports=p},3432:(y,w,r)=>{var i=r(2898),p=r(2561);y.exports=function c(d,u){return d&&i(d,u,p)}},8137:(y,w,r)=>{var i=r(3916),p=r(8130);y.exports=function c(d,u){for(var t=0,h=(u=i(u,d)).length;null!=d&&t<h;)d=d[p(u[t++])];return t&&t==h?d:void 0}},9926:(y,w,r)=>{var i=r(6319),p=r(9812);y.exports=function c(d,u,t){var h=u(d);return p(d)?h:i(h,t(d))}},1057:(y,w,r)=>{var i=r(8516),p=r(8488),c=r(3327),t=i?i.toStringTag:void 0;y.exports=function h(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":t&&t in Object(a)?p(a):c(a)}},9770:y=>{y.exports=function w(r,i){return r>i}},4165:y=>{var r=Object.prototype.hasOwnProperty;y.exports=function i(p,c){return null!=p&&r.call(p,c)}},1398:y=>{y.exports=function w(r,i){return null!=r&&i in Object(r)}},5300:(y,w,r)=>{var i=r(5736),p=r(9636),c=r(5220);y.exports=function d(u,t,h){return t==t?c(u,t,h):i(u,p,h)}},8313:(y,w,r)=>{var i=r(1057),p=r(7433);y.exports=function d(u){return p(u)&&"[object Arguments]"==i(u)}},2925:(y,w,r)=>{var i=r(9471),p=r(7433);y.exports=function c(d,u,t,h,a){return d===u||(null==d||null==u||!p(d)&&!p(u)?d!=d&&u!=u:i(d,u,t,h,c,a))}},9471:(y,w,r)=>{var i=r(6898),p=r(2900),c=r(7987),d=r(7880),u=r(828),t=r(9812),h=r(3151),a=r(1028),g="[object Arguments]",l="[object Array]",v="[object Object]",E=Object.prototype.hasOwnProperty;y.exports=function C(A,M,S,N,F,j){var Y=t(A),G=t(M),$=Y?l:u(A),I=G?l:u(M),L=($=$==g?v:$)==v,P=(I=I==g?v:I)==v,O=$==I;if(O&&h(A)){if(!h(M))return!1;Y=!0,L=!1}if(O&&!L)return j||(j=new i),Y||a(A)?p(A,M,S,N,F,j):c(A,M,$,S,N,F,j);if(!(1&S)){var D=L&&E.call(A,"__wrapped__"),U=P&&E.call(M,"__wrapped__");if(D||U){var H=D?A.value():A,z=U?M.value():M;return j||(j=new i),F(H,z,S,N,j)}}return!!O&&(j||(j=new i),d(A,M,S,N,F,j))}},6095:(y,w,r)=>{var i=r(828),p=r(7433);y.exports=function d(u){return p(u)&&"[object Map]"==i(u)}},2692:(y,w,r)=>{var i=r(6898),p=r(2925);y.exports=function u(t,h,a,f){var g=a.length,l=g,v=!f;if(null==t)return!l;for(t=Object(t);g--;){var x=a[g];if(v&&x[2]?x[1]!==t[x[0]]:!(x[0]in t))return!1}for(;++g<l;){var E=(x=a[g])[0],C=t[E],A=x[1];if(v&&x[2]){if(void 0===C&&!(E in t))return!1}else{var M=new i;if(f)var S=f(C,A,E,t,h,M);if(!(void 0===S?p(A,C,3,f,M):S))return!1}}return!0}},9636:y=>{y.exports=function w(r){return r!=r}},298:(y,w,r)=>{var i=r(8653),p=r(8401),c=r(3278),d=r(8020),t=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");y.exports=function v(x){return!(!c(x)||p(x))&&(i(x)?l:t).test(d(x))}},1889:(y,w,r)=>{var i=r(828),p=r(7433);y.exports=function d(u){return p(u)&&"[object Set]"==i(u)}},8068:(y,w,r)=>{var i=r(1057),p=r(8845),c=r(7433),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,y.exports=function D(U){return c(U)&&p(U.length)&&!!O[i(U)]}},2344:(y,w,r)=>{var i=r(7432),p=r(1669),c=r(9631),d=r(9812),u=r(5788);y.exports=function t(h){return"function"==typeof h?h:null==h?c:"object"==typeof h?d(h)?p(h[0],h[1]):i(h):u(h)}},3809:(y,w,r)=>{var i=r(3164),p=r(6199),d=Object.prototype.hasOwnProperty;y.exports=function u(t){if(!i(t))return p(t);var h=[];for(var a in Object(t))d.call(t,a)&&"constructor"!=a&&h.push(a);return h}},1194:(y,w,r)=>{var i=r(3278),p=r(3164),c=r(908),u=Object.prototype.hasOwnProperty;y.exports=function t(h){if(!i(h))return c(h);var a=p(h),f=[];for(var g in h)"constructor"==g&&(a||!u.call(h,g))||f.push(g);return f}},1181:y=>{y.exports=function w(r,i){return r<i}},5619:(y,w,r)=>{var i=r(868),p=r(7291);y.exports=function c(d,u){var t=-1,h=p(d)?Array(d.length):[];return i(d,function(a,f,g){h[++t]=u(a,f,g)}),h}},7432:(y,w,r)=>{var i=r(2692),p=r(613),c=r(2878);y.exports=function d(u){var t=p(u);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(h){return h===u||i(h,u,t)}}},1669:(y,w,r)=>{var i=r(2925),p=r(6681),c=r(9830),d=r(2562),u=r(4745),t=r(2878),h=r(8130);y.exports=function g(l,v){return d(l)&&u(v)?t(h(l),v):function(x){var E=p(x,l);return void 0===E&&E===v?c(x,l):i(v,E,3)}}},5765:(y,w,r)=>{var i=r(6898),p=r(732),c=r(2898),d=r(1239),u=r(3278),t=r(7674),h=r(3609);y.exports=function a(f,g,l,v,x){f!==g&&c(g,function(E,C){if(x||(x=new i),u(E))d(f,g,C,l,a,v,x);else{var A=v?v(h(f,C),E,C+"",f,g,x):void 0;void 0===A&&(A=E),p(f,C,A)}},t)}},1239:(y,w,r)=>{var i=r(732),p=r(7697),c=r(1334),d=r(5820),u=r(2870),t=r(6265),h=r(9812),a=r(5152),f=r(3151),g=r(8653),l=r(3278),v=r(9970),x=r(1028),E=r(3609),C=r(6729);y.exports=function A(M,S,N,F,j,Y,G){var $=E(M,N),I=E(S,N),L=G.get(I);if(L)i(M,N,L);else{var P=Y?Y($,I,N+"",M,S,G):void 0,O=void 0===P;if(O){var D=h(I),U=!D&&f(I),H=!D&&!U&&x(I);P=I,D||U||H?h($)?P=$:a($)?P=d($):U?(O=!1,P=p(I,!0)):H?(O=!1,P=c(I,!0)):P=[]:v(I)||t(I)?(P=$,t($)?P=C($):(!l($)||g($))&&(P=u(I))):O=!1}O&&(G.set(I,P),j(P,I,F,Y,G),G.delete(I)),i(M,N,P)}}},2168:(y,w,r)=>{var i=r(2757),p=r(8137),c=r(2344),d=r(5619),u=r(480),t=r(2502),h=r(1653),a=r(9631),f=r(9812);y.exports=function g(l,v,x){v=v.length?i(v,function(A){return f(A)?function(M){return p(M,1===A.length?A[0]:A)}:A}):[a];var E=-1;v=i(v,t(c));var C=d(l,function(A,M,S){return{criteria:i(v,function(F){return F(A)}),index:++E,value:A}});return u(C,function(A,M){return h(A,M,x)})}},424:(y,w,r)=>{var i=r(4697),p=r(9830);y.exports=function c(d,u){return i(d,u,function(t,h){return p(d,h)})}},4697:(y,w,r)=>{var i=r(8137),p=r(3821),c=r(3916);y.exports=function d(u,t,h){for(var a=-1,f=t.length,g={};++a<f;){var l=t[a],v=i(u,l);h(v,l)&&p(g,c(l,u),v)}return g}},1740:y=>{y.exports=function w(r){return function(i){return i?.[r]}}},5058:(y,w,r)=>{var i=r(8137);y.exports=function p(c){return function(d){return i(d,c)}}},3404:y=>{var w=Math.ceil,r=Math.max;y.exports=function i(p,c,d,u){for(var t=-1,h=r(w((c-p)/(d||1)),0),a=Array(h);h--;)a[u?h:++t]=p,p+=d;return a}},4087:y=>{y.exports=function w(r,i,p,c,d){return d(r,function(u,t,h){p=c?(c=!1,u):i(p,u,t,h)}),p}},8591:(y,w,r)=>{var i=r(9631),p=r(8452),c=r(1230);y.exports=function d(u,t){return c(p(u,t,i),u+"")}},3821:(y,w,r)=>{var i=r(9220),p=r(3916),c=r(8426),d=r(3278),u=r(8130);y.exports=function t(h,a,f,g){if(!d(h))return h;for(var l=-1,v=(a=p(a,h)).length,x=v-1,E=h;null!=E&&++l<v;){var C=u(a[l]),A=f;if("__proto__"===C||"constructor"===C||"prototype"===C)return h;if(l!=x){var M=E[C];void 0===(A=g?g(M,C,E):void 0)&&(A=d(M)?M:c(a[l+1])?[]:{})}i(E,C,A),E=E[C]}return h}},8565:(y,w,r)=>{var i=r(6205),p=r(4678),c=r(9631);y.exports=p?function(u,t){return p(u,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:c},480:y=>{y.exports=function w(r,i){var p=r.length;for(r.sort(i);p--;)r[p]=r[p].value;return r}},9695:y=>{y.exports=function w(r,i){for(var p=-1,c=Array(r);++p<r;)c[p]=i(p);return c}},7005:(y,w,r)=>{var i=r(8516),p=r(2757),c=r(9812),d=r(5153),u=1/0,t=i?i.prototype:void 0,h=t?t.toString:void 0;y.exports=function a(f){if("string"==typeof f)return f;if(c(f))return p(f,a)+"";if(d(f))return h?h.call(f):"";var g=f+"";return"0"==g&&1/f==-u?"-0":g}},5461:(y,w,r)=>{var i=r(7327),p=/^\s+/;y.exports=function c(d){return d&&d.slice(0,i(d)+1).replace(p,"")}},2502:y=>{y.exports=function w(r){return function(i){return r(i)}}},3136:(y,w,r)=>{var i=r(342),p=r(5306),c=r(5878),d=r(1890),u=r(7366),t=r(3578);y.exports=function a(f,g,l){var v=-1,x=p,E=f.length,C=!0,A=[],M=A;if(l)C=!1,x=c;else if(E>=200){var S=g?null:u(f);if(S)return t(S);C=!1,x=d,M=new i}else M=g?[]:A;t:for(;++v<E;){var N=f[v],F=g?g(N):N;if(N=l||0!==N?N:0,C&&F==F){for(var j=M.length;j--;)if(M[j]===F)continue t;g&&M.push(F),A.push(N)}else x(M,F,l)||(M!==A&&M.push(F),A.push(N))}return A}},55:(y,w,r)=>{var i=r(2757);y.exports=function p(c,d){return i(d,function(u){return c[u]})}},1489:y=>{y.exports=function w(r,i,p){for(var c=-1,d=r.length,u=i.length,t={};++c<d;)p(t,r[c],c<u?i[c]:void 0);return t}},1890:y=>{y.exports=function w(r,i){return r.has(i)}},3479:(y,w,r)=>{var i=r(9631);y.exports=function p(c){return"function"==typeof c?c:i}},3916:(y,w,r)=>{var i=r(9812),p=r(2562),c=r(2447),d=r(4717);y.exports=function u(t,h){return i(t)?t:p(t,h)?[t]:c(d(t))}},6220:(y,w,r)=>{var i=r(2737);y.exports=function p(c){var d=new c.constructor(c.byteLength);return new i(d).set(new i(c)),d}},7697:(y,w,r)=>{y=r.nmd(y);var i=r(1464),p=w&&!w.nodeType&&w,c=p&&y&&!y.nodeType&&y,u=c&&c.exports===p?i.Buffer:void 0,t=u?u.allocUnsafe:void 0;y.exports=function h(a,f){if(f)return a.slice();var g=a.length,l=t?t(g):new a.constructor(g);return a.copy(l),l}},5942:(y,w,r)=>{var i=r(6220);y.exports=function p(c,d){var u=d?i(c.buffer):c.buffer;return new c.constructor(u,c.byteOffset,c.byteLength)}},8466:y=>{var w=/\w*$/;y.exports=function r(i){var p=new i.constructor(i.source,w.exec(i));return p.lastIndex=i.lastIndex,p}},4511:(y,w,r)=>{var i=r(8516),p=i?i.prototype:void 0,c=p?p.valueOf:void 0;y.exports=function d(u){return c?Object(c.call(u)):{}}},1334:(y,w,r)=>{var i=r(6220);y.exports=function p(c,d){var u=d?i(c.buffer):c.buffer;return new c.constructor(u,c.byteOffset,c.length)}},4967:(y,w,r)=>{var i=r(5153);y.exports=function p(c,d){if(c!==d){var u=void 0!==c,t=null===c,h=c==c,a=i(c),f=void 0!==d,g=null===d,l=d==d,v=i(d);if(!g&&!v&&!a&&c>d||a&&f&&l&&!g&&!v||t&&f&&l||!u&&l||!h)return 1;if(!t&&!a&&!v&&c<d||v&&u&&h&&!t&&!a||g&&u&&h||!f&&h||!l)return-1}return 0}},1653:(y,w,r)=>{var i=r(4967);y.exports=function p(c,d,u){for(var t=-1,h=c.criteria,a=d.criteria,f=h.length,g=u.length;++t<f;){var l=i(h[t],a[t]);if(l)return t>=g?l:l*("desc"==u[t]?-1:1)}return c.index-d.index}},5820:y=>{y.exports=function w(r,i){var p=-1,c=r.length;for(i||(i=Array(c));++p<c;)i[p]=r[p];return i}},3190:(y,w,r)=>{var i=r(9220),p=r(4399);y.exports=function c(d,u,t,h){var a=!t;t||(t={});for(var f=-1,g=u.length;++f<g;){var l=u[f],v=h?h(t[l],d[l],l,t,d):void 0;void 0===v&&(v=d[l]),a?p(t,l,v):i(t,l,v)}return t}},5308:(y,w,r)=>{var i=r(3190),p=r(181);y.exports=function c(d,u){return i(d,p(d),u)}},7491:(y,w,r)=>{var i=r(3190),p=r(5254);y.exports=function c(d,u){return i(d,p(d),u)}},336:(y,w,r)=>{var i=r(1464);y.exports=i["__core-js_shared__"]},7530:(y,w,r)=>{var i=r(8591),p=r(2721);y.exports=function c(d){return i(function(u,t){var h=-1,a=t.length,f=a>1?t[a-1]:void 0,g=a>2?t[2]:void 0;for(f=d.length>3&&"function"==typeof f?(a--,f):void 0,g&&p(t[0],t[1],g)&&(f=a<3?void 0:f,a=1),u=Object(u);++h<a;){var l=t[h];l&&d(u,l,h,f)}return u})}},5892:(y,w,r)=>{var i=r(7291);y.exports=function p(c,d){return function(u,t){if(null==u)return u;if(!i(u))return c(u,t);for(var h=u.length,a=d?h:-1,f=Object(u);(d?a--:++a<h)&&!1!==t(f[a],a,f););return u}}},9602:y=>{y.exports=function w(r){return function(i,p,c){for(var d=-1,u=Object(i),t=c(i),h=t.length;h--;){var a=t[r?h:++d];if(!1===p(u[a],a,u))break}return i}}},3595:(y,w,r)=>{var i=r(2344),p=r(7291),c=r(2561);y.exports=function d(u){return function(t,h,a){var f=Object(t);if(!p(t)){var g=i(h,3);t=c(t),h=function(v){return g(f[v],v,f)}}var l=u(t,h,a);return l>-1?f[g?t[l]:l]:void 0}}},819:(y,w,r)=>{var i=r(3404),p=r(2721),c=r(8263);y.exports=function d(u){return function(t,h,a){return a&&"number"!=typeof a&&p(t,h,a)&&(h=a=void 0),t=c(t),void 0===h?(h=t,t=0):h=c(h),a=void 0===a?t<h?1:-1:c(a),i(t,h,a,u)}}},7366:(y,w,r)=>{var i=r(7814),p=r(8145),c=r(3578),u=i&&1/c(new i([,-0]))[1]==1/0?function(t){return new i(t)}:p;y.exports=u},4678:(y,w,r)=>{var i=r(4385),p=function(){try{var c=i(Object,"defineProperty");return c({},"",{}),c}catch{}}();y.exports=p},2900:(y,w,r)=>{var i=r(342),p=r(7371),c=r(1890);y.exports=function t(h,a,f,g,l,v){var x=1&f,E=h.length,C=a.length;if(E!=C&&!(x&&C>E))return!1;var A=v.get(h),M=v.get(a);if(A&&M)return A==a&&M==h;var S=-1,N=!0,F=2&f?new i:void 0;for(v.set(h,a),v.set(a,h);++S<E;){var j=h[S],Y=a[S];if(g)var G=x?g(Y,j,S,a,h,v):g(j,Y,S,h,a,v);if(void 0!==G){if(G)continue;N=!1;break}if(F){if(!p(a,function($,I){if(!c(F,I)&&(j===$||l(j,$,f,g,v)))return F.push(I)})){N=!1;break}}else if(j!==Y&&!l(j,Y,f,g,v)){N=!1;break}}return v.delete(h),v.delete(a),N}},7987:(y,w,r)=>{var i=r(8516),p=r(2737),c=r(2651),d=r(2900),u=r(7152),t=r(3578),F=i?i.prototype:void 0,j=F?F.valueOf:void 0;y.exports=function Y(G,$,I,L,P,O,D){switch(I){case"[object DataView]":if(G.byteLength!=$.byteLength||G.byteOffset!=$.byteOffset)return!1;G=G.buffer,$=$.buffer;case"[object ArrayBuffer]":return!(G.byteLength!=$.byteLength||!O(new p(G),new p($)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+G,+$);case"[object Error]":return G.name==$.name&&G.message==$.message;case"[object RegExp]":case"[object String]":return G==$+"";case"[object Map]":var U=u;case"[object Set]":if(U||(U=t),G.size!=$.size&&!(1&L))return!1;var z=D.get(G);if(z)return z==$;L|=2,D.set(G,$);var B=d(U(G),U($),L,P,O,D);return D.delete(G),B;case"[object Symbol]":if(j)return j.call(G)==j.call($)}return!1}},7880:(y,w,r)=>{var i=r(3539),d=Object.prototype.hasOwnProperty;y.exports=function u(t,h,a,f,g,l){var v=1&a,x=i(t),E=x.length;if(E!=i(h).length&&!v)return!1;for(var M=E;M--;){var S=x[M];if(!(v?S in h:d.call(h,S)))return!1}var N=l.get(t),F=l.get(h);if(N&&F)return N==h&&F==t;var j=!0;l.set(t,h),l.set(h,t);for(var Y=v;++M<E;){var G=t[S=x[M]],$=h[S];if(f)var I=v?f($,G,S,h,t,l):f(G,$,S,t,h,l);if(!(void 0===I?G===$||g(G,$,a,f,l):I)){j=!1;break}Y||(Y="constructor"==S)}if(j&&!Y){var L=t.constructor,P=h.constructor;L!=P&&"constructor"in t&&"constructor"in h&&!("function"==typeof L&&L instanceof L&&"function"==typeof P&&P instanceof P)&&(j=!1)}return l.delete(t),l.delete(h),j}},7409:(y,w,r)=>{var i=r(7651),p=r(8452),c=r(1230);y.exports=function d(u){return c(p(u,void 0,i),u+"")}},8657:y=>{var w="object"==typeof global&&global&&global.Object===Object&&global;y.exports=w},3539:(y,w,r)=>{var i=r(9926),p=r(181),c=r(2561);y.exports=function d(u){return i(u,c,p)}},9088:(y,w,r)=>{var i=r(9926),p=r(5254),c=r(7674);y.exports=function d(u){return i(u,c,p)}},9038:(y,w,r)=>{var i=r(3329);y.exports=function p(c,d){var u=c.__data__;return i(d)?u["string"==typeof d?"string":"hash"]:u.map}},613:(y,w,r)=>{var i=r(4745),p=r(2561);y.exports=function c(d){for(var u=p(d),t=u.length;t--;){var h=u[t],a=d[h];u[t]=[h,a,i(a)]}return u}},4385:(y,w,r)=>{var i=r(298),p=r(8737);y.exports=function c(d,u){var t=p(d,u);return i(t)?t:void 0}},6902:(y,w,r)=>{var p=r(2852)(Object.getPrototypeOf,Object);y.exports=p},8488:(y,w,r)=>{var i=r(8516),p=Object.prototype,c=p.hasOwnProperty,d=p.toString,u=i?i.toStringTag:void 0;y.exports=function t(h){var a=c.call(h,u),f=h[u];try{h[u]=void 0;var g=!0}catch{}var l=d.call(h);return g&&(a?h[u]=f:delete h[u]),l}},181:(y,w,r)=>{var i=r(2873),p=r(2260),d=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols;y.exports=u?function(h){return null==h?[]:(h=Object(h),i(u(h),function(a){return d.call(h,a)}))}:p},5254:(y,w,r)=>{var i=r(6319),p=r(6902),c=r(181),d=r(2260);y.exports=Object.getOwnPropertySymbols?function(h){for(var a=[];h;)i(a,c(h)),h=p(h);return a}:d},828:(y,w,r)=>{var i=r(5013),p=r(1012),c=r(1339),d=r(7814),u=r(2248),t=r(1057),h=r(8020),a="[object Map]",g="[object Promise]",l="[object Set]",v="[object WeakMap]",x="[object DataView]",E=h(i),C=h(p),A=h(c),M=h(d),S=h(u),N=t;(i&&N(new i(new ArrayBuffer(1)))!=x||p&&N(new p)!=a||c&&N(c.resolve())!=g||d&&N(new d)!=l||u&&N(new u)!=v)&&(N=function(F){var j=t(F),Y="[object Object]"==j?F.constructor:void 0,G=Y?h(Y):"";if(G)switch(G){case E:return x;case C:return a;case A:return g;case M:return l;case S:return v}return j}),y.exports=N},8737:y=>{y.exports=function w(r,i){return r?.[i]}},5121:(y,w,r)=>{var i=r(3916),p=r(6265),c=r(9812),d=r(8426),u=r(8845),t=r(8130);y.exports=function h(a,f,g){for(var l=-1,v=(f=i(f,a)).length,x=!1;++l<v;){var E=t(f[l]);if(!(x=null!=a&&g(a,E)))break;a=a[E]}return x||++l!=v?x:!!(v=null==a?0:a.length)&&u(v)&&d(E,v)&&(c(a)||p(a))}},9191:y=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");y.exports=function h(a){return t.test(a)}},6399:(y,w,r)=>{var i=r(8247);y.exports=function p(){this.__data__=i?i(null):{},this.size=0}},1483:y=>{y.exports=function w(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}},3434:(y,w,r)=>{var i=r(8247),d=Object.prototype.hasOwnProperty;y.exports=function u(t){var h=this.__data__;if(i){var a=h[t];return"__lodash_hash_undefined__"===a?void 0:a}return d.call(h,t)?h[t]:void 0}},5230:(y,w,r)=>{var i=r(8247),c=Object.prototype.hasOwnProperty;y.exports=function d(u){var t=this.__data__;return i?void 0!==t[u]:c.call(t,u)}},3718:(y,w,r)=>{var i=r(8247);y.exports=function c(d,u){var t=this.__data__;return this.size+=this.has(d)?0:1,t[d]=i&&void 0===u?"__lodash_hash_undefined__":u,this}},9900:y=>{var r=Object.prototype.hasOwnProperty;y.exports=function i(p){var c=p.length,d=new p.constructor(c);return c&&"string"==typeof p[0]&&r.call(p,"index")&&(d.index=p.index,d.input=p.input),d}},9686:(y,w,r)=>{var i=r(6220),p=r(5942),c=r(8466),d=r(4511),u=r(1334);y.exports=function I(L,P,O){var D=L.constructor;switch(P){case"[object ArrayBuffer]":return i(L);case"[object Boolean]":case"[object Date]":return new D(+L);case"[object DataView]":return p(L,O);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(L,O);case"[object Map]":case"[object Set]":return new D;case"[object Number]":case"[object String]":return new D(L);case"[object RegExp]":return c(L);case"[object Symbol]":return d(L)}}},2870:(y,w,r)=>{var i=r(9593),p=r(6902),c=r(3164);y.exports=function d(u){return"function"!=typeof u.constructor||c(u)?{}:i(p(u))}},8892:(y,w,r)=>{var i=r(8516),p=r(6265),c=r(9812),d=i?i.isConcatSpreadable:void 0;y.exports=function u(t){return c(t)||p(t)||!!(d&&t&&t[d])}},8426:y=>{var r=/^(?:0|[1-9]\d*)$/;y.exports=function i(p,c){var d=typeof p;return!!(c=c??9007199254740991)&&("number"==d||"symbol"!=d&&r.test(p))&&p>-1&&p%1==0&&p<c}},2721:(y,w,r)=>{var i=r(2651),p=r(7291),c=r(8426),d=r(3278);y.exports=function u(t,h,a){if(!d(a))return!1;var f=typeof h;return!!("number"==f?p(a)&&c(h,a.length):"string"==f&&h in a)&&i(a[h],t)}},2562:(y,w,r)=>{var i=r(9812),p=r(5153),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;y.exports=function u(t,h){if(i(t))return!1;var a=typeof t;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!p(t))||d.test(t)||!c.test(t)||null!=h&&t in Object(h)}},3329:y=>{y.exports=function w(r){var i=typeof r;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r}},8401:(y,w,r)=>{var d,i=r(336),p=(d=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";y.exports=function c(d){return!!p&&p in d}},3164:y=>{var w=Object.prototype;y.exports=function r(i){var p=i&&i.constructor;return i===("function"==typeof p&&p.prototype||w)}},4745:(y,w,r)=>{var i=r(3278);y.exports=function p(c){return c==c&&!i(c)}},3643:y=>{y.exports=function w(){this.__data__=[],this.size=0}},7103:(y,w,r)=>{var i=r(6316),c=Array.prototype.splice;y.exports=function d(u){var t=this.__data__,h=i(t,u);return!(h<0||(h==t.length-1?t.pop():c.call(t,h,1),--this.size,0))}},62:(y,w,r)=>{var i=r(6316);y.exports=function p(c){var d=this.__data__,u=i(d,c);return u<0?void 0:d[u][1]}},1610:(y,w,r)=>{var i=r(6316);y.exports=function p(c){return i(this.__data__,c)>-1}},1090:(y,w,r)=>{var i=r(6316);y.exports=function p(c,d){var u=this.__data__,t=i(u,c);return t<0?(++this.size,u.push([c,d])):u[t][1]=d,this}},1891:(y,w,r)=>{var i=r(3028),p=r(5752),c=r(1012);y.exports=function d(){this.size=0,this.__data__={hash:new i,map:new(c||p),string:new i}}},2759:(y,w,r)=>{var i=r(9038);y.exports=function p(c){var d=i(this,c).delete(c);return this.size-=d?1:0,d}},7766:(y,w,r)=>{var i=r(9038);y.exports=function p(c){return i(this,c).get(c)}},322:(y,w,r)=>{var i=r(9038);y.exports=function p(c){return i(this,c).has(c)}},7258:(y,w,r)=>{var i=r(9038);y.exports=function p(c,d){var u=i(this,c),t=u.size;return u.set(c,d),this.size+=u.size==t?0:1,this}},7152:y=>{y.exports=function w(r){var i=-1,p=Array(r.size);return r.forEach(function(c,d){p[++i]=[d,c]}),p}},2878:y=>{y.exports=function w(r,i){return function(p){return null!=p&&p[r]===i&&(void 0!==i||r in Object(p))}}},8339:(y,w,r)=>{var i=r(9605);y.exports=function c(d){var u=i(d,function(h){return 500===t.size&&t.clear(),h}),t=u.cache;return u}},8247:(y,w,r)=>{var p=r(4385)(Object,"create");y.exports=p},6199:(y,w,r)=>{var p=r(2852)(Object.keys,Object);y.exports=p},908:y=>{y.exports=function w(r){var i=[];if(null!=r)for(var p in Object(r))i.push(p);return i}},512:(y,w,r)=>{y=r.nmd(y);var i=r(8657),p=w&&!w.nodeType&&w,c=p&&y&&!y.nodeType&&y,u=c&&c.exports===p&&i.process,t=function(){try{return c&&c.require&&c.require("util").types||u&&u.binding&&u.binding("util")}catch{}}();y.exports=t},3327:y=>{var r=Object.prototype.toString;y.exports=function i(p){return r.call(p)}},2852:y=>{y.exports=function w(r,i){return function(p){return r(i(p))}}},8452:(y,w,r)=>{var i=r(1458),p=Math.max;y.exports=function c(d,u,t){return u=p(void 0===u?d.length-1:u,0),function(){for(var h=arguments,a=-1,f=p(h.length-u,0),g=Array(f);++a<f;)g[a]=h[u+a];a=-1;for(var l=Array(u+1);++a<u;)l[a]=h[a];return l[u]=t(g),i(d,this,l)}}},1464:(y,w,r)=>{var i=r(8657),p="object"==typeof self&&self&&self.Object===Object&&self,c=i||p||Function("return this")();y.exports=c},3609:y=>{y.exports=function w(r,i){if(("constructor"!==i||"function"!=typeof r[i])&&"__proto__"!=i)return r[i]}},4643:y=>{y.exports=function r(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},2768:y=>{y.exports=function w(r){return this.__data__.has(r)}},3578:y=>{y.exports=function w(r){var i=-1,p=Array(r.size);return r.forEach(function(c){p[++i]=c}),p}},1230:(y,w,r)=>{var i=r(8565),c=r(2770)(i);y.exports=c},2770:y=>{var i=Date.now;y.exports=function p(c){var d=0,u=0;return function(){var t=i(),h=16-(t-u);if(u=t,h>0){if(++d>=800)return arguments[0]}else d=0;return c.apply(void 0,arguments)}}},8945:(y,w,r)=>{var i=r(5752);y.exports=function p(){this.__data__=new i,this.size=0}},8425:y=>{y.exports=function w(r){var i=this.__data__,p=i.delete(r);return this.size=i.size,p}},5280:y=>{y.exports=function w(r){return this.__data__.get(r)}},324:y=>{y.exports=function w(r){return this.__data__.has(r)}},4516:(y,w,r)=>{var i=r(5752),p=r(1012),c=r(752);y.exports=function u(t,h){var a=this.__data__;if(a instanceof i){var f=a.__data__;if(!p||f.length<199)return f.push([t,h]),this.size=++a.size,this;a=this.__data__=new c(f)}return a.set(t,h),this.size=a.size,this}},5220:y=>{y.exports=function w(r,i,p){for(var c=p-1,d=r.length;++c<d;)if(r[c]===i)return c;return-1}},8800:(y,w,r)=>{var i=r(8916),p=r(9191),c=r(2320);y.exports=function d(u){return p(u)?c(u):i(u)}},2447:(y,w,r)=>{var i=r(8339),p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,d=i(function(u){var t=[];return 46===u.charCodeAt(0)&&t.push(""),u.replace(p,function(h,a,f,g){t.push(f?g.replace(c,"$1"):a||h)}),t});y.exports=d},8130:(y,w,r)=>{var i=r(5153),p=1/0;y.exports=function c(d){if("string"==typeof d||i(d))return d;var u=d+"";return"0"==u&&1/d==-p?"-0":u}},8020:y=>{var r=Function.prototype.toString;y.exports=function i(p){if(null!=p){try{return r.call(p)}catch{}try{return p+""}catch{}}return""}},7327:y=>{var w=/\s/;y.exports=function r(i){for(var p=i.length;p--&&w.test(i.charAt(p)););return p}},2320:y=>{var w="\\ud800-\\udfff",u="["+w+"]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",h="\\ud83c[\\udffb-\\udfff]",f="[^"+w+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",x="(?:"+t+"|"+h+")?",E="[\\ufe0e\\ufe0f]?",A=E+x+"(?:\\u200d(?:"+[f,g,l].join("|")+")"+E+x+")*",M="(?:"+[f+t+"?",t,g,l,u].join("|")+")",S=RegExp(h+"(?="+h+")|"+M+A,"g");y.exports=function N(F){for(var j=S.lastIndex=0;S.test(F);)++j;return j}},1132:(y,w,r)=>{var i=r(5052);y.exports=function c(d){return i(d,4)}},4418:(y,w,r)=>{var i=r(5052);y.exports=function d(u){return i(u,5)}},6205:y=>{y.exports=function w(r){return function(){return r}}},1931:(y,w,r)=>{var i=r(8591),p=r(2651),c=r(2721),d=r(7674),u=Object.prototype,t=u.hasOwnProperty,h=i(function(a,f){a=Object(a);var g=-1,l=f.length,v=l>2?f[2]:void 0;for(v&&c(f[0],f[1],v)&&(l=1);++g<l;)for(var x=f[g],E=d(x),C=-1,A=E.length;++C<A;){var M=E[C],S=a[M];(void 0===S||p(S,u[M])&&!t.call(a,M))&&(a[M]=x[M])}return a});y.exports=h},3572:(y,w,r)=>{y.exports=r(1091)},2651:y=>{y.exports=function w(r,i){return r===i||r!=r&&i!=i}},5155:(y,w,r)=>{var i=r(2873),p=r(2755),c=r(2344),d=r(9812);y.exports=function u(t,h){return(d(t)?i:p)(t,c(h,3))}},7838:(y,w,r)=>{var c=r(3595)(r(8376));y.exports=c},8376:(y,w,r)=>{var i=r(5736),p=r(2344),c=r(1284),d=Math.max;y.exports=function u(t,h,a){var f=null==t?0:t.length;if(!f)return-1;var g=null==a?0:c(a);return g<0&&(g=d(f+g,0)),i(t,p(h,3),g)}},7651:(y,w,r)=>{var i=r(3091);y.exports=function p(c){return null!=c&&c.length?i(c,1):[]}},1091:(y,w,r)=>{var i=r(3177),p=r(868),c=r(3479),d=r(9812);y.exports=function u(t,h){return(d(t)?i:p)(t,c(h))}},4181:(y,w,r)=>{var i=r(2898),p=r(3479),c=r(7674);y.exports=function d(u,t){return null==u?u:i(u,p(t),c)}},6681:(y,w,r)=>{var i=r(8137);y.exports=function p(c,d,u){var t=null==c?void 0:i(c,d);return void 0===t?u:t}},2789:(y,w,r)=>{var i=r(4165),p=r(5121);y.exports=function c(d,u){return null!=d&&p(d,u,i)}},9830:(y,w,r)=>{var i=r(1398),p=r(5121);y.exports=function c(d,u){return null!=d&&p(d,u,i)}},9631:y=>{y.exports=function w(r){return r}},6265:(y,w,r)=>{var i=r(8313),p=r(7433),c=Object.prototype,d=c.hasOwnProperty,u=c.propertyIsEnumerable,t=i(function(){return arguments}())?i:function(h){return p(h)&&d.call(h,"callee")&&!u.call(h,"callee")};y.exports=t},9812:y=>{y.exports=Array.isArray},7291:(y,w,r)=>{var i=r(8653),p=r(8845);y.exports=function c(d){return null!=d&&p(d.length)&&!i(d)}},5152:(y,w,r)=>{var i=r(7291),p=r(7433);y.exports=function c(d){return p(d)&&i(d)}},3151:(y,w,r)=>{y=r.nmd(y);var i=r(1464),p=r(5710),c=w&&!w.nodeType&&w,d=c&&y&&!y.nodeType&&y,t=d&&d.exports===c?i.Buffer:void 0;y.exports=(t?t.isBuffer:void 0)||p},5488:(y,w,r)=>{var i=r(3809),p=r(828),c=r(6265),d=r(9812),u=r(7291),t=r(3151),h=r(3164),a=r(1028),v=Object.prototype.hasOwnProperty;y.exports=function x(E){if(null==E)return!0;if(u(E)&&(d(E)||"string"==typeof E||"function"==typeof E.splice||t(E)||a(E)||c(E)))return!E.length;var C=p(E);if("[object Map]"==C||"[object Set]"==C)return!E.size;if(h(E))return!i(E).length;for(var A in E)if(v.call(E,A))return!1;return!0}},8653:(y,w,r)=>{var i=r(1057),p=r(3278);y.exports=function h(a){if(!p(a))return!1;var f=i(a);return"[object Function]"==f||"[object GeneratorFunction]"==f||"[object AsyncFunction]"==f||"[object Proxy]"==f}},8845:y=>{y.exports=function r(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},6879:(y,w,r)=>{var i=r(6095),p=r(2502),c=r(512),d=c&&c.isMap,u=d?p(d):i;y.exports=u},3278:y=>{y.exports=function w(r){var i=typeof r;return null!=r&&("object"==i||"function"==i)}},7433:y=>{y.exports=function w(r){return null!=r&&"object"==typeof r}},9970:(y,w,r)=>{var i=r(1057),p=r(6902),c=r(7433),h=Function.prototype.toString,a=Object.prototype.hasOwnProperty,f=h.call(Object);y.exports=function g(l){if(!c(l)||"[object Object]"!=i(l))return!1;var v=p(l);if(null===v)return!0;var x=a.call(v,"constructor")&&v.constructor;return"function"==typeof x&&x instanceof x&&h.call(x)==f}},4257:(y,w,r)=>{var i=r(1889),p=r(2502),c=r(512),d=c&&c.isSet,u=d?p(d):i;y.exports=u},8124:(y,w,r)=>{var i=r(1057),p=r(9812),c=r(7433);y.exports=function u(t){return"string"==typeof t||!p(t)&&c(t)&&"[object String]"==i(t)}},5153:(y,w,r)=>{var i=r(1057),p=r(7433);y.exports=function d(u){return"symbol"==typeof u||p(u)&&"[object Symbol]"==i(u)}},1028:(y,w,r)=>{var i=r(8068),p=r(2502),c=r(512),d=c&&c.isTypedArray,u=d?p(d):i;y.exports=u},9261:y=>{y.exports=function w(r){return void 0===r}},2561:(y,w,r)=>{var i=r(8548),p=r(3809),c=r(7291);y.exports=function d(u){return c(u)?i(u):p(u)}},7674:(y,w,r)=>{var i=r(8548),p=r(1194),c=r(7291);y.exports=function d(u){return c(u)?i(u,!0):p(u)}},5649:y=>{y.exports=function w(r){var i=null==r?0:r.length;return i?r[i-1]:void 0}},339:(y,w,r)=>{var i=r(2757),p=r(2344),c=r(5619),d=r(9812);y.exports=function u(t,h){return(d(t)?i:c)(t,p(h,3))}},9221:(y,w,r)=>{var i=r(4399),p=r(3432),c=r(2344);y.exports=function d(u,t){var h={};return t=c(t,3),p(u,function(a,f,g){i(h,f,t(a,f,g))}),h}},5147:(y,w,r)=>{var i=r(6350),p=r(9770),c=r(9631);y.exports=function d(u){return u&&u.length?i(u,c,p):void 0}},9605:(y,w,r)=>{var i=r(752);function c(d,u){if("function"!=typeof d||null!=u&&"function"!=typeof u)throw new TypeError("Expected a function");var t=function(){var h=arguments,a=u?u.apply(this,h):h[0],f=t.cache;if(f.has(a))return f.get(a);var g=d.apply(this,h);return t.cache=f.set(a,g)||f,g};return t.cache=new(c.Cache||i),t}c.Cache=i,y.exports=c},3413:(y,w,r)=>{var i=r(5765),c=r(7530)(function(d,u,t){i(d,u,t)});y.exports=c},2665:(y,w,r)=>{var i=r(6350),p=r(1181),c=r(9631);y.exports=function d(u){return u&&u.length?i(u,c,p):void 0}},9924:(y,w,r)=>{var i=r(6350),p=r(2344),c=r(1181);y.exports=function d(u,t){return u&&u.length?i(u,p(t,2),c):void 0}},8145:y=>{y.exports=function w(){}},501:(y,w,r)=>{var i=r(1464);y.exports=function(){return i.Date.now()}},9176:(y,w,r)=>{var i=r(424),c=r(7409)(function(d,u){return null==d?{}:i(d,u)});y.exports=c},5788:(y,w,r)=>{var i=r(1740),p=r(5058),c=r(2562),d=r(8130);y.exports=function u(t){return c(t)?i(d(t)):p(t)}},700:(y,w,r)=>{var p=r(819)();y.exports=p},9687:(y,w,r)=>{var i=r(7325),p=r(868),c=r(2344),d=r(4087),u=r(9812);y.exports=function t(h,a,f){var g=u(h)?i:d,l=arguments.length<3;return g(h,c(a,4),f,l,p)}},120:(y,w,r)=>{var i=r(3809),p=r(828),c=r(7291),d=r(8124),u=r(8800);y.exports=function a(f){if(null==f)return 0;if(c(f))return d(f)?u(f):f.length;var g=p(f);return"[object Map]"==g||"[object Set]"==g?f.size:i(f).length}},9136:(y,w,r)=>{var i=r(3091),p=r(2168),c=r(8591),d=r(2721),u=c(function(t,h){if(null==t)return[];var a=h.length;return a>1&&d(t,h[0],h[1])?h=[]:a>2&&d(h[0],h[1],h[2])&&(h=[h[0]]),p(t,i(h,1),[])});y.exports=u},2260:y=>{y.exports=function w(){return[]}},5710:y=>{y.exports=function w(){return!1}},8263:(y,w,r)=>{var i=r(3521),p=1/0;y.exports=function d(u){return u?(u=i(u))===p||u===-p?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}},1284:(y,w,r)=>{var i=r(8263);y.exports=function p(c){var d=i(c),u=d%1;return d==d?u?d-u:d:0}},3521:(y,w,r)=>{var i=r(5461),p=r(3278),c=r(5153),u=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,h=/^0o[0-7]+$/i,a=parseInt;y.exports=function f(g){if("number"==typeof g)return g;if(c(g))return NaN;if(p(g)){var l="function"==typeof g.valueOf?g.valueOf():g;g=p(l)?l+"":l}if("string"!=typeof g)return 0===g?g:+g;g=i(g);var v=t.test(g);return v||h.test(g)?a(g.slice(2),v?2:8):u.test(g)?NaN:+g}},6729:(y,w,r)=>{var i=r(3190),p=r(7674);y.exports=function c(d){return i(d,p(d))}},4717:(y,w,r)=>{var i=r(7005);y.exports=function p(c){return null==c?"":i(c)}},5341:(y,w,r)=>{var i=r(3177),p=r(9593),c=r(3432),d=r(2344),u=r(6902),t=r(9812),h=r(3151),a=r(8653),f=r(3278),g=r(1028);y.exports=function l(v,x,E){var C=t(v),A=C||h(v)||g(v);if(x=d(x,4),null==E){var M=v&&v.constructor;E=A?C?new M:[]:f(v)&&a(M)?p(u(v)):{}}return(A?i:c)(v,function(S,N,F){return x(E,S,N,F)}),E}},8898:(y,w,r)=>{var i=r(3091),p=r(8591),c=r(3136),d=r(5152),u=p(function(t){return c(i(t,1,d,!0))});y.exports=u},9519:(y,w,r)=>{var i=r(4717),p=0;y.exports=function c(d){var u=++p;return i(d)+u}},7127:(y,w,r)=>{var i=r(55),p=r(2561);y.exports=function c(d){return null==d?[]:i(d,p(d))}},785:(y,w,r)=>{var i=r(9220),p=r(1489);y.exports=function c(d,u){return p(d||[],u||[],i)}},8314:(y,w,r)=>{const p=r(2836),c=r(9460),d=r(7030),u=r(6511);function t(h,a,f,g,l){const v=[].slice.call(arguments,1),x=v.length,E="function"==typeof v[x-1];if(!E&&!p())throw new Error("Callback required as last argument");if(!E){if(x<1)throw new Error("Too few arguments provided");return 1===x?(f=a,a=g=void 0):2===x&&!a.getContext&&(g=f,f=a,a=void 0),new Promise(function(C,A){try{const M=c.create(f,g);C(h(M,a,g))}catch(M){A(M)}})}if(x<2)throw new Error("Too few arguments provided");2===x?(l=f,f=a,a=g=void 0):3===x&&(a.getContext&&typeof l>"u"?(l=g,g=void 0):(l=g,g=f,f=a,a=void 0));try{const C=c.create(f,g);l(null,h(C,a,g))}catch(C){l(C)}}w.mo=t.bind(null,d.render),t.bind(null,d.renderToDataURL),t.bind(null,function(h,a,f){return u.render(h,f)})},2836:y=>{y.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(y,w,r)=>{const i=r(9089).getSymbolSize;w.getRowColCoords=function(c){if(1===c)return[];const d=Math.floor(c/7)+2,u=i(c),t=145===u?26:2*Math.ceil((u-13)/(2*d-2)),h=[u-7];for(let a=1;a<d-1;a++)h[a]=h[a-1]-t;return h.push(6),h.reverse()},w.getPositions=function(c){const d=[],u=w.getRowColCoords(c),t=u.length;for(let h=0;h<t;h++)for(let a=0;a<t;a++)0===h&&0===a||0===h&&a===t-1||h===t-1&&0===a||d.push([u[h],u[a]]);return d}},1018:(y,w,r)=>{const i=r(1677),p=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function c(d){this.mode=i.ALPHANUMERIC,this.data=d}c.getBitsLength=function(u){return 11*Math.floor(u/2)+u%2*6},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(u){let t;for(t=0;t+2<=this.data.length;t+=2){let h=45*p.indexOf(this.data[t]);h+=p.indexOf(this.data[t+1]),u.put(h,11)}this.data.length%2&&u.put(p.indexOf(this.data[t]),6)},y.exports=c},4662:y=>{function w(){this.buffer=[],this.length=0}w.prototype={get:function(r){const i=Math.floor(r/8);return 1==(this.buffer[i]>>>7-r%8&1)},put:function(r,i){for(let p=0;p<i;p++)this.putBit(1==(r>>>i-p-1&1))},getLengthInBits:function(){return this.length},putBit:function(r){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),r&&(this.buffer[i]|=128>>>this.length%8),this.length++}},y.exports=w},5941:y=>{function w(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}w.prototype.set=function(r,i,p,c){const d=r*this.size+i;this.data[d]=p,c&&(this.reservedBit[d]=!0)},w.prototype.get=function(r,i){return this.data[r*this.size+i]},w.prototype.xor=function(r,i,p){this.data[r*this.size+i]^=p},w.prototype.isReserved=function(r,i){return this.reservedBit[r*this.size+i]},y.exports=w},4969:(y,w,r)=>{const i=r(1677);function p(c){this.mode=i.BYTE,this.data="string"==typeof c?(new TextEncoder).encode(c):new Uint8Array(c)}p.getBitsLength=function(d){return 8*d},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(c){for(let d=0,u=this.data.length;d<u;d++)c.put(this.data[d],8)},y.exports=p},3677:(y,w,r)=>{const i=r(7424),p=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],c=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];w.getBlocksCount=function(u,t){switch(t){case i.L:return p[4*(u-1)+0];case i.M:return p[4*(u-1)+1];case i.Q:return p[4*(u-1)+2];case i.H:return p[4*(u-1)+3];default:return}},w.getTotalCodewordsCount=function(u,t){switch(t){case i.L:return c[4*(u-1)+0];case i.M:return c[4*(u-1)+1];case i.Q:return c[4*(u-1)+2];case i.H:return c[4*(u-1)+3];default:return}}},7424:(y,w)=>{w.L={bit:1},w.M={bit:0},w.Q={bit:3},w.H={bit:2},w.isValid=function(p){return p&&typeof p.bit<"u"&&p.bit>=0&&p.bit<4},w.from=function(p,c){if(w.isValid(p))return p;try{return function r(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return w.L;case"m":case"medium":return w.M;case"q":case"quartile":return w.Q;case"h":case"high":return w.H;default:throw new Error("Unknown EC Level: "+i)}}(p)}catch{return c}}},6269:(y,w,r)=>{const i=r(9089).getSymbolSize;w.getPositions=function(d){const u=i(d);return[[0,0],[u-7,0],[0,u-7]]}},6254:(y,w,r)=>{const i=r(9089),d=i.getBCHDigit(1335);w.getEncodedBits=function(t,h){const a=t.bit<<3|h;let f=a<<10;for(;i.getBCHDigit(f)-d>=0;)f^=1335<<i.getBCHDigit(f)-d;return 21522^(a<<10|f)}},6686:(y,w)=>{const r=new Uint8Array(512),i=new Uint8Array(256);(function(){let c=1;for(let d=0;d<255;d++)r[d]=c,i[c]=d,c<<=1,256&c&&(c^=285);for(let d=255;d<512;d++)r[d]=r[d-255]})(),w.log=function(c){if(c<1)throw new Error("log("+c+")");return i[c]},w.exp=function(c){return r[c]},w.mul=function(c,d){return 0===c||0===d?0:r[i[c]+i[d]]}},3264:(y,w,r)=>{const i=r(1677),p=r(9089);function c(d){this.mode=i.KANJI,this.data=d}c.getBitsLength=function(u){return 13*u},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(d){let u;for(u=0;u<this.data.length;u++){let t=p.toSJIS(this.data[u]);if(t>=33088&&t<=40956)t-=33088;else{if(!(t>=57408&&t<=60351))throw new Error("Invalid SJIS character: "+this.data[u]+"\nMake sure your charset is UTF-8");t-=49472}t=192*(t>>>8&255)+(255&t),d.put(t,13)}},y.exports=c},3361:(y,w)=>{w.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(p,c,d){switch(p){case w.Patterns.PATTERN000:return(c+d)%2==0;case w.Patterns.PATTERN001:return c%2==0;case w.Patterns.PATTERN010:return d%3==0;case w.Patterns.PATTERN011:return(c+d)%3==0;case w.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(d/3))%2==0;case w.Patterns.PATTERN101:return c*d%2+c*d%3==0;case w.Patterns.PATTERN110:return(c*d%2+c*d%3)%2==0;case w.Patterns.PATTERN111:return(c*d%3+(c+d)%2)%2==0;default:throw new Error("bad maskPattern:"+p)}}w.isValid=function(c){return null!=c&&""!==c&&!isNaN(c)&&c>=0&&c<=7},w.from=function(c){return w.isValid(c)?parseInt(c,10):void 0},w.getPenaltyN1=function(c){const d=c.size;let u=0,t=0,h=0,a=null,f=null;for(let g=0;g<d;g++){t=h=0,a=f=null;for(let l=0;l<d;l++){let v=c.get(g,l);v===a?t++:(t>=5&&(u+=t-5+3),a=v,t=1),v=c.get(l,g),v===f?h++:(h>=5&&(u+=h-5+3),f=v,h=1)}t>=5&&(u+=t-5+3),h>=5&&(u+=h-5+3)}return u},w.getPenaltyN2=function(c){const d=c.size;let u=0;for(let t=0;t<d-1;t++)for(let h=0;h<d-1;h++){const a=c.get(t,h)+c.get(t,h+1)+c.get(t+1,h)+c.get(t+1,h+1);(4===a||0===a)&&u++}return 3*u},w.getPenaltyN3=function(c){const d=c.size;let u=0,t=0,h=0;for(let a=0;a<d;a++){t=h=0;for(let f=0;f<d;f++)t=t<<1&2047|c.get(a,f),f>=10&&(1488===t||93===t)&&u++,h=h<<1&2047|c.get(f,a),f>=10&&(1488===h||93===h)&&u++}return 40*u},w.getPenaltyN4=function(c){let d=0;const u=c.data.length;for(let h=0;h<u;h++)d+=c.data[h];return 10*Math.abs(Math.ceil(100*d/u/5)-10)},w.applyMask=function(c,d){const u=d.size;for(let t=0;t<u;t++)for(let h=0;h<u;h++)d.isReserved(h,t)||d.xor(h,t,i(c,h,t))},w.getBestMask=function(c,d){const u=Object.keys(w.Patterns).length;let t=0,h=1/0;for(let a=0;a<u;a++){d(a),w.applyMask(a,c);const f=w.getPenaltyN1(c)+w.getPenaltyN2(c)+w.getPenaltyN3(c)+w.getPenaltyN4(c);w.applyMask(a,c),f<h&&(h=f,t=a)}return t}},1677:(y,w,r)=>{const i=r(377),p=r(9359);w.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},w.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},w.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},w.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},w.MIXED={bit:-1},w.getCharCountIndicator=function(u,t){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!i.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?u.ccBits[0]:t<27?u.ccBits[1]:u.ccBits[2]},w.getBestModeForData=function(u){return p.testNumeric(u)?w.NUMERIC:p.testAlphanumeric(u)?w.ALPHANUMERIC:p.testKanji(u)?w.KANJI:w.BYTE},w.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},w.isValid=function(u){return u&&u.bit&&u.ccBits},w.from=function(u,t){if(w.isValid(u))return u;try{return function c(d){if("string"!=typeof d)throw new Error("Param is not a string");switch(d.toLowerCase()){case"numeric":return w.NUMERIC;case"alphanumeric":return w.ALPHANUMERIC;case"kanji":return w.KANJI;case"byte":return w.BYTE;default:throw new Error("Unknown mode: "+d)}}(u)}catch{return t}}},6628:(y,w,r)=>{const i=r(1677);function p(c){this.mode=i.NUMERIC,this.data=c.toString()}p.getBitsLength=function(d){return 10*Math.floor(d/3)+(d%3?d%3*3+1:0)},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(d){let u,t,h;for(u=0;u+3<=this.data.length;u+=3)t=this.data.substr(u,3),h=parseInt(t,10),d.put(h,10);const a=this.data.length-u;a>0&&(t=this.data.substr(u),h=parseInt(t,10),d.put(h,3*a+1))},y.exports=p},1744:(y,w,r)=>{const i=r(6686);w.mul=function(c,d){const u=new Uint8Array(c.length+d.length-1);for(let t=0;t<c.length;t++)for(let h=0;h<d.length;h++)u[t+h]^=i.mul(c[t],d[h]);return u},w.mod=function(c,d){let u=new Uint8Array(c);for(;u.length-d.length>=0;){const t=u[0];for(let a=0;a<d.length;a++)u[a]^=i.mul(d[a],t);let h=0;for(;h<u.length&&0===u[h];)h++;u=u.slice(h)}return u},w.generateECPolynomial=function(c){let d=new Uint8Array([1]);for(let u=0;u<c;u++)d=w.mul(d,new Uint8Array([1,i.exp(u)]));return d}},9460:(y,w,r)=>{const i=r(9089),p=r(7424),c=r(4662),d=r(5941),u=r(6214),t=r(6269),h=r(3361),a=r(3677),f=r(6289),g=r(1252),l=r(6254),v=r(1677),x=r(2868);function S(G,$,I){const L=G.size,P=l.getEncodedBits($,I);let O,D;for(O=0;O<15;O++)D=1==(P>>O&1),G.set(O<6?O:O<8?O+1:L-15+O,8,D,!0),G.set(8,O<8?L-O-1:O<9?15-O-1+1:15-O-1,D,!0);G.set(L-8,8,1,!0)}function Y(G,$,I,L){let P;if(Array.isArray(G))P=x.fromArray(G);else{if("string"!=typeof G)throw new Error("Invalid data");{let z=$;if(!z){const B=x.rawSplit(G);z=g.getBestVersionForData(B,I)}P=x.fromString(G,z||40)}}const O=g.getBestVersionForData(P,I);if(!O)throw new Error("The amount of data is too big to be stored in a QR Code");if($){if($<O)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+O+".\n")}else $=O;const D=function F(G,$,I){const L=new c;I.forEach(function(H){L.put(H.mode.bit,4),L.put(H.getLength(),v.getCharCountIndicator(H.mode,G)),H.write(L)});const D=8*(i.getSymbolTotalCodewords(G)-a.getTotalCodewordsCount(G,$));for(L.getLengthInBits()+4<=D&&L.put(0,4);L.getLengthInBits()%8!=0;)L.putBit(0);const U=(D-L.getLengthInBits())/8;for(let H=0;H<U;H++)L.put(H%2?17:236,8);return function j(G,$,I){const L=i.getSymbolTotalCodewords($),O=L-a.getTotalCodewordsCount($,I),D=a.getBlocksCount($,I),H=D-L%D,z=Math.floor(L/D),B=Math.floor(O/D),Q=B+1,Z=z-B,rt=new f(Z);let tt=0;const ot=new Array(D),ut=new Array(D);let dt=0;const K=new Uint8Array(G.buffer);for(let ft=0;ft<D;ft++){const gt=ft<H?B:Q;ot[ft]=K.slice(tt,tt+gt),ut[ft]=rt.encode(ot[ft]),tt+=gt,dt=Math.max(dt,gt)}const J=new Uint8Array(L);let at,ct,et=0;for(at=0;at<dt;at++)for(ct=0;ct<D;ct++)at<ot[ct].length&&(J[et++]=ot[ct][at]);for(at=0;at<Z;at++)for(ct=0;ct<D;ct++)J[et++]=ut[ct][at];return J}(L,G,$)}($,I,P),U=i.getSymbolSize($),H=new d(U);return function E(G,$){const I=G.size,L=t.getPositions($);for(let P=0;P<L.length;P++){const O=L[P][0],D=L[P][1];for(let U=-1;U<=7;U++)if(!(O+U<=-1||I<=O+U))for(let H=-1;H<=7;H++)D+H<=-1||I<=D+H||G.set(O+U,D+H,U>=0&&U<=6&&(0===H||6===H)||H>=0&&H<=6&&(0===U||6===U)||U>=2&&U<=4&&H>=2&&H<=4,!0)}}(H,$),function C(G){const $=G.size;for(let I=8;I<$-8;I++){const L=I%2==0;G.set(I,6,L,!0),G.set(6,I,L,!0)}}(H),function A(G,$){const I=u.getPositions($);for(let L=0;L<I.length;L++){const P=I[L][0],O=I[L][1];for(let D=-2;D<=2;D++)for(let U=-2;U<=2;U++)G.set(P+D,O+U,-2===D||2===D||-2===U||2===U||0===D&&0===U,!0)}}(H,$),S(H,I,0),$>=7&&function M(G,$){const I=G.size,L=g.getEncodedBits($);let P,O,D;for(let U=0;U<18;U++)P=Math.floor(U/3),O=U%3+I-8-3,D=1==(L>>U&1),G.set(P,O,D,!0),G.set(O,P,D,!0)}(H,$),function N(G,$){const I=G.size;let L=-1,P=I-1,O=7,D=0;for(let U=I-1;U>0;U-=2)for(6===U&&U--;;){for(let H=0;H<2;H++)if(!G.isReserved(P,U-H)){let z=!1;D<$.length&&(z=1==($[D]>>>O&1)),G.set(P,U-H,z),O--,-1===O&&(D++,O=7)}if(P+=L,P<0||I<=P){P-=L,L=-L;break}}}(H,D),isNaN(L)&&(L=h.getBestMask(H,S.bind(null,H,I))),h.applyMask(L,H),S(H,I,L),{modules:H,version:$,errorCorrectionLevel:I,maskPattern:L,segments:P}}w.create=function($,I){if(typeof $>"u"||""===$)throw new Error("No input text");let P,O,L=p.M;return typeof I<"u"&&(L=p.from(I.errorCorrectionLevel,p.M),P=g.from(I.version),O=h.from(I.maskPattern),I.toSJISFunc&&i.setToSJISFunction(I.toSJISFunc)),Y($,P,L,O)}},6289:(y,w,r)=>{const i=r(1744);function p(c){this.genPoly=void 0,this.degree=c,this.degree&&this.initialize(this.degree)}p.prototype.initialize=function(d){this.degree=d,this.genPoly=i.generateECPolynomial(this.degree)},p.prototype.encode=function(d){if(!this.genPoly)throw new Error("Encoder not initialized");const u=new Uint8Array(d.length+this.degree);u.set(d);const t=i.mod(u,this.genPoly),h=this.degree-t.length;if(h>0){const a=new Uint8Array(this.degree);return a.set(t,h),a}return t},y.exports=p},9359:(y,w)=>{const r="[0-9]+";let p="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";p=p.replace(/u/g,"\\u");const c="(?:(?![A-Z0-9 $%*+\\-./:]|"+p+")(?:.|[\r\n]))+";w.KANJI=new RegExp(p,"g"),w.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),w.BYTE=new RegExp(c,"g"),w.NUMERIC=new RegExp(r,"g"),w.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const d=new RegExp("^"+p+"$"),u=new RegExp("^"+r+"$"),t=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");w.testKanji=function(a){return d.test(a)},w.testNumeric=function(a){return u.test(a)},w.testAlphanumeric=function(a){return t.test(a)}},2868:(y,w,r)=>{const i=r(1677),p=r(6628),c=r(1018),d=r(4969),u=r(3264),t=r(9359),h=r(9089),a=r(243);function f(M){return unescape(encodeURIComponent(M)).length}function g(M,S,N){const F=[];let j;for(;null!==(j=M.exec(N));)F.push({data:j[0],index:j.index,mode:S,length:j[0].length});return F}function l(M){const S=g(t.NUMERIC,i.NUMERIC,M),N=g(t.ALPHANUMERIC,i.ALPHANUMERIC,M);let F,j;return h.isKanjiModeEnabled()?(F=g(t.BYTE,i.BYTE,M),j=g(t.KANJI,i.KANJI,M)):(F=g(t.BYTE_KANJI,i.BYTE,M),j=[]),S.concat(N,F,j).sort(function(G,$){return G.index-$.index}).map(function(G){return{data:G.data,mode:G.mode,length:G.length}})}function v(M,S){switch(S){case i.NUMERIC:return p.getBitsLength(M);case i.ALPHANUMERIC:return c.getBitsLength(M);case i.KANJI:return u.getBitsLength(M);case i.BYTE:return d.getBitsLength(M)}}function A(M,S){let N;const F=i.getBestModeForData(M);if(N=i.from(S,F),N!==i.BYTE&&N.bit<F.bit)throw new Error('"'+M+'" cannot be encoded with mode '+i.toString(N)+".\n Suggested mode is: "+i.toString(F));switch(N===i.KANJI&&!h.isKanjiModeEnabled()&&(N=i.BYTE),N){case i.NUMERIC:return new p(M);case i.ALPHANUMERIC:return new c(M);case i.KANJI:return new u(M);case i.BYTE:return new d(M)}}w.fromArray=function(S){return S.reduce(function(N,F){return"string"==typeof F?N.push(A(F,null)):F.data&&N.push(A(F.data,F.mode)),N},[])},w.fromString=function(S,N){const j=function E(M){const S=[];for(let N=0;N<M.length;N++){const F=M[N];switch(F.mode){case i.NUMERIC:S.push([F,{data:F.data,mode:i.ALPHANUMERIC,length:F.length},{data:F.data,mode:i.BYTE,length:F.length}]);break;case i.ALPHANUMERIC:S.push([F,{data:F.data,mode:i.BYTE,length:F.length}]);break;case i.KANJI:S.push([F,{data:F.data,mode:i.BYTE,length:f(F.data)}]);break;case i.BYTE:S.push([{data:F.data,mode:i.BYTE,length:f(F.data)}])}}return S}(l(S,h.isKanjiModeEnabled())),Y=function C(M,S){const N={},F={start:{}};let j=["start"];for(let Y=0;Y<M.length;Y++){const G=M[Y],$=[];for(let I=0;I<G.length;I++){const L=G[I],P=""+Y+I;$.push(P),N[P]={node:L,lastCount:0},F[P]={};for(let O=0;O<j.length;O++){const D=j[O];N[D]&&N[D].node.mode===L.mode?(F[D][P]=v(N[D].lastCount+L.length,L.mode)-v(N[D].lastCount,L.mode),N[D].lastCount+=L.length):(N[D]&&(N[D].lastCount=L.length),F[D][P]=v(L.length,L.mode)+4+i.getCharCountIndicator(L.mode,S))}}j=$}for(let Y=0;Y<j.length;Y++)F[j[Y]].end=0;return{map:F,table:N}}(j,N),G=a.find_path(Y.map,"start","end"),$=[];for(let I=1;I<G.length-1;I++)$.push(Y.table[G[I]].node);return w.fromArray(function x(M){return M.reduce(function(S,N){const F=S.length-1>=0?S[S.length-1]:null;return F&&F.mode===N.mode?(S[S.length-1].data+=N.data,S):(S.push(N),S)},[])}($))},w.rawSplit=function(S){return w.fromArray(l(S,h.isKanjiModeEnabled()))}},9089:(y,w)=>{let r;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];w.getSymbolSize=function(c){if(!c)throw new Error('"version" cannot be null or undefined');if(c<1||c>40)throw new Error('"version" should be in range from 1 to 40');return 4*c+17},w.getSymbolTotalCodewords=function(c){return i[c]},w.getBCHDigit=function(p){let c=0;for(;0!==p;)c++,p>>>=1;return c},w.setToSJISFunction=function(c){if("function"!=typeof c)throw new Error('"toSJISFunc" is not a valid function.');r=c},w.isKanjiModeEnabled=function(){return typeof r<"u"},w.toSJIS=function(c){return r(c)}},377:(y,w)=>{w.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}},1252:(y,w,r)=>{const i=r(9089),p=r(3677),c=r(7424),d=r(1677),u=r(377),h=i.getBCHDigit(7973);function f(v,x){return d.getCharCountIndicator(v,x)+4}function g(v,x){let E=0;return v.forEach(function(C){const A=f(C.mode,x);E+=A+C.getBitsLength()}),E}w.from=function(x,E){return u.isValid(x)?parseInt(x,10):E},w.getCapacity=function(x,E,C){if(!u.isValid(x))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=d.BYTE);const S=8*(i.getSymbolTotalCodewords(x)-p.getTotalCodewordsCount(x,E));if(C===d.MIXED)return S;const N=S-f(C,x);switch(C){case d.NUMERIC:return Math.floor(N/10*3);case d.ALPHANUMERIC:return Math.floor(N/11*2);case d.KANJI:return Math.floor(N/13);default:return Math.floor(N/8)}},w.getBestVersionForData=function(x,E){let C;const A=c.from(E,c.M);if(Array.isArray(x)){if(x.length>1)return function l(v,x){for(let E=1;E<=40;E++)if(g(v,E)<=w.getCapacity(E,x,d.MIXED))return E}(x,A);if(0===x.length)return 1;C=x[0]}else C=x;return function a(v,x,E){for(let C=1;C<=40;C++)if(x<=w.getCapacity(C,E,v))return C}(C.mode,C.getLength(),A)},w.getEncodedBits=function(x){if(!u.isValid(x)||x<7)throw new Error("Invalid QR Code version");let E=x<<12;for(;i.getBCHDigit(E)-h>=0;)E^=7973<<i.getBCHDigit(E)-h;return x<<12|E}},7030:(y,w,r)=>{const i=r(7077);w.render=function(u,t,h){let a=h,f=t;typeof a>"u"&&(!t||!t.getContext)&&(a=t,t=void 0),t||(f=function c(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),a=i.getOptions(a);const g=i.getImageWidth(u.modules.size,a),l=f.getContext("2d"),v=l.createImageData(g,g);return i.qrToImageData(v.data,u,a),function p(d,u,t){d.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=t,u.width=t,u.style.height=t+"px",u.style.width=t+"px"}(l,f,g),l.putImageData(v,0,0),f},w.renderToDataURL=function(u,t,h){let a=h;return typeof a>"u"&&(!t||!t.getContext)&&(a=t,t=void 0),a||(a={}),w.render(u,t,a).toDataURL(a.type||"image/png",(a.rendererOpts||{}).quality)}},6511:(y,w,r)=>{const i=r(7077);function p(u,t){const h=u.a/255,a=t+'="'+u.hex+'"';return h<1?a+" "+t+'-opacity="'+h.toFixed(2).slice(1)+'"':a}function c(u,t,h){let a=u+t;return typeof h<"u"&&(a+=" "+h),a}w.render=function(t,h,a){const f=i.getOptions(h),g=t.modules.size,l=t.modules.data,v=g+2*f.margin,x=f.color.light.a?"<path "+p(f.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",E="<path "+p(f.color.dark,"stroke")+' d="'+function d(u,t,h){let a="",f=0,g=!1,l=0;for(let v=0;v<u.length;v++){const x=Math.floor(v%t),E=Math.floor(v/t);!x&&!g&&(g=!0),u[v]?(l++,v>0&&x>0&&u[v-1]||(a+=g?c("M",x+h,.5+E+h):c("m",f,0),f=0,g=!1),x+1<t&&u[v+1]||(a+=c("h",l),l=0)):f++}return a}(l,g,f.margin)+'"/>',M='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+v+" "+v+'" shape-rendering="crispEdges">'+x+E+"</svg>\n";return"function"==typeof a&&a(null,M),M}},7077:(y,w)=>{function r(i){if("number"==typeof i&&(i=i.toString()),"string"!=typeof i)throw new Error("Color should be defined as hex string");let p=i.slice().replace("#","").split("");if(p.length<3||5===p.length||p.length>8)throw new Error("Invalid hex color: "+i);(3===p.length||4===p.length)&&(p=Array.prototype.concat.apply([],p.map(function(d){return[d,d]}))),6===p.length&&p.push("F","F");const c=parseInt(p.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:255&c,hex:"#"+p.slice(0,6).join("")}}w.getOptions=function(p){p||(p={}),p.color||(p.color={});const d=p.width&&p.width>=21?p.width:void 0;return{width:d,scale:d?4:p.scale||4,margin:typeof p.margin>"u"||null===p.margin||p.margin<0?4:p.margin,color:{dark:r(p.color.dark||"#000000ff"),light:r(p.color.light||"#ffffffff")},type:p.type,rendererOpts:p.rendererOpts||{}}},w.getScale=function(p,c){return c.width&&c.width>=p+2*c.margin?c.width/(p+2*c.margin):c.scale},w.getImageWidth=function(p,c){const d=w.getScale(p,c);return Math.floor((p+2*c.margin)*d)},w.qrToImageData=function(p,c,d){const u=c.modules.size,t=c.modules.data,h=w.getScale(u,d),a=Math.floor((u+2*d.margin)*h),f=d.margin*h,g=[d.color.light,d.color.dark];for(let l=0;l<a;l++)for(let v=0;v<a;v++){let x=4*(l*a+v),E=d.color.light;l>=f&&v>=f&&l<a-f&&v<a-f&&(E=g[t[Math.floor((l-f)/h)*u+Math.floor((v-f)/h)]?1:0]),p[x++]=E.r,p[x++]=E.g,p[x++]=E.b,p[x]=E.a}}},6728:(y,w,r)=>{"use strict";function i(p){for(var c in p)w.hasOwnProperty(c)||(w[c]=p[c])}Object.defineProperty(w,"__esModule",{value:!0}),i(r(7200)),i(r(3519)),i(r(5823)),i(r(1133)),i(r(4976)),i(r(6167)),i(r(9251)),i(r(8792)),i(r(9524)),i(r(4106)),i(r(1066)),i(r(3733)),i(r(7840)),i(r(8551)),i(r(5213)),i(r(713))},7200:function(y,w,r){"use strict";var i=this&&this.__extends||function(){var u=function(t,h){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var g in f)f.hasOwnProperty(g)&&(a[g]=f[g])})(t,h)};return function(t,h){function a(){this.constructor=t}u(t,h),t.prototype=null===h?Object.create(h):(a.prototype=h.prototype,new a)}}();Object.defineProperty(w,"__esModule",{value:!0});var p=r(9251),c=function(u){function t(h){var a=u.call(this)||this,g=h;return g.trigger&&(a.trigger=g.trigger),g.kick&&(a.kick=g.kick),g.drag&&(a.drag=g.drag),g.on&&(a.on=g.on),a.dragstart=a.dragStart=p.Layout.dragStart,a.dragend=a.dragEnd=p.Layout.dragEnd,a}return i(t,u),t.prototype.trigger=function(h){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(h,a){return this},t}(p.Layout);w.LayoutAdaptor=c,w.adaptor=function d(u){return new c(u)}},713:(y,w,r)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var i=r(9251),p=r(4976);w.gridify=function c(t,h,a,f){return t.cola.start(0,0,0,10,!1),function d(t,h,a,f){t.forEach(function(l){l.routerNode={name:l.name,bounds:l.bounds.inflate(-a)}}),h.forEach(function(l){l.routerNode={bounds:l.bounds.inflate(-f),children:(typeof l.groups<"u"?l.groups.map(function(v){return t.length+v.id}):[]).concat(typeof l.leaves<"u"?l.leaves.map(function(v){return v.index}):[])}});var g=t.concat(h).map(function(l,v){return l.routerNode.id=v,l.routerNode});return new p.GridRouter(g,{getChildren:function(l){return l.children},getBounds:function(l){return l.bounds}},a-f)}(t.cola.nodes(),t.cola.groups(),a,f).routeEdges(t.powerGraph.powerEdges,h,function(l){return l.source.routerNode.id},function(l){return l.target.routerNode.id})},w.powerGraphGridLayout=function u(t,h,a){var f;t.nodes.forEach(function(x,E){return x.index=E}),(new i.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(x){(f=x).groups.forEach(function(E){return E.padding=a})});var g=t.nodes.length,l=[],v=t.nodes.slice(0);return v.forEach(function(x,E){return x.index=E}),f.groups.forEach(function(x){var E=x.index=x.id+g;v.push(x),typeof x.leaves<"u"&&x.leaves.forEach(function(C){return l.push({source:E,target:C.index})}),typeof x.groups<"u"&&x.groups.forEach(function(C){return l.push({source:E,target:C.id+g})})}),f.powerEdges.forEach(function(x){l.push({source:x.source.index,target:x.target.index})}),(new i.Layout).size(h).nodes(v).links(l).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new i.Layout).convergenceThreshold(.001).size(h).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(x){(f=x).groups.forEach(function(E){E.padding=a})}).start(50,0,100,0,!1),powerGraph:f}}},3519:(y,w,r)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var i=r(3002),p=r(5085);w.d3adaptor=function c(u){return!u||function d(u){return u.version&&null!==u.version.match(/^3\./)}(u)?new i.D3StyleLayoutAdaptor:new p.D3StyleLayoutAdaptor(u)}},3002:function(y,w,r){"use strict";var i=this&&this.__extends||function(){var u=function(t,h){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var g in f)f.hasOwnProperty(g)&&(a[g]=f[g])})(t,h)};return function(t,h){function a(){this.constructor=t}u(t,h),t.prototype=null===h?Object.create(h):(a.prototype=h.prototype,new a)}}();Object.defineProperty(w,"__esModule",{value:!0});var p=r(9251),c=function(u){function t(){var h=u.call(this)||this;h.event=d3.dispatch(p.EventType[p.EventType.start],p.EventType[p.EventType.tick],p.EventType[p.EventType.end]);var a=h;return h.drag=function(){if(!g)var g=d3.behavior.drag().origin(p.Layout.dragOrigin).on("dragstart.d3adaptor",p.Layout.dragStart).on("drag.d3adaptor",function(l){p.Layout.drag(l,d3.event),a.resume()}).on("dragend.d3adaptor",p.Layout.dragEnd);if(!arguments.length)return g;this.call(g)},h}return i(t,u),t.prototype.trigger=function(h){var a={type:p.EventType[h.type],alpha:h.alpha,stress:h.stress};this.event[a.type](a)},t.prototype.kick=function(){var h=this;d3.timer(function(){return u.prototype.tick.call(h)})},t.prototype.on=function(h,a){return this.event.on("string"==typeof h?h:p.EventType[h],a),this},t}(p.Layout);w.D3StyleLayoutAdaptor=c,w.d3adaptor=function d(){return new c}},5085:function(y,w,r){"use strict";var i=this&&this.__extends||function(){var d=function(u,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,a){h.__proto__=a}||function(h,a){for(var f in a)a.hasOwnProperty(f)&&(h[f]=a[f])})(u,t)};return function(u,t){function h(){this.constructor=u}d(u,t),u.prototype=null===t?Object.create(t):(h.prototype=t.prototype,new h)}}();Object.defineProperty(w,"__esModule",{value:!0});var p=r(9251),c=function(d){function u(t){var h=d.call(this)||this;h.d3Context=t,h.event=t.dispatch(p.EventType[p.EventType.start],p.EventType[p.EventType.tick],p.EventType[p.EventType.end]);var a=h;return h.drag=function(){if(!g)var g=t.drag().subject(p.Layout.dragOrigin).on("start.d3adaptor",p.Layout.dragStart).on("drag.d3adaptor",function(l){p.Layout.drag(l,t.event),a.resume()}).on("end.d3adaptor",p.Layout.dragEnd);if(!arguments.length)return g;arguments[0].call(g)},h}return i(u,d),u.prototype.trigger=function(t){var h={type:p.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(h.type,h)},u.prototype.kick=function(){var t=this,h=this.d3Context.timer(function(){return d.prototype.tick.call(t)&&h.stop()})},u.prototype.on=function(t,h){return this.event.on("string"==typeof t?t:p.EventType[t],h),this},u}(p.Layout);w.D3StyleLayoutAdaptor=c},5823:(y,w)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var r=function(){function c(){this.locks={}}return c.prototype.add=function(d,u){this.locks[d]=u},c.prototype.clear=function(){this.locks={}},c.prototype.isEmpty=function(){for(var d in this.locks)return!1;return!0},c.prototype.apply=function(d){for(var u in this.locks)d(Number(u),this.locks[u])},c}();w.Locks=r;var i=function(){function c(d,u,t){void 0===t&&(t=null),this.D=u,this.G=t,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new p,this.project=null,this.x=d,this.k=d.length;var h=this.n=d[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new r,this.minD=Number.MAX_VALUE;for(var f,a=h;a--;)for(f=h;--f>a;){var g=u[a][f];g>0&&g<this.minD&&(this.minD=g)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),a=this.k;a--;){for(this.g[a]=new Array(h),this.H[a]=new Array(h),f=h;f--;)this.H[a][f]=new Array(h);this.Hd[a]=new Array(h),this.a[a]=new Array(h),this.b[a]=new Array(h),this.c[a]=new Array(h),this.d[a]=new Array(h),this.e[a]=new Array(h),this.ia[a]=new Array(h),this.ib[a]=new Array(h),this.xtmp[a]=new Array(h)}}return c.createSquareMatrix=function(d,u){for(var t=new Array(d),h=0;h<d;++h){t[h]=new Array(d);for(var a=0;a<d;++a)t[h][a]=u(h,a)}return t},c.prototype.offsetDir=function(){for(var d=this,u=new Array(this.k),t=0,h=0;h<this.k;++h){var a=u[h]=this.random.getNextBetween(.01,1)-.5;t+=a*a}return t=Math.sqrt(t),u.map(function(f){return f*(d.minD/t)})},c.prototype.computeDerivatives=function(d){var u=this,t=this.n;if(!(t<1)){for(var h,a=new Array(this.k),f=new Array(this.k),g=new Array(this.k),l=0,v=0;v<t;++v){for(h=0;h<this.k;++h)g[h]=this.g[h][v]=0;for(var x=0;x<t;++x)if(v!==x){for(var E=t;E--;){var C=0;for(h=0;h<this.k;++h){var A=a[h]=d[h][v]-d[h][x];C+=f[h]=A*A}if(C>1e-9)break;var M=this.offsetDir();for(h=0;h<this.k;++h)d[h][x]+=M[h]}var S=Math.sqrt(C),N=this.D[v][x],F=null!=this.G?this.G[v][x]:1;if(F>1&&S>N||!isFinite(N)){for(h=0;h<this.k;++h)this.H[h][v][x]=0;continue}F>1&&(F=1);var j=N*N,Y=2*F*(S-N)/(j*S),G=S*S*S,$=2*-F/(j*G);for(isFinite(Y)||console.log(Y),h=0;h<this.k;++h)this.g[h][v]+=a[h]*Y,g[h]-=this.H[h][v][x]=$*(G+N*(f[h]-C)+S*C)}for(h=0;h<this.k;++h)l=Math.max(l,this.H[h][v][v]=g[h])}var I=this.snapGridSize/2,L=this.snapGridSize,O=this.snapStrength/(I*I),D=this.numGridSnapNodes;for(v=0;v<D;++v)for(h=0;h<this.k;++h){var U=this.x[h][v],H=U/L,z=H%1,B=H-z;-I<(A=Math.abs(z)<=.5?U-B*L:U>0?U-(B+1)*L:U-(B-1)*L)&&A<=I&&(this.scaleSnapByMaxH?(this.g[h][v]+=l*O*A,this.H[h][v][v]+=l*O):(this.g[h][v]+=O*A,this.H[h][v][v]+=O))}this.locks.isEmpty()||this.locks.apply(function(Z,rt){for(h=0;h<u.k;++h)u.H[h][Z][Z]+=l,u.g[h][Z]-=l*(rt[h]-d[h][Z])})}},c.dotProd=function(d,u){for(var t=0,h=d.length;h--;)t+=d[h]*u[h];return t},c.rightMultiply=function(d,u,t){for(var h=d.length;h--;)t[h]=c.dotProd(d[h],u)},c.prototype.computeStepSize=function(d){for(var u=0,t=0,h=0;h<this.k;++h)u+=c.dotProd(this.g[h],d[h]),c.rightMultiply(this.H[h],d[h],this.Hd[h]),t+=c.dotProd(d[h],this.Hd[h]);return 0!==t&&isFinite(t)?1*u/t:0},c.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var d=this.computeStepSize(this.g),u=0;u<this.k;++u)this.takeDescentStep(this.x[u],this.g[u],d);return this.computeStress()},c.copy=function(d,u){for(var t=d.length,h=u[0].length,a=0;a<t;++a)for(var f=0;f<h;++f)u[a][f]=d[a][f]},c.prototype.stepAndProject=function(d,u,t,h){c.copy(d,u),this.takeDescentStep(u[0],t[0],h),this.project&&this.project[0](d[0],d[1],u[0]),this.takeDescentStep(u[1],t[1],h),this.project&&this.project[1](u[0],d[1],u[1]);for(var a=2;a<this.k;a++)this.takeDescentStep(u[a],t[a],h)},c.mApply=function(d,u,t){for(var h=d;h-- >0;)for(var a=u;a-- >0;)t(h,a)},c.prototype.matrixApply=function(d){c.mApply(this.k,this.n,d)},c.prototype.computeNextPosition=function(d,u){var t=this;this.computeDerivatives(d);var h=this.computeStepSize(this.g);if(this.stepAndProject(d,u,this.g,h),this.project){this.matrixApply(function(f,g){return t.e[f][g]=d[f][g]-u[f][g]});var a=this.computeStepSize(this.e);a=Math.max(.2,Math.min(a,1)),this.stepAndProject(d,u,this.e,a)}},c.prototype.run=function(d){for(var u=Number.MAX_VALUE,t=!1;!t&&d-- >0;){var h=this.rungeKutta();t=Math.abs(u/h-1)<this.threshold,u=h}return u},c.prototype.rungeKutta=function(){var d=this;this.computeNextPosition(this.x,this.a),c.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),c.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var u=0;return this.matrixApply(function(t,h){var a=(d.a[t][h]+2*d.b[t][h]+2*d.c[t][h]+d.d[t][h])/6,f=d.x[t][h]-a;u+=f*f,d.x[t][h]=a}),u},c.mid=function(d,u,t){c.mApply(d.length,d[0].length,function(h,a){return t[h][a]=d[h][a]+(u[h][a]-d[h][a])/2})},c.prototype.takeDescentStep=function(d,u,t){for(var h=0;h<this.n;++h)d[h]=d[h]-t*u[h]},c.prototype.computeStress=function(){for(var d=0,u=0,t=this.n-1;u<t;++u)for(var h=u+1,a=this.n;h<a;++h){for(var f=0,g=0;g<this.k;++g){var l=this.x[g][u]-this.x[g][h];f+=l*l}f=Math.sqrt(f);var v=this.D[u][h];if(isFinite(v)){var x=v-f;d+=x*x/(v*v)}}return d},c.zeroDistance=1e-10,c}();w.Descent=i;var p=function(){function c(d){void 0===d&&(d=1),this.seed=d,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return c.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},c.prototype.getNextBetween=function(d,u){return d+this.getNext()*(u-d)},c}();w.PseudoRandom=p},1133:function(y,w,r){"use strict";var i=this&&this.__extends||function(){var z=function(B,Q){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,rt){Z.__proto__=rt}||function(Z,rt){for(var tt in rt)rt.hasOwnProperty(tt)&&(Z[tt]=rt[tt])})(B,Q)};return function(B,Q){function Z(){this.constructor=B}z(B,Q),B.prototype=null===Q?Object.create(Q):(Z.prototype=Q.prototype,new Z)}}();Object.defineProperty(w,"__esModule",{value:!0});var p=r(7840),c=function(){return function z(){}}();w.Point=c;var d=function(){return function z(B,Q,Z,rt){this.x1=B,this.y1=Q,this.x2=Z,this.y2=rt}}();w.LineSegment=d;var u=function(z){function B(){return null!==z&&z.apply(this,arguments)||this}return i(B,z),B}(c);function t(z,B,Q){return(B.x-z.x)*(Q.y-z.y)-(Q.x-z.x)*(B.y-z.y)}function h(z,B,Q){return t(z,B,Q)>0}function a(z,B,Q){return t(z,B,Q)<0}function x(z,B){var Q=B.slice(0);return Q.push(B[0]),{rtan:E(z,Q),ltan:C(z,Q)}}function E(z,B){var Z,rt,tt,ut,Q=B.length-1;if(a(z,B[1],B[0])&&!h(z,B[Q-1],B[0]))return 0;for(Z=0,rt=Q;;){if(rt-Z==1)return h(z,B[Z],B[rt])?Z:rt;if((ut=a(z,B[(tt=Math.floor((Z+rt)/2))+1],B[tt]))&&!h(z,B[tt-1],B[tt]))return tt;h(z,B[Z+1],B[Z])?ut||h(z,B[Z],B[tt])?rt=tt:Z=tt:ut&&a(z,B[Z],B[tt])?rt=tt:Z=tt}}function C(z,B){var Z,rt,tt,ut,Q=B.length-1;if(h(z,B[Q-1],B[0])&&!a(z,B[1],B[0]))return 0;for(Z=0,rt=Q;;){if(rt-Z==1)return a(z,B[Z],B[rt])?Z:rt;if(ut=a(z,B[(tt=Math.floor((Z+rt)/2))+1],B[tt]),h(z,B[tt-1],B[tt])&&!ut)return tt;a(z,B[Z+1],B[Z])?ut?a(z,B[Z],B[tt])?rt=tt:Z=tt:rt=tt:ut?Z=tt:h(z,B[Z],B[tt])?rt=tt:Z=tt}}function A(z,B,Q,Z,rt,tt){var ot,ut;ut=Z(z[ot=Q(B[0],z)],B);for(var dt=!1;!dt;){for(dt=!0;ot===z.length-1&&(ot=0),!rt(B[ut],z[ot],z[ot+1]);)++ot;for(;0===ut&&(ut=B.length-1),!tt(z[ot],B[ut],B[ut-1]);)--ut,dt=!1}return{t1:ot,t2:ut}}function S(z,B){return A(z,B,E,C,h,a)}w.PolyPoint=u,w.isLeft=t,w.ConvexHull=function f(z){var Z,B=z.slice(0).sort(function(at,ct){return at.x!==ct.x?ct.x-at.x:ct.y-at.y}),Q=z.length,tt=B[0].x;for(Z=1;Z<Q&&B[Z].x===tt;++Z);var ot=Z-1,ut=[];if(ut.push(B[0]),ot===Q-1)B[ot].y!==B[0].y&&ut.push(B[ot]);else{var dt,K=Q-1,J=B[Q-1].x;for(Z=Q-2;Z>=0&&B[Z].x===J;Z--);for(dt=Z+1,Z=ot;++Z<=dt;)if(!(t(B[0],B[dt],B[Z])>=0&&Z<dt)){for(;ut.length>1&&!(t(ut[ut.length-2],ut[ut.length-1],B[Z])>0);)ut.length-=1;0!=Z&&ut.push(B[Z])}K!=dt&&ut.push(B[K]);var et=ut.length;for(Z=dt;--Z>=ot;)if(!(t(B[K],B[ot],B[Z])>=0&&Z>ot)){for(;ut.length>et&&!(t(ut[ut.length-2],ut[ut.length-1],B[Z])>0);)ut.length-=1;0!=Z&&ut.push(B[Z])}}return ut},w.clockwiseRadialSweep=function g(z,B,Q){B.slice(0).sort(function(Z,rt){return Math.atan2(Z.y-z.y,Z.x-z.x)-Math.atan2(rt.y-z.y,rt.x-z.x)}).forEach(Q)},w.tangent_PolyPolyC=A,w.LRtangent_PolyPolyC=function M(z,B){var Q=S(B,z);return{t1:Q.t2,t2:Q.t1}},w.RLtangent_PolyPolyC=S,w.LLtangent_PolyPolyC=function N(z,B){return A(z,B,C,C,a,a)},w.RRtangent_PolyPolyC=function F(z,B){return A(z,B,E,E,h,h)};var j=function(){return function z(B,Q){this.t1=B,this.t2=Q}}();w.BiTangent=j;var Y=function(){return function z(){}}();w.BiTangents=Y;var G=function(z){function B(){return null!==z&&z.apply(this,arguments)||this}return i(B,z),B}(c);w.TVGPoint=G;var $=function(){return function z(B,Q,Z,rt){this.id=B,this.polyid=Q,this.polyvertid=Z,this.p=rt,rt.vv=this}}();w.VisibilityVertex=$;var I=function(){function z(B,Q){this.source=B,this.target=Q}return z.prototype.length=function(){var B=this.source.p.x-this.target.p.x,Q=this.source.p.y-this.target.p.y;return Math.sqrt(B*B+Q*Q)},z}();w.VisibilityEdge=I;var L=function(){function z(B,Q){if(this.P=B,this.V=[],this.E=[],Q)this.V=Q.V.slice(0),this.E=Q.E.slice(0);else{for(var Z=B.length,rt=0;rt<Z;rt++){for(var tt=B[rt],ot=0;ot<tt.length;++ot){var dt=new $(this.V.length,rt,ot,tt[ot]);this.V.push(dt),ot>0&&this.E.push(new I(tt[ot-1].vv,dt))}tt.length>1&&this.E.push(new I(tt[0].vv,tt[tt.length-1].vv))}for(rt=0;rt<Z-1;rt++){var K=B[rt];for(ot=rt+1;ot<Z;ot++){var J=B[ot],et=O(K,J);for(var at in et){var ct=et[at];this.addEdgeIfVisible(K[ct.t1],J[ct.t2],rt,ot)}}}}}return z.prototype.addEdgeIfVisible=function(B,Q,Z,rt){this.intersectsPolys(new d(B.x,B.y,Q.x,Q.y),Z,rt)||this.E.push(new I(B.vv,Q.vv))},z.prototype.addPoint=function(B,Q){var Z=this.P.length;this.V.push(new $(this.V.length,Z,0,B));for(var rt=0;rt<Z;++rt)if(rt!==Q){var tt=this.P[rt],ot=x(B,tt);this.addEdgeIfVisible(B,tt[ot.ltan],Q,rt),this.addEdgeIfVisible(B,tt[ot.rtan],Q,rt)}return B.vv},z.prototype.intersectsPolys=function(B,Q,Z){for(var rt=0,tt=this.P.length;rt<tt;++rt)if(rt!=Q&&rt!=Z&&P(B,this.P[rt]).length>0)return!0;return!1},z}();function P(z,B){for(var Q=[],Z=1,rt=B.length;Z<rt;++Z){var tt=p.Rectangle.lineIntersection(z.x1,z.y1,z.x2,z.y2,B[Z-1].x,B[Z-1].y,B[Z].x,B[Z].y);tt&&Q.push(tt)}return Q}function O(z,B){for(var Q=z.length-1,Z=B.length-1,rt=new Y,tt=0;tt<Q;++tt)for(var ot=0;ot<Z;++ot){var ut=z[0==tt?Q-1:tt-1],dt=z[tt],K=z[tt+1],J=B[0==ot?Z-1:ot-1],et=B[ot],at=B[ot+1],ct=t(ut,dt,et),ft=t(dt,J,et),gt=t(dt,et,at),yt=t(J,et,dt),Ot=t(et,ut,dt),wt=t(et,dt,K);ct>=0&&ft>=0&&gt<0&&yt>=0&&Ot>=0&&wt<0?rt.ll=new j(tt,ot):ct<=0&&ft<=0&&gt>0&&yt<=0&&Ot<=0&&wt>0?rt.rr=new j(tt,ot):ct<=0&&ft>0&&gt<=0&&yt>=0&&Ot<0&&wt>=0?rt.rl=new j(tt,ot):ct>=0&&ft<0&&gt>=0&&yt<=0&&Ot>0&&wt<=0&&(rt.lr=new j(tt,ot))}return rt}function U(z,B){return!z.every(function(Q){return!function D(z,B){for(var Q=1,Z=B.length;Q<Z;++Q)if(a(B[Q-1],B[Q],z))return!1;return!0}(Q,B)})}w.TangentVisibilityGraph=L,w.tangents=O,w.polysOverlap=function H(z,B){if(U(z,B)||U(B,z))return!0;for(var Q=1,Z=z.length;Q<Z;++Q){var rt=z[Q],tt=z[Q-1];if(P(new d(tt.x,tt.y,rt.x,rt.y),B).length>0)return!0}return!1}},4976:(y,w,r)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var i=r(7840),p=r(5213),c=r(8551),d=function(){return function a(f,g,l){this.id=f,this.rect=g,this.children=l,this.leaf=typeof l>"u"||0===l.length}}();w.NodeWrapper=d;var u=function(){return function a(f,g,l,v,x){void 0===v&&(v=null),void 0===x&&(x=null),this.id=f,this.x=g,this.y=l,this.node=v,this.line=x}}();w.Vert=u;var t=function(){function a(f,g){this.s=f,this.t=g;var l=a.findMatch(f,g),v=g.slice(0).reverse(),x=a.findMatch(f,v);l.length>=x.length?(this.length=l.length,this.si=l.si,this.ti=l.ti,this.reversed=!1):(this.length=x.length,this.si=x.si,this.ti=g.length-x.ti-x.length,this.reversed=!0)}return a.findMatch=function(f,g){for(var l=f.length,v=g.length,x={length:0,si:-1,ti:-1},E=new Array(l),C=0;C<l;C++){E[C]=new Array(v);for(var A=0;A<v;A++)if(f[C]===g[A]){var M=E[C][A]=0===C||0===A?1:E[C-1][A-1]+1;M>x.length&&(x.length=M,x.si=C-M+1,x.ti=A-M+1)}else E[C][A]=0}return x},a.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},a}();w.LongestCommonSubsequence=t;var h=function(){function a(f,g,l){var v=this;void 0===l&&(l=12),this.originalnodes=f,this.groupPadding=l,this.leaves=null,this.nodes=f.map(function(G,$){return new d($,g.getBounds(G),g.getChildren(G))}),this.leaves=this.nodes.filter(function(G){return G.leaf}),this.groups=this.nodes.filter(function(G){return!G.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(G){return G.children.forEach(function($){return v.nodes[$].parent=G})}),this.root={children:[]},this.nodes.forEach(function(G){typeof G.parent>"u"&&(G.parent=v.root,v.root.children.push(G.id)),G.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(G,$){return v.getDepth(G)-v.getDepth($)}),this.backToFront.slice(0).reverse().filter(function(G){return!G.leaf}).forEach(function(G){var $=i.Rectangle.empty();G.children.forEach(function(I){return $=$.union(v.nodes[I].rect)}),G.rect=$.inflate(v.groupPadding)});var E=this.midPoints(this.cols.map(function(G){return G.pos})),C=this.midPoints(this.rows.map(function(G){return G.pos})),A=E[0],M=E[E.length-1],S=C[0],N=C[C.length-1],F=this.rows.map(function(G){return{x1:A,x2:M,y1:G.pos,y2:G.pos}}).concat(C.map(function(G){return{x1:A,x2:M,y1:G,y2:G}})),j=this.cols.map(function(G){return{x1:G.pos,x2:G.pos,y1:S,y2:N}}).concat(E.map(function(G){return{x1:G,x2:G,y1:S,y2:N}})),Y=F.concat(j);Y.forEach(function(G){return G.verts=[]}),this.verts=[],this.edges=[],F.forEach(function(G){return j.forEach(function($){var I=new u(v.verts.length,$.x1,G.y1);G.verts.push(I),$.verts.push(I),v.verts.push(I);for(var L=v.backToFront.length;L-- >0;){var P=v.backToFront[L],O=P.rect,D=Math.abs(I.x-O.cx()),U=Math.abs(I.y-O.cy());if(D<O.width()/2&&U<O.height()/2){I.node=P;break}}})}),Y.forEach(function(G,$){v.nodes.forEach(function(U,H){U.rect.lineIntersections(G.x1,G.y1,G.x2,G.y2).forEach(function(z,B){var Q=new u(v.verts.length,z.x,z.y,U,G);v.verts.push(Q),G.verts.push(Q),U.ports.push(Q)})});var I=Math.abs(G.y1-G.y2)<.1,L=function(U,H){return I?H.x-U.x:H.y-U.y};G.verts.sort(L);for(var P=1;P<G.verts.length;P++){var O=G.verts[P-1],D=G.verts[P];O.node&&O.node===D.node&&O.node.leaf||v.edges.push({source:O.id,target:D.id,length:Math.abs(L(O,D))})}})}return a.prototype.avg=function(f){return f.reduce(function(g,l){return g+l})/f.length},a.prototype.getGridLines=function(f){for(var g=[],l=this.leaves.slice(0,this.leaves.length);l.length>0;){var v=l.filter(function(E){return E.rect["overlap"+f.toUpperCase()](l[0].rect)}),x={nodes:v,pos:this.avg(v.map(function(E){return E.rect["c"+f]()}))};g.push(x),x.nodes.forEach(function(E){return l.splice(l.indexOf(E),1)})}return g.sort(function(E,C){return E.pos-C.pos}),g},a.prototype.getDepth=function(f){for(var g=0;f.parent!==this.root;)g++,f=f.parent;return g},a.prototype.midPoints=function(f){for(var g=f[1]-f[0],l=[f[0]-g/2],v=1;v<f.length;v++)l.push((f[v]+f[v-1])/2);return l.push(f[f.length-1]+g/2),l},a.prototype.findLineage=function(f){var g=[f];do{g.push(f=f.parent)}while(f!==this.root);return g.reverse()},a.prototype.findAncestorPathBetween=function(f,g){for(var l=this.findLineage(f),v=this.findLineage(g),x=0;l[x]===v[x];)x++;return{commonAncestor:l[x-1],lineages:l.slice(x).concat(v.slice(x))}},a.prototype.siblingObstacles=function(f,g){var l=this,v=this.findAncestorPathBetween(f,g),x={};v.lineages.forEach(function(C){return x[C.id]={}});var E=v.commonAncestor.children.filter(function(C){return!(C in x)});return v.lineages.filter(function(C){return C.parent!==v.commonAncestor}).forEach(function(C){return E=E.concat(C.parent.children.filter(function(A){return A!==C.id}))}),E.map(function(C){return l.nodes[C]})},a.getSegmentSets=function(f,g,l){for(var v=[],x=0;x<f.length;x++)for(var E=f[x],C=0;C<E.length;C++)(A=E[C]).edgeid=x,A.i=C,Math.abs(A[1][g]-A[0][g])<.1&&v.push(A);v.sort(function(j,Y){return j[0][g]-Y[0][g]});for(var S=[],N=null,F=0;F<v.length;F++){var A=v[F];(!N||Math.abs(A[0][g]-N.pos)>.1)&&S.push(N={pos:A[0][g],segments:[]}),N.segments.push(A)}return S},a.nudgeSegs=function(f,g,l,v,x,E){var C=v.length;if(!(C<=1)){for(var A=v.map(function(P){return new p.Variable(P[0][f])}),M=[],S=0;S<C;S++)for(var N=0;N<C;N++)if(S!==N){var F=v[S],Y=F.edgeid,G=v[N].edgeid,$=-1,I=-1;"x"==f?x(Y,G)&&(F[0][g]<F[1][g]?($=N,I=S):($=S,I=N)):x(Y,G)&&(F[0][g]<F[1][g]?($=S,I=N):($=N,I=S)),$>=0&&M.push(new p.Constraint(A[$],A[I],E))}new p.Solver(A,M).solve(),A.forEach(function(P,O){var D=v[O],U=P.position();D[0][f]=D[1][f]=U;var H=l[D.edgeid];D.i>0&&(H[D.i-1][1][f]=U),D.i<H.length-1&&(H[D.i+1][0][f]=U)})}},a.nudgeSegments=function(f,g,l,v,x){for(var E=a.getSegmentSets(f,g,l),C=0;C<E.length;C++){for(var A=E[C],M=[],S=0;S<A.segments.length;S++){var N=A.segments[S];M.push({type:0,s:N,pos:Math.min(N[0][l],N[1][l])}),M.push({type:1,s:N,pos:Math.max(N[0][l],N[1][l])})}M.sort(function(Y,G){return Y.pos-G.pos+Y.type-G.type});var F=[],j=0;M.forEach(function(Y){0===Y.type?(F.push(Y.s),j++):j--,0==j&&(a.nudgeSegs(g,l,f,F,v,x),F=[])})}},a.prototype.routeEdges=function(f,g,l,v){var x=this,E=f.map(function(M){return x.route(l(M),v(M))}),C=a.orderEdges(E),A=E.map(function(M){return a.makeSegments(M)});return a.nudgeSegments(A,"x","y",C,g),a.nudgeSegments(A,"y","x",C,g),a.unreverseEdges(A,E),A},a.unreverseEdges=function(f,g){f.forEach(function(l,v){g[v].reversed&&(l.reverse(),l.forEach(function(E){E.reverse()}))})},a.angleBetween2Lines=function(f,g){var l=Math.atan2(f[0].y-f[1].y,f[0].x-f[1].x),v=Math.atan2(g[0].y-g[1].y,g[0].x-g[1].x),x=l-v;return(x>Math.PI||x<-Math.PI)&&(x=v-l),x},a.isLeft=function(f,g,l){return(g.x-f.x)*(l.y-f.y)-(g.y-f.y)*(l.x-f.x)<=0},a.getOrder=function(f){for(var g={},l=0;l<f.length;l++){var v=f[l];typeof g[v.l]>"u"&&(g[v.l]={}),g[v.l][v.r]=!0}return function(x,E){return typeof g[x]<"u"&&g[x][E]}},a.orderEdges=function(f){for(var g=[],l=0;l<f.length-1;l++)for(var v=l+1;v<f.length;v++){var A,M,S,x=f[l],E=f[v],C=new t(x,E);if(0!==C.length){if(C.reversed&&(E.reverse(),E.reversed=!0,C=new t(x,E)),(C.si<=0||C.ti<=0)&&(C.si+C.length>=x.length||C.ti+C.length>=E.length)){g.push({l,r:v});continue}C.si+C.length>=x.length||C.ti+C.length>=E.length?(A=x[C.si+1],S=x[C.si-1],M=E[C.ti-1]):(A=x[C.si+C.length-2],M=x[C.si+C.length],S=E[C.ti+C.length]),a.isLeft(A,M,S)?g.push({l:v,r:l}):g.push({l,r:v})}}return a.getOrder(g)},a.makeSegments=function(f){function g(M){return{x:M.x,y:M.y}}for(var v=[],x=g(f[0]),E=1;E<f.length;E++){var C=g(f[E]),A=E<f.length-1?f[E+1]:null;(!A||(M=x,S=C,N=A,!(Math.abs((S.x-M.x)*(N.y-M.y)-(S.y-M.y)*(N.x-M.x))<.001)))&&(v.push([x,C]),x=C)}var M,S,N;return v},a.prototype.route=function(f,g){var l=this,v=this.nodes[f],x=this.nodes[g];this.obstacles=this.siblingObstacles(v,x);var E={};this.obstacles.forEach(function(I){return E[I.id]=I}),this.passableEdges=this.edges.filter(function(I){var L=l.verts[I.source],P=l.verts[I.target];return!(L.node&&L.node.id in E||P.node&&P.node.id in E)});for(var C=1;C<v.ports.length;C++)this.passableEdges.push({source:v.ports[0].id,target:v.ports[C].id,length:0});for(C=1;C<x.ports.length;C++)this.passableEdges.push({source:x.ports[0].id,target:x.ports[C].id,length:0});var $=new c.Calculator(this.verts.length,this.passableEdges,function(I){return I.source},function(I){return I.target},function(I){return I.length}).PathFromNodeToNodeWithPrevCost(v.ports[0].id,x.ports[0].id,function(I,L,P){var O=l.verts[I],D=l.verts[L],U=l.verts[P],H=Math.abs(U.x-O.x),z=Math.abs(U.y-O.y);return O.node===v&&O.node===D.node||D.node===x&&D.node===U.node?0:H>1&&z>1?1e3:0}).reverse().map(function(I){return l.verts[I]});return $.push(this.nodes[x.id].ports[0]),$.filter(function(I,L){return!(L<$.length-1&&$[L+1].node===v&&I.node===v||L>0&&I.node===x&&$[L-1].node===x)})},a.getRoutePath=function(f,g,l,v){var C,A,M,H,z,x={routepath:"M "+f[0][0].x+" "+f[0][0].y+" ",arrowpath:""};if(f.length>1)for(var E=0;E<f.length;E++){var S=(A=(C=f[E])[1].x)-C[0].x,N=(M=C[1].y)-C[0].y;if(E<f.length-1){Math.abs(S)>0?A-=S/Math.abs(S)*g:M-=N/Math.abs(N)*g,x.routepath+="L "+A+" "+M+" ";var F=f[E+1],j=F[0].x,Y=F[0].y;S=F[1].x-j,N=F[1].y-Y;var L,P,I=a.angleBetween2Lines(C,F)<0?1:0;Math.abs(S)>0?(L=j+S/Math.abs(S)*g,P=Y):(L=j,P=Y+N/Math.abs(N)*g);var O=Math.abs(L-A),D=Math.abs(P-M);x.routepath+="A "+O+" "+D+" 0 0 "+I+" "+L+" "+P+" "}else{var U=[A,M];Math.abs(S)>0?(H=[A-=S/Math.abs(S)*v,M+l],z=[A,M-l]):(H=[A+l,M-=N/Math.abs(N)*v],z=[A-l,M]),x.routepath+="L "+A+" "+M+" ",v>0&&(x.arrowpath="M "+U[0]+" "+U[1]+" L "+H[0]+" "+H[1]+" L "+z[0]+" "+z[1])}}else S=(A=(C=f[0])[1].x)-C[0].x,N=(M=C[1].y)-C[0].y,U=[A,M],Math.abs(S)>0?(H=[A-=S/Math.abs(S)*v,M+l],z=[A,M-l]):(H=[A+l,M-=N/Math.abs(N)*v],z=[A-l,M]),x.routepath+="L "+A+" "+M+" ",v>0&&(x.arrowpath="M "+U[0]+" "+U[1]+" L "+H[0]+" "+H[1]+" L "+z[0]+" "+z[1]);return x},a}();w.GridRouter=h},6167:(y,w)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var r_GOLDEN_SECTION=(1+Math.sqrt(5))/2;w.applyPacking=function i(c,d,u,E,x,a){void 0===x&&(x=1),void 0===a&&(a=!0);var f=0,g=0,l=d,v=u,C=(x=typeof x<"u"?x:1,E=typeof E<"u"?E:0,0),A=0,M=0,S=0,N=[];function G(P,O){N=[],C=0,A=0,S=g;for(var D=0;D<P.length;D++)$(P[D],O);return Math.abs(function L(){return C/A}()-x)}function $(P,O){for(var D=void 0,U=0;U<N.length;U++)if(N[U].space_left>=P.height&&N[U].x+N[U].width+P.width+10-O<=1e-4){D=N[U];break}N.push(P),void 0!==D?(P.x=D.x+D.width+10,P.y=D.bottom,P.space_left=P.height,P.bottom=P.y,D.space_left-=P.height+10,D.bottom+=P.height+10):(P.y=S,S+=P.height+10,P.x=f,P.bottom=P.y,P.space_left=P.height),P.y+P.height-A>-1e-4&&(A=P.y+P.height-g),P.x+P.width-C>-1e-4&&(C=P.x+P.width-f)}0!=c.length&&(function F(P){P.forEach(function(D){!function O(D){var U=Number.MAX_VALUE,H=Number.MAX_VALUE,z=0,B=0;D.array.forEach(function(Q){var Z=typeof Q.width<"u"?Q.width:E,rt=typeof Q.height<"u"?Q.height:E;Z/=2,rt/=2,z=Math.max(Q.x+Z,z),U=Math.min(Q.x-Z,U),B=Math.max(Q.y+rt,B),H=Math.min(Q.y-rt,H)}),D.width=z-U,D.height=B-H}(D)})}(c),function Y(P,O){var D=Number.POSITIVE_INFINITY,U=0;P.sort(function(K,J){return J.height-K.height});for(var H=ut=M=P.reduce(function(K,J){return K.width<J.width?K.width:J.width}),z=dt=function I(P){var O=0;return P.forEach(function(D){return O+=D.width+10}),O}(P),B=0,Q=Number.MAX_VALUE,Z=Number.MAX_VALUE,rt=-1,tt=Number.MAX_VALUE,ot=Number.MAX_VALUE;tt>M||ot>1e-4;){if(1!=rt){var ut=z-(z-H)/r_GOLDEN_SECTION;Q=G(P,ut)}if(0!=rt){var dt=H+(z-H)/r_GOLDEN_SECTION;Z=G(P,dt)}if(tt=Math.abs(ut-dt),ot=Math.abs(Q-Z),Q<D&&(D=Q,U=ut),Z<D&&(D=Z,U=dt),Q>Z?(H=ut,ut=dt,Q=Z,rt=1):(z=dt,dt=ut,Z=Q,rt=0),B++>100)break}G(P,U)}(c),a&&function j(P){P.forEach(function(O){var D={x:0,y:0};O.array.forEach(function(z){D.x+=z.x,D.y+=z.y}),D.x/=O.array.length,D.y/=O.array.length;var H_x=O.x-(D.x-O.width/2)+l/2-C/2,H_y=O.y-(D.y-O.height/2)+v/2-A/2;O.array.forEach(function(z){z.x+=H_x,z.y+=H_y})})}(c))},w.separateGraphs=function p(c,d){for(var u={},t={},h=[],a=0,f=0;f<d.length;f++){var g=d[f],l=g.source,v=g.target;t[l.index]?t[l.index].push(v):t[l.index]=[v],t[v.index]?t[v.index].push(l):t[v.index]=[l]}for(f=0;f<c.length;f++){var x=c[f];u[x.index]||E(x,!0)}function E(C,A){if(void 0===u[C.index]){A&&(a++,h.push({array:[]})),u[C.index]=a,h[a-1].array.push(C);var M=t[C.index];if(M)for(var S=0;S<M.length;S++)E(M[S],!1)}}return h}},9251:(y,w,r)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var a,l,i=r(4106),p=r(9524),c=r(5823),d=r(7840),u=r(8551),t=r(1133),h=r(6167);function f(l){return typeof l.leaves<"u"||typeof l.groups<"u"}(l=a=w.EventType||(w.EventType={}))[l.start=0]="start",l[l.tick=1]="tick",l[l.end=2]="end";var g=function(){function l(){var v=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:l.getSourceIndex,getTargetIndex:l.getTargetIndex,setLength:l.setLinkLength,getType:function(x){return"function"==typeof v._linkType?v._linkType(x):0}}}return l.prototype.on=function(v,x){return this.event||(this.event={}),"string"==typeof v?this.event[a[v]]=x:this.event[v]=x,this},l.prototype.trigger=function(v){this.event&&typeof this.event[v.type]<"u"&&this.event[v.type](v)},l.prototype.kick=function(){for(;!this.tick(););},l.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:a.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var E,C,v=this._nodes.length;for(this._descent.locks.clear(),C=0;C<v;++C)(E=this._nodes[C]).fixed&&((typeof E.px>"u"||typeof E.py>"u")&&(E.px=E.x,E.py=E.y),this._descent.locks.add(C,[E.px,E.py]));var M=this._descent.rungeKutta();return 0===M?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=M),this._lastStress=M,this.updateNodePositions(),this.trigger({type:a.tick,alpha:this._alpha,stress:this._lastStress}),!1},l.prototype.updateNodePositions=function(){for(var E,v=this._descent.x[0],x=this._descent.x[1],C=this._nodes.length;C--;)(E=this._nodes[C]).x=v[C],E.y=x[C]},l.prototype.nodes=function(v){if(!v){if(0===this._nodes.length&&this._links.length>0){var x=0;this._links.forEach(function(C){x=Math.max(x,C.source,C.target)}),this._nodes=new Array(++x);for(var E=0;E<x;++E)this._nodes[E]={}}return this._nodes}return this._nodes=v,this},l.prototype.groups=function(v){var x=this;return v?(this._groups=v,this._rootGroup={},this._groups.forEach(function(E){typeof E.padding>"u"&&(E.padding=1),typeof E.leaves<"u"&&E.leaves.forEach(function(C,A){"number"==typeof C&&((E.leaves[A]=x._nodes[C]).parent=E)}),typeof E.groups<"u"&&E.groups.forEach(function(C,A){"number"==typeof C&&((E.groups[A]=x._groups[C]).parent=E)})}),this._rootGroup.leaves=this._nodes.filter(function(E){return typeof E.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(E){return typeof E.parent>"u"}),this):this._groups},l.prototype.powerGraphGroups=function(v){var x=i.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(x.groups),v(x),this},l.prototype.avoidOverlaps=function(v){return arguments.length?(this._avoidOverlaps=v,this):this._avoidOverlaps},l.prototype.handleDisconnected=function(v){return arguments.length?(this._handleDisconnected=v,this):this._handleDisconnected},l.prototype.flowLayout=function(v,x){return arguments.length||(v="y"),this._directedLinkConstraints={axis:v,getMinSeparation:"number"==typeof x?function(){return x}:x},this},l.prototype.links=function(v){return arguments.length?(this._links=v,this):this._links},l.prototype.constraints=function(v){return arguments.length?(this._constraints=v,this):this._constraints},l.prototype.distanceMatrix=function(v){return arguments.length?(this._distanceMatrix=v,this):this._distanceMatrix},l.prototype.size=function(v){return v?(this._canvasSize=v,this):this._canvasSize},l.prototype.defaultNodeSize=function(v){return v?(this._defaultNodeSize=v,this):this._defaultNodeSize},l.prototype.groupCompactness=function(v){return v?(this._groupCompactness=v,this):this._groupCompactness},l.prototype.linkDistance=function(v){return v?(this._linkDistance="function"==typeof v?v:+v,this._linkLengthCalculator=null,this):this._linkDistance},l.prototype.linkType=function(v){return this._linkType=v,this},l.prototype.convergenceThreshold=function(v){return v?(this._threshold="function"==typeof v?v:+v,this):this._threshold},l.prototype.alpha=function(v){return arguments.length?(v=+v,this._alpha?this._alpha=v>0?v:0:v>0&&(this._running||(this._running=!0,this.trigger({type:a.start,alpha:this._alpha=v}),this.kick())),this):this._alpha},l.prototype.getLinkLength=function(v){return"function"==typeof this._linkDistance?+this._linkDistance(v):this._linkDistance},l.setLinkLength=function(v,x){v.length=x},l.prototype.getLinkType=function(v){return"function"==typeof this._linkType?this._linkType(v):0},l.prototype.symmetricDiffLinkLengths=function(v,x){var E=this;return void 0===x&&(x=1),this.linkDistance(function(C){return v*C.length}),this._linkLengthCalculator=function(){return p.symmetricDiffLinkLengths(E._links,E.linkAccessor,x)},this},l.prototype.jaccardLinkLengths=function(v,x){var E=this;return void 0===x&&(x=1),this.linkDistance(function(C){return v*C.length}),this._linkLengthCalculator=function(){return p.jaccardLinkLengths(E._links,E.linkAccessor,x)},this},l.prototype.start=function(v,x,E,C,A,M){var S=this;void 0===v&&(v=0),void 0===x&&(x=0),void 0===E&&(E=0),void 0===C&&(C=0),void 0===A&&(A=!0),void 0===M&&(M=!0);var U,j=this.nodes().length,Y=j+2*this._groups.length,$=this._canvasSize[0],I=this._canvasSize[1],L=new Array(Y),P=new Array(Y),O=null,D=this._avoidOverlaps;this._nodes.forEach(function(tt,ot){tt.index=ot,typeof tt.x>"u"&&(tt.x=$/2,tt.y=I/2),L[ot]=tt.x,P[ot]=tt.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?U=this._distanceMatrix:(U=new u.Calculator(Y,this._links,l.getSourceIndex,l.getTargetIndex,function(tt){return S.getLinkLength(tt)}).DistanceMatrix(),O=c.Descent.createSquareMatrix(Y,function(){return 2}),this._links.forEach(function(tt){"number"==typeof tt.source&&(tt.source=S._nodes[tt.source]),"number"==typeof tt.target&&(tt.target=S._nodes[tt.target])}),this._links.forEach(function(tt){var ot=l.getSourceIndex(tt),ut=l.getTargetIndex(tt);O[ot][ut]=O[ut][ot]=tt.weight||1}));var H=c.Descent.createSquareMatrix(Y,function(tt,ot){return U[tt][ot]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var N=j;this._groups.forEach(function(ot){(function(ot,ut,dt,K){O[ot][ut]=O[ut][ot]=dt,H[ot][ut]=H[ut][ot]=.1})(N,N+1,S._groupCompactness),L[N]=0,P[N++]=0,L[N]=0,P[N++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var B=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,B=B.concat(p.generateDirectedEdgeConstraints(j,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new c.Descent([L,P],H),this._descent.locks.clear(),N=0;N<j;++N){var Q=this._nodes[N];Q.fixed&&(Q.px=Q.x,Q.py=Q.y,this._descent.locks.add(N,[Q.x,Q.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(v,L,P),B.length>0&&(this._descent.project=new d.Projection(this._nodes,this._groups,this._rootGroup,B).projectFunctions()),this._descent.run(x),this.separateOverlappingComponents($,I,M),this.avoidOverlaps(D),D&&(this._nodes.forEach(function(tt,ot){tt.x=L[ot],tt.y=P[ot]}),this._descent.project=new d.Projection(this._nodes,this._groups,this._rootGroup,B,!0).projectFunctions(),this._nodes.forEach(function(tt,ot){L[ot]=tt.x,P[ot]=tt.y})),this._descent.G=O,this._descent.run(E),C){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=j,this._descent.scaleSnapByMaxH=j!=Y;var rt=c.Descent.createSquareMatrix(Y,function(tt,ot){return tt>=j||ot>=j?O[tt][ot]:0});this._descent.G=rt,this._descent.run(C)}return this.updateNodePositions(),this.separateOverlappingComponents($,I,M),A?this.resume():this},l.prototype.initialLayout=function(v,x,E){if(this._groups.length>0&&v>0){var C=this._nodes.length,A=this._links.map(function(S){return{source:S.source.index,target:S.target.index}}),M=this._nodes.map(function(S){return{index:S.index}});this._groups.forEach(function(S,N){M.push({index:S.index=C+N})}),this._groups.forEach(function(S,N){typeof S.leaves<"u"&&S.leaves.forEach(function(F){return A.push({source:S.index,target:F.index})}),typeof S.groups<"u"&&S.groups.forEach(function(F){return A.push({source:S.index,target:F.index})})}),(new l).size(this.size()).nodes(M).links(A).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(v,0,0,0,!1),this._nodes.forEach(function(S){x[S.index]=M[S.index].x,E[S.index]=M[S.index].y})}else this._descent.run(v)},l.prototype.separateOverlappingComponents=function(v,x,E){var C=this;if(void 0===E&&(E=!0),!this._distanceMatrix&&this._handleDisconnected){var A=this._descent.x[0],M=this._descent.x[1];this._nodes.forEach(function(N,F){N.x=A[F],N.y=M[F]});var S=h.separateGraphs(this._nodes,this._links);h.applyPacking(S,v,x,this._defaultNodeSize,1,E),this._nodes.forEach(function(N,F){C._descent.x[0][F]=N.x,C._descent.x[1][F]=N.y,N.bounds&&(N.bounds.setXCentre(N.x),N.bounds.setYCentre(N.y))})}},l.prototype.resume=function(){return this.alpha(.1)},l.prototype.stop=function(){return this.alpha(0)},l.prototype.prepareEdgeRouting=function(v){void 0===v&&(v=0),this._visibilityGraph=new t.TangentVisibilityGraph(this._nodes.map(function(x){return x.bounds.inflate(-v).vertices()}))},l.prototype.routeEdge=function(v,x,E){void 0===x&&(x=5);var C=[],A=new t.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),M={x:v.source.x,y:v.source.y},S={x:v.target.x,y:v.target.y},N=A.addPoint(M,v.source.index),F=A.addPoint(S,v.target.index);A.addEdgeIfVisible(M,S,v.source.index,v.target.index),typeof E<"u"&&E(A);var I=new u.Calculator(A.V.length,A.E,function(H){return H.source.id},function(H){return H.target.id},function(H){return H.length()}).PathFromNodeToNode(N.id,F.id);if(1===I.length||I.length===A.V.length){var L=d.makeEdgeBetween(v.source.innerBounds,v.target.innerBounds,x);C=[L.sourceIntersection,L.arrowStart]}else{for(var P=I.length-2,O=A.V[I[P]].p,D=A.V[I[0]].p,U=(C=[v.source.innerBounds.rayIntersection(O.x,O.y)],P);U>=0;--U)C.push(A.V[I[U]].p);C.push(d.makeEdgeTo(D,v.target.innerBounds,x))}return C},l.getSourceIndex=function(v){return"number"==typeof v.source?v.source:v.source.index},l.getTargetIndex=function(v){return"number"==typeof v.target?v.target:v.target.index},l.linkId=function(v){return l.getSourceIndex(v)+"-"+l.getTargetIndex(v)},l.dragStart=function(v){f(v)?l.storeOffset(v,l.dragOrigin(v)):(l.stopNode(v),v.fixed|=2)},l.stopNode=function(v){v.px=v.x,v.py=v.y},l.storeOffset=function(v,x){typeof v.leaves<"u"&&v.leaves.forEach(function(E){E.fixed|=2,l.stopNode(E),E._dragGroupOffsetX=E.x-x.x,E._dragGroupOffsetY=E.y-x.y}),typeof v.groups<"u"&&v.groups.forEach(function(E){return l.storeOffset(E,x)})},l.dragOrigin=function(v){return f(v)?{x:v.bounds.cx(),y:v.bounds.cy()}:v},l.drag=function(v,x){f(v)?(typeof v.leaves<"u"&&v.leaves.forEach(function(E){v.bounds.setXCentre(x.x),v.bounds.setYCentre(x.y),E.px=E._dragGroupOffsetX+x.x,E.py=E._dragGroupOffsetY+x.y}),typeof v.groups<"u"&&v.groups.forEach(function(E){return l.drag(E,x)})):(v.px=x.x,v.py=x.y)},l.dragEnd=function(v){f(v)?(typeof v.leaves<"u"&&v.leaves.forEach(function(x){l.dragEnd(x),delete x._dragGroupOffsetX,delete x._dragGroupOffsetY}),typeof v.groups<"u"&&v.groups.forEach(l.dragEnd)):v.fixed&=-7},l.mouseOver=function(v){v.fixed|=4,v.px=v.x,v.py=v.y},l.mouseOut=function(v){v.fixed&=-5},l}();w.Layout=g},8792:(y,w,r)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var i=r(8551),p=r(5823),c=r(7840),d=r(9524),u=function(){function f(g,l){this.source=g,this.target=l}return f.prototype.actualLength=function(g){var l=this;return Math.sqrt(g.reduce(function(v,x){var E=x[l.target]-x[l.source];return v+E*E},0))},f}();w.Link3D=u,w.Node3D=function(){return function f(g,l,v){void 0===g&&(g=0),void 0===l&&(l=0),void 0===v&&(v=0),this.x=g,this.y=l,this.z=v}}();var h=function(){function f(g,l,v){var x=this;void 0===v&&(v=1),this.nodes=g,this.links=l,this.idealLinkLength=v,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(f.k);for(var E=0;E<f.k;++E)this.result[E]=new Array(g.length);g.forEach(function(C,A){for(var M=0,S=f.dims;M<S.length;M++){var N=S[M];typeof C[N]>"u"&&(C[N]=Math.random())}x.result[0][A]=C.x,x.result[1][A]=C.y,x.result[2][A]=C.z})}return f.prototype.linkLength=function(g){return g.actualLength(this.result)},f.prototype.start=function(g){var l=this;void 0===g&&(g=100);var v=this.nodes.length,x=new a;this.useJaccardLinkLengths&&d.jaccardLinkLengths(this.links,x,1.5),this.links.forEach(function(N){return N.length*=l.idealLinkLength});var E=new i.Calculator(v,this.links,function(N){return N.source},function(N){return N.target},function(N){return N.length}).DistanceMatrix(),C=p.Descent.createSquareMatrix(v,function(N,F){return E[N][F]}),A=p.Descent.createSquareMatrix(v,function(){return 2});this.links.forEach(function(N){var F=N.source,j=N.target;return A[F][j]=A[j][F]=1}),this.descent=new p.Descent(this.result,C),this.descent.threshold=.001,this.descent.G=A,this.constraints&&(this.descent.project=new c.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var M=0;M<this.nodes.length;M++){var S=this.nodes[M];S.fixed&&this.descent.locks.add(M,[S.x,S.y,S.z])}return this.descent.run(g),this},f.prototype.tick=function(){this.descent.locks.clear();for(var g=0;g<this.nodes.length;g++){var l=this.nodes[g];l.fixed&&this.descent.locks.add(g,[l.x,l.y,l.z])}return this.descent.rungeKutta()},f.k=(f.dims=["x","y","z"]).length,f}();w.Layout3D=h;var a=function(){function f(){}return f.prototype.getSourceIndex=function(g){return g.source},f.prototype.getTargetIndex=function(g){return g.target},f.prototype.getLength=function(g){return g.length},f.prototype.setLength=function(g,l){g.length=l},f}()},9524:(y,w)=>{"use strict";function r(a,f){var g={};for(var l in a)g[l]={};for(var l in f)g[l]={};return Object.keys(g).length}function i(a,f){var g=0;for(var l in a)typeof f[l]<"u"&&++g;return g}function c(a,f,g,l){var v=function p(a,f){var g={},l=function(v,x){typeof g[v]>"u"&&(g[v]={}),g[v][x]={}};return a.forEach(function(v){var x=f.getSourceIndex(v),E=f.getTargetIndex(v);l(x,E),l(E,x)}),g}(a,l);a.forEach(function(x){var E=v[l.getSourceIndex(x)],C=v[l.getTargetIndex(x)];l.setLength(x,1+f*g(E,C))})}function h(a,f,g){var l=[],v=0,x=[],E=[];function C(I){I.index=I.lowlink=v++,x.push(I),I.onStack=!0;for(var L=0,P=I.out;L<P.length;L++){var O=P[L];typeof O.index>"u"?(C(O),I.lowlink=Math.min(I.lowlink,O.lowlink)):O.onStack&&(I.lowlink=Math.min(I.lowlink,O.index))}if(I.lowlink===I.index){for(var D=[];x.length&&((O=x.pop()).onStack=!1,D.push(O),O!==I););E.push(D.map(function(U){return U.id}))}}for(var A=0;A<a;A++)l.push({id:A,out:[]});for(var M=0,S=f;M<S.length;M++){var N=S[M],F=l[g.getSourceIndex(N)],j=l[g.getTargetIndex(N)];F.out.push(j)}for(var Y=0,G=l;Y<G.length;Y++){var $=G[Y];typeof $.index>"u"&&C($)}return E}Object.defineProperty(w,"__esModule",{value:!0}),w.symmetricDiffLinkLengths=function d(a,f,g){void 0===g&&(g=1),c(a,g,function(l,v){return Math.sqrt(r(l,v)-i(l,v))},f)},w.jaccardLinkLengths=function u(a,f,g){void 0===g&&(g=1),c(a,g,function(l,v){return Math.min(Object.keys(l).length,Object.keys(v).length)<1.1?0:i(l,v)/r(l,v)},f)},w.generateDirectedEdgeConstraints=function t(a,f,g,l){var v=h(a,f,l),x={};v.forEach(function(C,A){return C.forEach(function(M){return x[M]=A})});var E=[];return f.forEach(function(C){var A=l.getSourceIndex(C),M=l.getTargetIndex(C);x[A]!==x[M]&&E.push({axis:g,left:A,right:M,gap:l.getMinSeparation(C)})}),E},w.stronglyConnectedComponents=h},4106:(y,w)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var r=function(){return function f(g,l,v){this.source=g,this.target=l,this.type=v}}();w.PowerEdge=r;var i=function(){function f(g,l,v,x){var E=this;if(this.linkAccessor=v,this.modules=new Array(g),this.roots=[],x)this.initModulesFromGroup(x);else{this.roots.push(new u);for(var C=0;C<g;++C)this.roots[0].add(this.modules[C]=new c(C))}this.R=l.length,l.forEach(function(A){var M=E.modules[v.getSourceIndex(A)],S=E.modules[v.getTargetIndex(A)],N=v.getType(A);M.outgoing.add(N,S),S.incoming.add(N,M)})}return f.prototype.initModulesFromGroup=function(g){var l=new u;this.roots.push(l);for(var v=0;v<g.leaves.length;++v){var x=g.leaves[v],E=new c(x.id);this.modules[x.id]=E,l.add(E)}if(g.groups)for(var C=0;C<g.groups.length;++C){var A=g.groups[C],M={};for(var S in A)"leaves"!==S&&"groups"!==S&&A.hasOwnProperty(S)&&(M[S]=A[S]);l.add(new c(-1-C,new t,new t,this.initModulesFromGroup(A),M))}return l},f.prototype.merge=function(g,l,v){void 0===v&&(v=0);var x=g.incoming.intersection(l.incoming),E=g.outgoing.intersection(l.outgoing),C=new u;C.add(g),C.add(l);var A=new c(this.modules.length,E,x,C);this.modules.push(A);var M=function(S,N,F){S.forAll(function(j,Y){j.forAll(function(G){var $=G[N];$.add(Y,A),$.remove(Y,g),$.remove(Y,l),g[F].remove(Y,G),l[F].remove(Y,G)})})};return M(E,"incoming","outgoing"),M(x,"outgoing","incoming"),this.R-=x.count()+E.count(),this.roots[v].remove(g),this.roots[v].remove(l),this.roots[v].add(A),A},f.prototype.rootMerges=function(g){void 0===g&&(g=0);for(var l=this.roots[g].modules(),v=l.length,x=new Array(v*(v-1)),E=0,C=0,A=v-1;C<A;++C)for(var M=C+1;M<v;++M){var S=l[C],N=l[M];x[E]={id:E,nEdges:this.nEdges(S,N),a:S,b:N},E++}return x},f.prototype.greedyMerge=function(){for(var g=0;g<this.roots.length;++g)if(!(this.roots[g].modules().length<2)){var v=this.rootMerges(g).sort(function(x,E){return x.nEdges==E.nEdges?x.id-E.id:x.nEdges-E.nEdges})[0];if(!(v.nEdges>=this.R))return this.merge(v.a,v.b,g),!0}},f.prototype.nEdges=function(g,l){var v=g.incoming.intersection(l.incoming),x=g.outgoing.intersection(l.outgoing);return this.R-v.count()-x.count()},f.prototype.getGroupHierarchy=function(g){var l=this,v=[];return p(this.roots[0],{},v),this.allEdges().forEach(function(C){var A=l.modules[C.source],M=l.modules[C.target];g.push(new r(typeof A.gid>"u"?C.source:v[A.gid],typeof M.gid>"u"?C.target:v[M.gid],C.type))}),v},f.prototype.allEdges=function(){var g=[];return f.getEdges(this.roots[0],g),g},f.getEdges=function(g,l){g.forAll(function(v){v.getEdges(l),f.getEdges(v.children,l)})},f}();function p(f,g,l){f.forAll(function(v){if(v.isLeaf())g.leaves||(g.leaves=[]),g.leaves.push(v.id);else{var x=g;if(v.gid=l.length,!v.isIsland()||v.isPredefined()){if(x={id:v.gid},v.isPredefined())for(var E in v.definition)x[E]=v.definition[E];g.groups||(g.groups=[]),g.groups.push(v.gid),l.push(x)}p(v.children,x,l)}})}w.Configuration=i;var c=function(){function f(g,l,v,x,E){void 0===l&&(l=new t),void 0===v&&(v=new t),void 0===x&&(x=new u),this.id=g,this.outgoing=l,this.incoming=v,this.children=x,this.definition=E}return f.prototype.getEdges=function(g){var l=this;this.outgoing.forAll(function(v,x){v.forAll(function(E){g.push(new r(l.id,E.id,x))})})},f.prototype.isLeaf=function(){return 0===this.children.count()},f.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},f.prototype.isPredefined=function(){return typeof this.definition<"u"},f}();w.Module=c;var u=function(){function f(){this.table={}}return f.prototype.count=function(){return Object.keys(this.table).length},f.prototype.intersection=function(g){var l=new f;return l.table=function d(f,g){var l={};for(var v in f)v in g&&(l[v]=f[v]);return l}(this.table,g.table),l},f.prototype.intersectionCount=function(g){return this.intersection(g).count()},f.prototype.contains=function(g){return g in this.table},f.prototype.add=function(g){this.table[g.id]=g},f.prototype.remove=function(g){delete this.table[g.id]},f.prototype.forAll=function(g){for(var l in this.table)g(this.table[l])},f.prototype.modules=function(){var g=[];return this.forAll(function(l){l.isPredefined()||g.push(l)}),g},f}();w.ModuleSet=u;var t=function(){function f(){this.sets={},this.n=0}return f.prototype.count=function(){return this.n},f.prototype.contains=function(g){var l=!1;return this.forAllModules(function(v){!l&&v.id==g&&(l=!0)}),l},f.prototype.add=function(g,l){(g in this.sets?this.sets[g]:this.sets[g]=new u).add(l),++this.n},f.prototype.remove=function(g,l){var v=this.sets[g];v.remove(l),0===v.count()&&delete this.sets[g],--this.n},f.prototype.forAll=function(g){for(var l in this.sets)g(this.sets[l],Number(l))},f.prototype.forAllModules=function(g){this.forAll(function(l,v){return l.forAll(g)})},f.prototype.intersection=function(g){var l=new f;return this.forAll(function(v,x){if(x in g.sets){var E=v.intersection(g.sets[x]),C=E.count();C>0&&(l.sets[x]=E,l.n+=C)}}),l},f}();w.LinkSets=t,w.getGroups=function a(f,g,l,v){for(var E=new i(f.length,g,l,v);E.greedyMerge(););var C=[],A=E.getGroupHierarchy(C);return C.forEach(function(M){var S=function(N){var F=M[N];"number"==typeof F&&(M[N]=f[F])};S("source"),S("target")}),{groups:A,powerEdges:C}}},1066:(y,w)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var r=function(){function p(c){this.elem=c,this.subheaps=[]}return p.prototype.toString=function(c){for(var d="",u=!1,t=0;t<this.subheaps.length;++t){var h=this.subheaps[t];h.elem?(u&&(d+=","),d+=h.toString(c),u=!0):u=!1}return""!==d&&(d="("+d+")"),(this.elem?c(this.elem):"")+d},p.prototype.forEach=function(c){this.empty()||(c(this.elem,this),this.subheaps.forEach(function(d){return d.forEach(c)}))},p.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(c,d){return c+d.count()},0)},p.prototype.min=function(){return this.elem},p.prototype.empty=function(){return null==this.elem},p.prototype.contains=function(c){if(this===c)return!0;for(var d=0;d<this.subheaps.length;d++)if(this.subheaps[d].contains(c))return!0;return!1},p.prototype.isHeap=function(c){var d=this;return this.subheaps.every(function(u){return c(d.elem,u.elem)&&u.isHeap(c)})},p.prototype.insert=function(c,d){return this.merge(new p(c),d)},p.prototype.merge=function(c,d){return this.empty()?c:c.empty()?this:d(this.elem,c.elem)?(this.subheaps.push(c),this):(c.subheaps.push(this),c)},p.prototype.removeMin=function(c){return this.empty()?null:this.mergePairs(c)},p.prototype.mergePairs=function(c){if(0==this.subheaps.length)return new p(null);if(1==this.subheaps.length)return this.subheaps[0];var d=this.subheaps.pop().merge(this.subheaps.pop(),c),u=this.mergePairs(c);return d.merge(u,c)},p.prototype.decreaseKey=function(c,d,u,t){var h=c.removeMin(t);c.elem=h.elem,c.subheaps=h.subheaps,null!==u&&null!==h.elem&&u(c.elem,c);var a=new p(d);return null!==u&&u(d,a),this.merge(a,t)},p}();w.PairingHeap=r;var i=function(){function p(c){this.lessThan=c}return p.prototype.top=function(){return this.empty()?null:this.root.elem},p.prototype.push=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];for(var u,h,t=0;h=c[t];++t)u=new r(h),this.root=this.empty()?u:this.root.merge(u,this.lessThan);return u},p.prototype.empty=function(){return!this.root||!this.root.elem},p.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},p.prototype.forEach=function(c){this.root.forEach(c)},p.prototype.pop=function(){if(this.empty())return null;var c=this.root.min();return this.root=this.root.removeMin(this.lessThan),c},p.prototype.reduceKey=function(c,d,u){void 0===u&&(u=null),this.root=this.root.decreaseKey(c,d,u,this.lessThan)},p.prototype.toString=function(c){return this.root.toString(c)},p.prototype.count=function(){return this.root.count()},p}();w.PriorityQueue=i},3733:function(y,w){"use strict";var r=this&&this.__extends||function(){var u=function(t,h){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var g in f)f.hasOwnProperty(g)&&(a[g]=f[g])})(t,h)};return function(t,h){function a(){this.constructor=t}u(t,h),t.prototype=null===h?Object.create(h):(a.prototype=h.prototype,new a)}}();Object.defineProperty(w,"__esModule",{value:!0});var i=function(){function u(){this.findIter=function(t){for(var h=this._root,a=this.iterator();null!==h;){var f=this._comparator(t,h.data);if(0===f)return a._cursor=h,a;a._ancestors.push(h),h=h.get_child(f>0)}return null}}return u.prototype.clear=function(){this._root=null,this.size=0},u.prototype.find=function(t){for(var h=this._root;null!==h;){var a=this._comparator(t,h.data);if(0===a)return h.data;h=h.get_child(a>0)}return null},u.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},u.prototype.upperBound=function(t){var h=this._comparator;return this._bound(t,function a(f,g){return h(g,f)})},u.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},u.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},u.prototype.iterator=function(){return new p(this)},u.prototype.each=function(t){for(var a,h=this.iterator();null!==(a=h.next());)t(a)},u.prototype.reach=function(t){for(var a,h=this.iterator();null!==(a=h.prev());)t(a)},u.prototype._bound=function(t,h){for(var a=this._root,f=this.iterator();null!==a;){var g=this._comparator(t,a.data);if(0===g)return f._cursor=a,f;f._ancestors.push(a),a=a.get_child(g>0)}for(var l=f._ancestors.length-1;l>=0;--l)if(h(t,(a=f._ancestors[l]).data)>0)return f._cursor=a,f._ancestors.length=l,f;return f._ancestors.length=0,f},u}();w.TreeBase=i;var p=function(){function u(t){this._tree=t,this._ancestors=[],this._cursor=null}return u.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},u.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right){var h;do{if(h=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===h)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},u.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left){var h;do{if(h=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===h)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},u.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},u.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},u}();w.Iterator=p;var c=function(){function u(t){this.data=t,this.left=null,this.right=null,this.red=!0}return u.prototype.get_child=function(t){return t?this.right:this.left},u.prototype.set_child=function(t,h){t?this.right=h:this.left=h},u}(),d=function(u){function t(h){var a=u.call(this)||this;return a._root=null,a._comparator=h,a.size=0,a}return r(t,u),t.prototype.insert=function(h){var a=!1;if(null===this._root)this._root=new c(h),a=!0,this.size++;else{var f=new c(void 0),g=!1,l=!1,v=null,x=f,E=null,C=this._root;for(x.right=this._root;;){if(null===C?(C=new c(h),E.set_child(g,C),a=!0,this.size++):t.is_red(C.left)&&t.is_red(C.right)&&(C.red=!0,C.left.red=!1,C.right.red=!1),t.is_red(C)&&t.is_red(E)){var A=x.right===v;C===E.get_child(l)?x.set_child(A,t.single_rotate(v,!l)):x.set_child(A,t.double_rotate(v,!l))}var M=this._comparator(C.data,h);if(0===M)break;l=g,null!==v&&(x=v),v=E,E=C,C=C.get_child(g=M<0)}this._root=f.right}return this._root.red=!1,a},t.prototype.remove=function(h){if(null===this._root)return!1;var a=new c(void 0),f=a;f.right=this._root;for(var g=null,l=null,v=null,x=!0;null!==f.get_child(x);){var E=x;l=g,g=f,f=f.get_child(x);var C=this._comparator(h,f.data);if(x=C>0,0===C&&(v=f),!t.is_red(f)&&!t.is_red(f.get_child(x)))if(t.is_red(f.get_child(!x))){var A=t.single_rotate(f,x);g.set_child(E,A),g=A}else if(!t.is_red(f.get_child(!x))){var M=g.get_child(!E);if(null!==M)if(t.is_red(M.get_child(!E))||t.is_red(M.get_child(E))){var S=l.right===g;t.is_red(M.get_child(E))?l.set_child(S,t.double_rotate(g,E)):t.is_red(M.get_child(!E))&&l.set_child(S,t.single_rotate(g,E));var N=l.get_child(S);N.red=!0,f.red=!0,N.left.red=!1,N.right.red=!1}else g.red=!1,M.red=!0,f.red=!0}}return null!==v&&(v.data=f.data,g.set_child(g.right===f,f.get_child(null===f.left)),this.size--),this._root=a.right,null!==this._root&&(this._root.red=!1),null!==v},t.is_red=function(h){return null!==h&&h.red},t.single_rotate=function(h,a){var f=h.get_child(!a);return h.set_child(!a,f.get_child(a)),f.set_child(a,h),h.red=!0,f.red=!1,f},t.double_rotate=function(h,a){return h.set_child(!a,t.single_rotate(h.get_child(!a),!a)),t.single_rotate(h,a)},t}(i);w.RBTree=d},7840:function(y,w,r){"use strict";var i=this&&this.__extends||function(){var I=function(L,P){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,D){O.__proto__=D}||function(O,D){for(var U in D)D.hasOwnProperty(U)&&(O[U]=D[U])})(L,P)};return function(L,P){function O(){this.constructor=L}I(L,P),L.prototype=null===P?Object.create(P):(O.prototype=P.prototype,new O)}}();Object.defineProperty(w,"__esModule",{value:!0});var p=r(5213),c=r(3733);function d(I){return I.bounds=typeof I.leaves<"u"?I.leaves.reduce(function(L,P){return P.bounds.union(L)},u.empty()):u.empty(),typeof I.groups<"u"&&(I.bounds=I.groups.reduce(function(L,P){return d(P).union(L)},I.bounds)),I.bounds=I.bounds.inflate(I.padding),I.bounds}w.computeGroupBounds=d;var u=function(){function I(L,P,O,D){this.x=L,this.X=P,this.y=O,this.Y=D}return I.empty=function(){return new I(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},I.prototype.cx=function(){return(this.x+this.X)/2},I.prototype.cy=function(){return(this.y+this.Y)/2},I.prototype.overlapX=function(L){var P=this.cx(),O=L.cx();return P<=O&&L.x<this.X?this.X-L.x:O<=P&&this.x<L.X?L.X-this.x:0},I.prototype.overlapY=function(L){var P=this.cy(),O=L.cy();return P<=O&&L.y<this.Y?this.Y-L.y:O<=P&&this.y<L.Y?L.Y-this.y:0},I.prototype.setXCentre=function(L){var P=L-this.cx();this.x+=P,this.X+=P},I.prototype.setYCentre=function(L){var P=L-this.cy();this.y+=P,this.Y+=P},I.prototype.width=function(){return this.X-this.x},I.prototype.height=function(){return this.Y-this.y},I.prototype.union=function(L){return new I(Math.min(this.x,L.x),Math.max(this.X,L.X),Math.min(this.y,L.y),Math.max(this.Y,L.Y))},I.prototype.lineIntersections=function(L,P,O,D){for(var U=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],H=[],z=0;z<4;++z){var B=I.lineIntersection(L,P,O,D,U[z][0],U[z][1],U[z][2],U[z][3]);null!==B&&H.push({x:B.x,y:B.y})}return H},I.prototype.rayIntersection=function(L,P){var O=this.lineIntersections(this.cx(),this.cy(),L,P);return O.length>0?O[0]:null},I.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},I.lineIntersection=function(L,P,O,D,U,H,z,B){var Q=O-L,Z=z-U,rt=D-P,tt=B-H,ot=tt*Q-Z*rt;if(0==ot)return null;var ut=L-U,dt=P-H,J=(Z*dt-tt*ut)/ot,at=(Q*dt-rt*ut)/ot;return J>=0&&J<=1&&at>=0&&at<=1?{x:L+J*Q,y:P+J*rt}:null},I.prototype.inflate=function(L){return new I(this.x-L,this.X+L,this.y-L,this.Y+L)},I}();w.Rectangle=u,w.makeEdgeBetween=function t(I,L,P){var O=I.rayIntersection(L.cx(),L.cy())||{x:I.cx(),y:I.cy()},D=L.rayIntersection(I.cx(),I.cy())||{x:L.cx(),y:L.cy()},U=D.x-O.x,H=D.y-O.y,z=Math.sqrt(U*U+H*H),B=z-P;return{sourceIntersection:O,targetIntersection:D,arrowStart:{x:O.x+B*U/z,y:O.y+B*H/z}}},w.makeEdgeTo=function h(I,L,P){var O=L.rayIntersection(I.x,I.y);O||(O={x:L.cx(),y:L.cy()});var D=O.x-I.x,U=O.y-I.y,H=Math.sqrt(D*D+U*U);return{x:O.x-P*D/H,y:O.y-P*U/H}};var a=function(){return function I(L,P,O){this.v=L,this.r=P,this.pos=O,this.prev=l(),this.next=l()}}(),f=function(){return function I(L,P,O){this.isOpen=L,this.v=P,this.pos=O}}();function g(I,L){return I.pos>L.pos?1:I.pos<L.pos||I.isOpen?-1:L.isOpen?1:0}function l(){return new c.RBTree(function(I,L){return I.pos-L.pos})}var v={getCentre:function(I){return I.cx()},getOpen:function(I){return I.y},getClose:function(I){return I.Y},getSize:function(I){return I.width()},makeRect:function(I,L,P,O){return new u(P-O/2,P+O/2,I,L)},findNeighbours:function A(I,L){var P=function(O,D){for(var H,U=L.findIter(I);null!==(H=U[O]());){var z=H.r.overlapX(I.r);if((z<=0||z<=H.r.overlapY(I.r))&&(I[O].insert(H),H[D].insert(I)),z<=0)break}};P("next","prev"),P("prev","next")}},x={getCentre:function(I){return I.cy()},getOpen:function(I){return I.x},getClose:function(I){return I.X},getSize:function(I){return I.height()},makeRect:function(I,L,P,O){return new u(I,L,P-O/2,P+O/2)},findNeighbours:function M(I,L){var P=function(O,D){var U=L.findIter(I)[O]();null!==U&&U.r.overlapX(I.r)>0&&(I[O].insert(U),U[D].insert(I))};P("next","prev"),P("prev","next")}};function E(I,L,P,O){void 0===O&&(O=!1);var D=I.padding,U=typeof I.groups<"u"?I.groups.length:0,H=typeof I.leaves<"u"?I.leaves.length:0,z=U?I.groups.reduce(function(ft,gt){return ft.concat(E(gt,L,P,!0))},[]):[],B=(O?2:0)+H+U,Q=new Array(B),Z=new Array(B),rt=0,tt=function(ft,gt){Z[rt]=ft,Q[rt++]=gt};if(O){var ot=I.bounds,ut=L.getCentre(ot),dt=L.getSize(ot)/2,K=L.getOpen(ot),J=L.getClose(ot),et=ut-dt+D/2,at=ut+dt-D/2;I.minVar.desiredPosition=et,tt(L.makeRect(K,J,et,D),I.minVar),I.maxVar.desiredPosition=at,tt(L.makeRect(K,J,at,D),I.maxVar)}H&&I.leaves.forEach(function(ft){return tt(ft.bounds,ft.variable)}),U&&I.groups.forEach(function(ft){var gt=ft.bounds;tt(L.makeRect(L.getOpen(gt),L.getClose(gt),L.getCentre(gt),L.getSize(gt)),ft.minVar)});var ct=C(Z,Q,L,P);return U&&(Q.forEach(function(ft){ft.cOut=[],ft.cIn=[]}),ct.forEach(function(ft){ft.left.cOut.push(ft),ft.right.cIn.push(ft)}),I.groups.forEach(function(ft){var gt=(ft.padding-L.getSize(ft.bounds))/2;ft.minVar.cIn.forEach(function(yt){return yt.gap+=gt}),ft.minVar.cOut.forEach(function(yt){yt.left=ft.maxVar,yt.gap+=gt})})),z.concat(ct)}function C(I,L,P,O){var D,U=I.length,H=2*U;console.assert(L.length>=U);var z=new Array(H);for(D=0;D<U;++D){var B=I[D],Q=new a(L[D],B,P.getCentre(B));z[D]=new f(!0,Q,P.getOpen(B)),z[D+U]=new f(!1,Q,P.getClose(B))}z.sort(g);var Z=new Array,rt=l();for(D=0;D<H;++D){var tt=z[D];if(Q=tt.v,tt.isOpen)rt.insert(Q),P.findNeighbours(Q,rt);else{rt.remove(Q);var ot=function(K,J){var et=(P.getSize(K.r)+P.getSize(J.r))/2+O;Z.push(new p.Constraint(K.v,J.v,et))},ut=function(K,J,et){for(var at,ct=Q[K].iterator();null!==(at=ct[K]());)et(at,Q),at[J].remove(Q)};ut("prev","next",function(K,J){return ot(K,J)}),ut("next","prev",function(K,J){return ot(J,K)})}}return console.assert(0===rt.size),Z}function S(I,L){return C(I,L,v,1e-6)}function N(I,L){return C(I,L,x,1e-6)}function F(I){return E(I,v,1e-6)}function j(I){return E(I,x,1e-6)}w.generateXConstraints=S,w.generateYConstraints=N,w.generateXGroupConstraints=F,w.generateYGroupConstraints=j,w.removeOverlaps=function Y(I){var L=I.map(function(D){return new p.Variable(D.cx())}),P=S(I,L),O=new p.Solver(L,P);O.solve(),L.forEach(function(D,U){return I[U].setXCentre(D.position())}),L=I.map(function(D){return new p.Variable(D.cy())}),P=N(I,L),(O=new p.Solver(L,P)).solve(),L.forEach(function(D,U){return I[U].setYCentre(D.position())})};var G=function(I){function L(P,O){var D=I.call(this,0,O)||this;return D.index=P,D}return i(L,I),L}(p.Variable);w.IndexedVariable=G;var $=function(){function I(L,P,O,D,U){var H=this;if(void 0===O&&(O=null),void 0===D&&(D=null),void 0===U&&(U=!1),this.nodes=L,this.groups=P,this.rootGroup=O,this.avoidOverlaps=U,this.variables=L.map(function(B,Q){return B.variable=new G(Q,1)}),D&&this.createConstraints(D),U&&O&&typeof O.groups<"u"){L.forEach(function(B){if(B.width&&B.height){var Q=B.width/2,Z=B.height/2;B.bounds=new u(B.x-Q,B.x+Q,B.y-Z,B.y+Z)}else B.bounds=new u(B.x,B.x,B.y,B.y)}),d(O);var z=L.length;P.forEach(function(B){H.variables[z]=B.minVar=new G(z++,typeof B.stiffness<"u"?B.stiffness:.01),H.variables[z]=B.maxVar=new G(z++,typeof B.stiffness<"u"?B.stiffness:.01)})}}return I.prototype.createSeparation=function(L){return new p.Constraint(this.nodes[L.left].variable,this.nodes[L.right].variable,L.gap,typeof L.equality<"u"&&L.equality)},I.prototype.makeFeasible=function(L){var P=this;if(this.avoidOverlaps){var O="x",D="width";"x"===L.axis&&(O="y",D="height");var U=L.offsets.map(function(z){return P.nodes[z.node]}).sort(function(z,B){return z[O]-B[O]}),H=null;U.forEach(function(z){if(H){var B=H[O]+H[D];B>z[O]&&(z[O]=B)}H=z})}},I.prototype.createAlignment=function(L){var P=this,O=this.nodes[L.offsets[0].node].variable;this.makeFeasible(L);var D="x"===L.axis?this.xConstraints:this.yConstraints;L.offsets.slice(1).forEach(function(U){D.push(new p.Constraint(O,P.nodes[U.node].variable,U.offset,!0))})},I.prototype.createConstraints=function(L){var P=this,O=function(D){return typeof D.type>"u"||"separation"===D.type};this.xConstraints=L.filter(function(D){return"x"===D.axis&&O(D)}).map(function(D){return P.createSeparation(D)}),this.yConstraints=L.filter(function(D){return"y"===D.axis&&O(D)}).map(function(D){return P.createSeparation(D)}),L.filter(function(D){return"alignment"===D.type}).forEach(function(D){return P.createAlignment(D)})},I.prototype.setupVariablesAndBounds=function(L,P,O,D){this.nodes.forEach(function(U,H){U.fixed?(U.variable.weight=U.fixedWeight?U.fixedWeight:1e3,O[H]=D(U)):U.variable.weight=1;var z=(U.width||0)/2,B=(U.height||0)/2,Q=L[H],Z=P[H];U.bounds=new u(Q-z,Q+z,Z-B,Z+B)})},I.prototype.xProject=function(L,P,O){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(L,P,L,O,function(D){return D.px},this.xConstraints,F,function(D){return D.bounds.setXCentre(O[D.variable.index]=D.variable.position())},function(D){var U=O[D.minVar.index]=D.minVar.position(),H=O[D.maxVar.index]=D.maxVar.position(),z=D.padding/2;D.bounds.x=U-z,D.bounds.X=H+z})},I.prototype.yProject=function(L,P,O){!this.rootGroup&&!this.yConstraints||this.project(L,P,P,O,function(D){return D.py},this.yConstraints,j,function(D){return D.bounds.setYCentre(O[D.variable.index]=D.variable.position())},function(D){var U=O[D.minVar.index]=D.minVar.position(),H=O[D.maxVar.index]=D.maxVar.position(),z=D.padding/2;D.bounds.y=U-z,D.bounds.Y=H+z})},I.prototype.projectFunctions=function(){var L=this;return[function(P,O,D){return L.xProject(P,O,D)},function(P,O,D){return L.yProject(P,O,D)}]},I.prototype.project=function(L,P,O,D,U,H,z,B,Q){this.setupVariablesAndBounds(L,P,D,U),this.rootGroup&&this.avoidOverlaps&&(d(this.rootGroup),H=H.concat(z(this.rootGroup))),this.solve(this.variables,H,O,D),this.nodes.forEach(B),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(Q),d(this.rootGroup))},I.prototype.solve=function(L,P,O,D){var U=new p.Solver(L,P);U.setStartingPositions(O),U.setDesiredPositions(D),U.solve()},I}();w.Projection=$},8551:(y,w,r)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var i=r(1066),p=function(){return function t(h,a){this.id=h,this.distance=a}}(),c=function(){return function t(h){this.id=h,this.neighbours=[]}}(),d=function(){return function t(h,a,f){this.node=h,this.prev=a,this.d=f}}(),u=function(){function t(h,a,f,g,l){this.n=h,this.es=a,this.neighbours=new Array(this.n);for(var v=this.n;v--;)this.neighbours[v]=new c(v);for(v=this.es.length;v--;){var x=this.es[v],E=f(x),C=g(x),A=l(x);this.neighbours[E].neighbours.push(new p(C,A)),this.neighbours[C].neighbours.push(new p(E,A))}}return t.prototype.DistanceMatrix=function(){for(var h=new Array(this.n),a=0;a<this.n;++a)h[a]=this.dijkstraNeighbours(a);return h},t.prototype.DistancesFromNode=function(h){return this.dijkstraNeighbours(h)},t.prototype.PathFromNodeToNode=function(h,a){return this.dijkstraNeighbours(h,a)},t.prototype.PathFromNodeToNodeWithPrevCost=function(h,a,f){var g=new i.PriorityQueue(function(j,Y){return j.d<=Y.d}),l=this.neighbours[h],v=new d(l,null,0),x={};for(g.push(v);!g.empty()&&(l=(v=g.pop()).node).id!==a;)for(var E=l.neighbours.length;E--;){var C=l.neighbours[E],A=this.neighbours[C.id];if(!v.prev||A.id!==v.prev.node.id){var M=A.id+","+l.id;if(!(M in x&&x[M]<=v.d)){var S=v.prev?f(v.prev.node.id,l.id,A.id):0,N=v.d+C.distance+S;x[M]=N,g.push(new d(A,v,N))}}}for(var F=[];v.prev;)F.push((v=v.prev).node.id);return F},t.prototype.dijkstraNeighbours=function(h,a){void 0===a&&(a=-1);for(var f=new i.PriorityQueue(function(S,N){return S.d<=N.d}),g=this.neighbours.length,l=new Array(g);g--;){var v=this.neighbours[g];v.d=g===h?0:Number.POSITIVE_INFINITY,v.q=f.push(v)}for(;!f.empty();){var x=f.pop();if(l[x.id]=x.d,x.id===a){for(var E=[],C=x;typeof C.prev<"u";)E.push(C.prev.id),C=C.prev;return E}for(g=x.neighbours.length;g--;){var A=x.neighbours[g],M=(C=this.neighbours[A.id],x.d+A.distance);x.d!==Number.MAX_VALUE&&C.d>M&&(C.d=M,C.prev=x,f.reduceKey(C.q,C,function(N,F){return N.q=F}))}}return l},t}();w.Calculator=u},5213:(y,w)=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var r=function(){function h(a){this.scale=a,this.AB=0,this.AD=0,this.A2=0}return h.prototype.addVariable=function(a){var f=this.scale/a.scale,l=a.weight;this.AB+=l*f*(a.offset/a.scale),this.AD+=l*f*a.desiredPosition,this.A2+=l*f*f},h.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},h}();w.PositionStats=r;var i=function(){function h(a,f,g,l){void 0===l&&(l=!1),this.left=a,this.right=f,this.gap=g,this.equality=l,this.active=!1,this.unsatisfiable=!1,this.left=a,this.right=f,this.gap=g,this.equality=l}return h.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},h}();w.Constraint=i;var p=function(){function h(a,f,g){void 0===f&&(f=1),void 0===g&&(g=1),this.desiredPosition=a,this.weight=f,this.scale=g,this.offset=0}return h.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},h.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},h.prototype.visitNeighbours=function(a,f){var g=function(l,v){return l.active&&a!==v&&f(l,v)};this.cOut.forEach(function(l){return g(l,l.right)}),this.cIn.forEach(function(l){return g(l,l.left)})},h}();w.Variable=p;var c=function(){function h(a){this.vars=[],a.offset=0,this.ps=new r(a.scale),this.addVariable(a)}return h.prototype.addVariable=function(a){a.block=this,this.vars.push(a),this.ps.addVariable(a),this.posn=this.ps.getPosn()},h.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var a=0,f=this.vars.length;a<f;++a)this.ps.addVariable(this.vars[a]);this.posn=this.ps.getPosn()},h.prototype.compute_lm=function(a,f,g){var l=this,v=a.dfdv();return a.visitNeighbours(f,function(x,E){var C=l.compute_lm(E,a,g);E===x.right?(v+=C*x.left.scale,x.lm=C):(v+=C*x.right.scale,x.lm=-C),g(x)}),v/a.scale},h.prototype.populateSplitBlock=function(a,f){var g=this;a.visitNeighbours(f,function(l,v){v.offset=a.offset+(v===l.right?l.gap:-l.gap),g.addVariable(v),g.populateSplitBlock(v,a)})},h.prototype.traverse=function(a,f,g,l){var v=this;void 0===g&&(g=this.vars[0]),void 0===l&&(l=null),g.visitNeighbours(l,function(x,E){f.push(a(x)),v.traverse(a,f,E,g)})},h.prototype.findMinLM=function(){var a=null;return this.compute_lm(this.vars[0],null,function(f){!f.equality&&(null===a||f.lm<a.lm)&&(a=f)}),a},h.prototype.findMinLMBetween=function(a,f){this.compute_lm(a,null,function(){});var g=null;return this.findPath(a,null,f,function(l,v){!l.equality&&l.right===v&&(null===g||l.lm<g.lm)&&(g=l)}),g},h.prototype.findPath=function(a,f,g,l){var v=this,x=!1;return a.visitNeighbours(f,function(E,C){!x&&(C===g||v.findPath(C,a,g,l))&&(x=!0,l(E,C))}),x},h.prototype.isActiveDirectedPathBetween=function(a,f){if(a===f)return!0;for(var g=a.cOut.length;g--;){var l=a.cOut[g];if(l.active&&this.isActiveDirectedPathBetween(l.right,f))return!0}return!1},h.split=function(a){return a.active=!1,[h.createSplitBlock(a.left),h.createSplitBlock(a.right)]},h.createSplitBlock=function(a){var f=new h(a);return f.populateSplitBlock(a,null),f},h.prototype.splitBetween=function(a,f){var g=this.findMinLMBetween(a,f);if(null!==g){var l=h.split(g);return{constraint:g,lb:l[0],rb:l[1]}}return null},h.prototype.mergeAcross=function(a,f,g){f.active=!0;for(var l=0,v=a.vars.length;l<v;++l){var x=a.vars[l];x.offset+=g,this.addVariable(x)}this.posn=this.ps.getPosn()},h.prototype.cost=function(){for(var a=0,f=this.vars.length;f--;){var g=this.vars[f],l=g.position()-g.desiredPosition;a+=l*l*g.weight}return a},h}();w.Block=c;var d=function(){function h(a){this.vs=a;var f=a.length;for(this.list=new Array(f);f--;){var g=new c(a[f]);this.list[f]=g,g.blockInd=f}}return h.prototype.cost=function(){for(var a=0,f=this.list.length;f--;)a+=this.list[f].cost();return a},h.prototype.insert=function(a){a.blockInd=this.list.length,this.list.push(a)},h.prototype.remove=function(a){var f=this.list.length-1,g=this.list[f];this.list.length=f,a!==g&&(this.list[a.blockInd]=g,g.blockInd=a.blockInd)},h.prototype.merge=function(a){var f=a.left.block,g=a.right.block,l=a.right.offset-a.left.offset-a.gap;f.vars.length<g.vars.length?(g.mergeAcross(f,a,l),this.remove(f)):(f.mergeAcross(g,a,-l),this.remove(g))},h.prototype.forEach=function(a){this.list.forEach(a)},h.prototype.updateBlockPositions=function(){this.list.forEach(function(a){return a.updateWeightedPosition()})},h.prototype.split=function(a){var f=this;this.updateBlockPositions(),this.list.forEach(function(g){var l=g.findMinLM();null!==l&&l.lm<u.LAGRANGIAN_TOLERANCE&&(g=l.left.block,c.split(l).forEach(function(v){return f.insert(v)}),f.remove(g),a.push(l))})},h}();w.Blocks=d;var u=function(){function h(a,f){this.vs=a,this.cs=f,this.vs=a,a.forEach(function(g){g.cIn=[],g.cOut=[]}),this.cs=f,f.forEach(function(g){g.left.cOut.push(g),g.right.cIn.push(g)}),this.inactive=f.map(function(g){return g.active=!1,g}),this.bs=null}return h.prototype.cost=function(){return this.bs.cost()},h.prototype.setStartingPositions=function(a){this.inactive=this.cs.map(function(f){return f.active=!1,f}),this.bs=new d(this.vs),this.bs.forEach(function(f,g){return f.posn=a[g]})},h.prototype.setDesiredPositions=function(a){this.vs.forEach(function(f,g){return f.desiredPosition=a[g]})},h.prototype.mostViolated=function(){for(var a=Number.MAX_VALUE,f=null,g=this.inactive,l=g.length,v=l,x=0;x<l;++x){var E=g[x];if(!E.unsatisfiable){var C=E.slack();if((E.equality||C<a)&&(a=C,f=E,v=x,E.equality))break}}return v!==l&&(a<h.ZERO_UPPERBOUND&&!f.active||f.equality)&&(g[v]=g[l-1],g.length=l-1),f},h.prototype.satisfy=function(){null==this.bs&&(this.bs=new d(this.vs)),this.bs.split(this.inactive);for(var a=null;(a=this.mostViolated())&&(a.equality||a.slack()<h.ZERO_UPPERBOUND&&!a.active);){var f=a.left.block;if(f!==a.right.block)this.bs.merge(a);else{if(f.isActiveDirectedPathBetween(a.right,a.left)){a.unsatisfiable=!0;continue}var l=f.splitBetween(a.left,a.right);if(null===l){a.unsatisfiable=!0;continue}this.bs.insert(l.lb),this.bs.insert(l.rb),this.bs.remove(f),this.inactive.push(l.constraint),a.slack()>=0?this.inactive.push(a):this.bs.merge(a)}}},h.prototype.solve=function(){this.satisfy();for(var a=Number.MAX_VALUE,f=this.bs.cost();Math.abs(a-f)>1e-4;)this.satisfy(),a=f,f=this.bs.cost();return f},h.LAGRANGIAN_TOLERANCE=-1e-4,h.ZERO_UPPERBOUND=-1e-10,h}();w.Solver=u,w.removeOverlapInOneDimension=function t(h,a,f){for(var g=h.map(function(G){return new p(G.desiredCenter)}),l=[],v=h.length,x=0;x<v-1;x++)l.push(new i(g[x],g[x+1],(h[x].size+h[x+1].size)/2));var A=g[0],M=g[v-1],S=h[0].size/2,N=h[v-1].size/2,F=null,j=null;return a&&(F=new p(a,1e3*A.weight),g.push(F),l.push(new i(F,A,S))),f&&(j=new p(f,1e3*M.weight),g.push(j),l.push(new i(M,j,N))),new u(g,l).solve(),{newCenters:g.slice(0,h.length).map(function(G){return G.position()}),lowerBound:F?F.position():A.position()-S,upperBound:j?j.position():M.position()+N}}}}]);