"use strict";(self.webpackChunklocallyflow=self.webpackChunklocallyflow||[]).push([[76],{6903:(p,u,l)=>{l.d(u,{l:()=>t});var c=l(3953);let t=(()=>{class d{constructor(m){this.viewContainerRef=m}static#t=this.\u0275fac=function(f){return new(f||d)(c.rXU(c.c1b))};static#e=this.\u0275dir=c.FsC({type:d,selectors:[["","dcWrapper",""]],standalone:!0})}return d})()},9490:(p,u,l)=>{l.d(u,{X:()=>c});var c=function(t){return t.Create="Create",t.Read="Read",t.Update="Update",t.Delete="Delete",t}(c||{})},4600:(p,u,l)=>{l.d(u,{B:()=>M});var c=l(177),t=l(3953),d=l(6134),_=l(6903),m=l(9490);const f=["*","*"];function g(o,r){}function b(o,r){if(1&o){const n=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.submit(i))}),t.EFF(1),t.k0s()}if(2&o){const n=t.XpG(2).$implicit;t.R7$(),t.JRh(n.title)}}function h(o,r){if(1&o){const n=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.submit(i))}),t.EFF(1),t.k0s()}if(2&o){const n=t.XpG(2).$implicit;t.R7$(),t.JRh(n.title)}}function x(o,r){if(1&o){const n=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.submit(i))}),t.EFF(1),t.k0s()}if(2&o){const n=t.XpG(2).$implicit;t.R7$(),t.JRh(n.title)}}function v(o,r){if(1&o&&t.DNE(0,b,2,1,"button",19)(1,h,2,1,"button",20)(2,x,2,1,"button",21),2&o){const n=t.XpG().$implicit,e=t.XpG();t.Y8G("ngIf",n.action==e.create&&(null==e.forms||e.actualStep==e.forms.length-1)),t.R7$(),t.Y8G("ngIf",n.action==e.edit&&(null==e.forms||e.actualStep==e.forms.length-1)),t.R7$(),t.Y8G("ngIf",n.action==e.delete&&(null==e.forms||e.actualStep==e.forms.length-1))}}function w(o,r){1&o&&t.SdG(0,0,["*ngFor","let action of actions"],v,3,3)}function y(o,r){if(1&o){const n=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(n);const i=t.XpG(4);return t.Njj(i.toggleNext())}),t.EFF(1," Siguiente Paso "),t.k0s()}}function C(o,r){if(1&o){const n=t.RV6();t.j41(0,"div",26)(1,"button",27),t.bIt("click",function(){t.eBV(n);const i=t.XpG(3);return t.Njj(i.togglePrev())}),t.EFF(2," Paso Previo "),t.k0s(),t.DNE(3,y,2,0,"button",28),t.k0s()}if(2&o){const n=t.XpG(3);t.R7$(3),t.Y8G("ngIf",n.actualStep!=n.forms.length-1)}}function k(o,r){if(1&o&&t.DNE(0,C,4,1,"div",25),2&o){const n=t.XpG(2);t.Y8G("ngIf",n.forms.length>1)}}function j(o,r){1&o&&t.SdG(0,1,["*ngIf","forms && forms.length > 0  "],k,1,1)}let F=(()=>{class o{constructor(n,e){this.elementRef=n,this.iconRegistry=e,this.delete=m.X.Delete,this.edit=m.X.Update,this.create=m.X.Create,this.actualStep=0,this.title="Agregar Elemento",this.iconPath="assets/icons/heroicons/outline/plus.svg",this.size="md",this.actions=[{action:m.X.Create,title:"Agregar"}],this.closeEvent=new t.bkB,this.submitEvent=new t.bkB,this.cdr=(0,t.WQX)(t.gRc)}ngOnInit(){}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(n){this.elementRef.nativeElement.remove(),this.submitEvent.emit({form:this.forms,data:this.data,action:n})}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const n=this.dcWrapper.viewContainerRef;n.clear();const e=n.createComponent(this.component);e.instance.forms=this.forms,e.instance.data=this.data,e.instance.onCreateModal?.subscribe({next:i=>{this.listenerFromChild=i}}),this.cdr.detectChanges()}toggleNext(){const{actualStep:e}=this.listenerFromChild?.onNext();this.actualStep=e,this.cdr.detectChanges()}togglePrev(){const{actualStep:e}=this.listenerFromChild?.onPrev();this.actualStep=e,this.cdr.detectChanges()}static#t=this.\u0275fac=function(e){return new(e||o)(t.rXU(t.aKT),t.rXU(d.it))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-modal"]],viewQuery:function(e,i){if(1&e&&t.GBs(_.l,5),2&e){let s;t.mGM(s=t.lsd())&&(i.dcWrapper=s.first)}},inputs:{title:"title",iconPath:"iconPath",size:"size",forms:"forms",data:"data",actions:"actions",component:"component"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!0,features:[t.aNF],ngContentSelectors:f,decls:22,vars:4,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"relative","z-10"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"fixed","inset-0","z-10","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"relative","w-full","max-w-4xl","transform","overflow-hidden","rounded-lg","bg-card","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-4xl"],[1,"bg-card","px-2","pb-2","pt-5","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"relative","w-full","mt-3","text-center","sm:ml-4"],[1,"flex","w-full","text-start","flex-row","gap-2","pr-8","items-start","justify-start"],[1,"flex","flex-row","h-6","w-fit","flex-shrink-0","items-center","justify-start","rounded-full","bg-primary","mx-0"],["alt","",1,"h-6","w-6","text-white",3,"src"],["id","modal-title",1,"text-base","leading-6","font-semibold","text-foreground","text-bold"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"mt-5"],["dcWrapper","","id","item"],[1,"flex","flex-col","bg-background","gap-2","px-4","py-3","sm:flex","md:flex-row-reverse","sm:px-6"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["type","button","class","inline-flex w-full justify-center rounded-md bg-primary px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md bg-blue-700 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md  bg-red-600 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-primary","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-700","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["class","flex flex-col-reverse w-full md:flex-row md:w-fit items-center justify-center  gap-1 px-1 ",4,"ngIf"],[1,"flex","flex-col-reverse","w-full","md:flex-row","md:w-fit","items-center","justify-center","gap-1","px-1"],[1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["class","inline-flex w-full justify-center rounded-md bg-background px-3 py-2 text-sm font-semibold text-foreground shadow-sm ring-1 ring-inset ring-foreground hover:bg-card sm:mt-0 sm:w-auto ",3,"click",4,"ngIf"]],template:function(e,i){1&e&&(t.NAR(f),t.j41(0,"div",0),t.nrm(1,"div",1),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),t.nrm(10,"svg-icon",10),t.k0s(),t.j41(11,"h3",11),t.EFF(12),t.k0s(),t.j41(13,"div",12),t.bIt("click",function(){return i.close()}),t.EFF(14," X "),t.k0s()(),t.j41(15,"div",13),t.DNE(16,g,0,0,"ng-template",14),t.k0s()()()(),t.j41(17,"div",15),t.DNE(18,w,2,0,"ng-content",16)(19,j,2,0,"ng-content",17),t.j41(20,"button",18),t.bIt("click",function(){return i.close()}),t.EFF(21,"Cancelar"),t.k0s()()()()()()),2&e&&(t.R7$(10),t.Y8G("src",i.iconPath),t.R7$(2),t.JRh(i.title),t.R7$(6),t.Y8G("ngForOf",i.actions),t.R7$(),t.Y8G("ngIf",i.forms&&i.forms.length>0))},dependencies:[c.MD,c.Sq,c.bT,d.DM,_.l],encapsulation:2})}return o})();var R=l(1413);let M=(()=>{class o{constructor(n,e,i){this.resolver=n,this.injector=e,this.document=i}open(n,e){const s=this.resolver.resolveComponentFactory(F).create(this.injector),a=s.instance;return a.title=e?.title,a.size=e?.size||"md",a.forms=e.forms,a.data=e.data,a.iconPath=e?.icon||"assets/icons/heroicons/outline/plus.svg",a.actions=e?.actions||[{action:m.X.Create,title:"Realizar"}],this.resolver.resolveComponentFactory(n).create(this.injector),a.component=n,a.closeEvent.subscribe(()=>{this.closeModal()}),a.submitEvent.subscribe(E=>{this.submitModal(E)}),s.hostView.detectChanges(),this.document.body.appendChild(s.location.nativeElement),s.hostView.detectChanges(),this.modalNotifier=new R.B,this.modalNotifier.asObservable()}closeModal(){this.modalNotifier?.complete()}submitModal(n){this.modalNotifier?.next(n),this.closeModal()}static#t=this.\u0275fac=function(e){return new(e||o)(t.KVO(t.OM3),t.KVO(t.zZn),t.KVO(c.qQ))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);